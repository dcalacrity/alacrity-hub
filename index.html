<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

 

    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, maximum-scale=5.0">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#030508">
    <title>DC ALACRITY | Ultimate Production Command System</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700;800;900&family=Bebas+Neue&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    <style>
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           DC ALACRITY ULTIMATE V7 - COMPLETE PRODUCTION COMMAND SYSTEM
           Futuristic Luxury Minimalist Design with Professional PDF Exports
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */



        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           PRODUCTION LIBRARY SYSTEM - ADVANCED CLOUD MANAGEMENT
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .production-search {
            flex: 1;
            max-width: 400px;
            position: relative;
            min-width: 250px;
        }

        .production-filter {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 10px 20px;
            background: rgba(34, 211, 238, 0.1);
            border: 1px solid rgba(34, 211, 238, 0.3);
            border-radius: 8px;
            color: var(--text-70);
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }

        .filter-btn:hover, .filter-btn.active {
            background: rgba(34, 211, 238, 0.25);
            border-color: var(--neon-cyan);
            color: var(--neon-cyan);
        }

        .production-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 24px;
        }

        .production-card {
            background: linear-gradient(145deg, #1a1a1a 0%, #0f0f0f 100%);
            border: 2px solid rgba(34, 211, 238, 0.2);
            border-radius: 16px;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
        }

        .production-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(34, 211, 238, 0.1) 0%, transparent 50%);
            opacity: 0;
            transition: opacity 0.4s;
        }

        .production-card:hover {
            border-color: var(--neon-cyan);
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6), 0 0 30px rgba(34, 211, 238, 0.3);
        }

        .production-card:hover::before {
            opacity: 1;
        }

        .production-card-header {
            padding: 24px;
            border-bottom: 1px solid rgba(34, 211, 238, 0.2);
            position: relative;
            z-index: 1;
        }

        .production-card-type {
            display: inline-block;
            padding: 4px 12px;
            background: rgba(34, 211, 238, 0.2);
            border: 1px solid rgba(34, 211, 238, 0.4);
            border-radius: 6px;
            font-size: 11px;
            font-weight: 700;
            color: var(--neon-cyan);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 12px;
        }

        .production-card-name {
            font-family: var(--font-display);
            font-size: 22px;
            font-weight: 700;
            color: var(--text-100);
            margin: 0 0 6px 0;
            letter-spacing: 1px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .production-card-date {
            color: var(--text-50);
            font-size: 12px;
            font-family: var(--font-mono);
        }

        .production-card-body {
            padding: 20px 24px;
            position: relative;
            z-index: 1;
        }

        .production-card-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }

        .production-stat {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-70);
            font-size: 12px;
        }

        .production-stat-icon {
            font-size: 16px;
        }

        .production-stat-value {
            color: var(--neon-cyan);
            font-weight: 700;
        }

        .production-card-description {
            color: var(--text-60);
            font-size: 13px;
            line-height: 1.6;
            margin-bottom: 16px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .production-card-footer {
            padding: 16px 24px;
            border-top: 1px solid rgba(34, 211, 238, 0.1);
            display: flex;
            gap: 8px;
            position: relative;
            z-index: 1;
        }

        .production-card-btn {
            flex: 1;
            padding: 10px 16px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            border: none;
        }

        .production-card-btn-load {
            background: linear-gradient(135deg, var(--neon-cyan) 0%, var(--neon-cyan-dim) 100%);
            color: #000;
        }

        .production-card-btn-load:hover {
            box-shadow: 0 4px 20px rgba(34, 211, 238, 0.5);
            transform: translateY(-2px);
        }

        .production-card-btn-delete {
            background: rgba(244, 63, 94, 0.15);
            border: 1px solid rgba(244, 63, 94, 0.4);
            color: var(--neon-rose);
        }

        .production-card-btn-delete:hover {
            background: rgba(244, 63, 94, 0.3);
            border-color: var(--neon-rose);
        }

        .production-empty {
            text-align: center;
            padding: 80px 20px;
        }

        .production-empty-icon {
            font-size: 80px;
            margin-bottom: 24px;
            opacity: 0.3;
        }

        .production-empty-title {
            font-family: var(--font-display);
            font-size: 28px;
            color: var(--text-70);
            margin: 0 0 12px 0;
            letter-spacing: 2px;
        }

        .production-empty-subtitle {
            color: var(--text-50);
            font-size: 14px;
        }

        .production-create-new {
            margin-top: 32px;
        }

        .production-create-new-btn {
            padding: 16px 40px;
            background: linear-gradient(135deg, var(--neon-cyan) 0%, var(--neon-cyan-dim) 100%);
            border: none;
            border-radius: 12px;
            color: #000;
            font-size: 14px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .production-create-new-btn:hover {
            box-shadow: 0 8px 32px rgba(34, 211, 238, 0.6);
            transform: translateY(-4px);
        }

        .production-storage-indicator {
            padding: 12px 20px;
            background: rgba(34, 211, 238, 0.08);
            border: 1px solid rgba(34, 211, 238, 0.2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 12px;
            color: var(--text-70);
            margin-left: auto;
        }

        .production-storage-indicator strong {
            color: var(--neon-cyan);
            font-weight: 700;
        }

        .popup-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(8px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 999999;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

            .popup-overlay.active {
                display: flex;
                opacity: 1;
            }

        .popup {
            background: linear-gradient(145deg, #1a1a1a 0%, #0f0f0f 100%);
            border: 2px solid var(--neon-cyan);
            border-radius: 16px;
            max-width: 600px;
            width: 90%;
            max-height: 85vh;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.9), 0 0 40px rgba(34, 211, 238, 0.3);
            position: relative;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .popup-overlay.active .popup {
            transform: scale(1);
        }

        .popup-header {
            padding: 24px 28px;
            border-bottom: 1px solid rgba(34, 211, 238, 0.3);
            background: linear-gradient(180deg, rgba(34, 211, 238, 0.08) 0%, transparent 100%);
        }

        .popup-title {
            font-family: var(--font-display);
            font-size: 28px;
            font-weight: 700;
            color: var(--neon-cyan);
            margin: 0 0 6px 0;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .popup-subtitle {
            color: var(--text-50);
            font-size: 13px;
        }

        .popup-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(244, 63, 94, 0.2);
            border: 1px solid rgba(244, 63, 94, 0.5);
            color: var(--neon-rose);
            width: 36px;
            height: 36px;
            border-radius: 8px;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

            .popup-close:hover {
                background: rgba(244, 63, 94, 0.4);
                border-color: var(--neon-rose);
            }

        .popup-body {
            padding: 28px;
            max-height: calc(85vh - 180px);
            overflow-y: auto;
        }

            .popup-body::-webkit-scrollbar {
                width: 10px;
            }

            .popup-body::-webkit-scrollbar-track {
                background: rgba(10, 10, 10, 0.5);
                border-radius: 10px;
            }

            .popup-body::-webkit-scrollbar-thumb {
                background: var(--neon-cyan);
                border-radius: 10px;
            }

                .popup-body::-webkit-scrollbar-thumb:hover {
                    background: var(--neon-cyan-dim);
                }

        .form-field {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: var(--neon-cyan);
            font-weight: 600;
            font-size: 13px;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        .form-required {
            color: var(--neon-rose);
            margin-left: 4px;
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            background: rgba(10, 15, 30, 0.6);
            border: 2px solid rgba(34, 211, 238, 0.3);
            border-radius: 8px;
            padding: 12px 16px;
            font-family: var(--font-sans);
            font-size: 15px;
            color: var(--text-90);
            transition: all 0.3s;
            outline: none;
        }

            .form-input::placeholder, .form-textarea::placeholder {
                color: var(--text-30);
            }

            .form-input:hover, .form-textarea:hover, .form-select:hover {
                border-color: rgba(34, 211, 238, 0.5);
                background: rgba(10, 15, 30, 0.8);
            }

            .form-input:focus, .form-textarea:focus, .form-select:focus {
                border-color: var(--neon-cyan);
                background: rgba(10, 15, 30, 0.9);
                box-shadow: 0 0 0 4px rgba(34, 211, 238, 0.15);
            }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
            font-family: var(--font-mono);
            line-height: 1.6;
        }

        .form-select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L6 6L11 1' stroke='%2322d3ee' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
            padding-right: 40px;
        }

            .form-select option {
                background: #0a0a0a;
                color: var(--text-90);
            }

        .popup-footer {
            padding: 20px 28px;
            border-top: 1px solid rgba(34, 211, 238, 0.3);
            background: rgba(10, 10, 10, 0.5);
            display: flex;
            gap: 12px;
            justify-content: flex-end;
        }

        .popup-btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .popup-btn-cancel {
            background: rgba(163, 163, 163, 0.2);
            color: var(--text-50);
            border: 1px solid rgba(163, 163, 163, 0.3);
        }

            .popup-btn-cancel:hover {
                background: rgba(163, 163, 163, 0.3);
                color: var(--text-90);
            }

        .popup-btn-submit {
            background: var(--neon-cyan);
            color: #000;
        }

            .popup-btn-submit:hover {
                background: var(--neon-cyan-dim);
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(34, 211, 238, 0.4);
            }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        :root {
            /* â”€â”€â”€ REFINED DARK PALETTE â”€â”€â”€ */
            --void-pure: #000000;
            --void-deep: #0a0a0a;
            --void-soft: #121212;
            --surface-1: #1a1a1a;
            --surface-2: #1f1f1f;
            --surface-3: #262626;
            --surface-4: #2e2e2e;
            /* â”€â”€â”€ ACCENT COLORS (More Refined) â”€â”€â”€ */
            --neon-cyan: #22d3ee;
            --neon-cyan-dim: #06b6d4;
            --neon-violet: #a78bfa;
            --neon-violet-dim: #8b5cf6;
            --neon-gold: #fbbf24;
            --neon-emerald: #10b981;
            --neon-rose: #f43f5e;
            --neon-blue: #60a5fa;
            --neon-pink: #ec4899;
            --neon-orange: #fb923c;
            /* â”€â”€â”€ MODE COLORS â”€â”€â”€ */
            --mode-demo: #fb923c;
            --mode-cloud: #10b981;
            --mode-global: #a78bfa;
            --mode-production: #22d3ee;
            /* â”€â”€â”€ TEXT HIERARCHY (Improved Contrast) â”€â”€â”€ */
            --text-100: #ffffff;
            --text-90: #f5f5f5;
            --text-70: #a3a3a3;
            --text-50: #737373;
            --text-30: #525252;
            /* â”€â”€â”€ BORDERS & EFFECTS (Cleaner) â”€â”€â”€ */
            --border-subtle: rgba(255, 255, 255, 0.06);
            --border-default: rgba(255, 255, 255, 0.1);
            --border-strong: rgba(255, 255, 255, 0.15);
            --glass-bg: rgba(26, 26, 26, 0.8);
            --glass-border: rgba(255, 255, 255, 0.08);
            /* â”€â”€â”€ TYPOGRAPHY â”€â”€â”€ */
            --font-display: 'Bebas Neue', sans-serif;
            --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-tech: 'Space Grotesk', sans-serif;
            --font-mono: 'JetBrains Mono', monospace;
            /* â”€â”€â”€ SHADOWS â”€â”€â”€ */
            --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);
            --shadow-glow-cyan: 0 0 40px rgba(0, 240, 255, 0.15);
            --shadow-glow-rose: 0 0 40px rgba(244, 63, 94, 0.3);
            /* â”€â”€â”€ TIMING â”€â”€â”€ */
            --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
            /* â”€â”€â”€ SPACING â”€â”€â”€ */
            --space-xs: 4px;
            --space-sm: 8px;
            --space-md: 16px;
            --space-lg: 24px;
            --space-xl: 32px;
            --space-2xl: 48px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RESET & BASE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            -webkit-font-smoothing: antialiased;
        }

        body {
            font-family: var(--font-sans);
            background: var(--void-pure);
            color: var(--text-90);
            line-height: 1.5;
            overflow: hidden;
            height: 100vh;
        }

            body::before {
                content: '';
                position: fixed;
                inset: 0;
                background: radial-gradient(ellipse 80% 50% at 50% -20%, rgba(0, 240, 255, 0.03), transparent), radial-gradient(ellipse 60% 40% at 100% 100%, rgba(168, 85, 247, 0.02), transparent);
                pointer-events: none;
                z-index: 0;
            }

            body::after {
                content: '';
                position: fixed;
                inset: 0;
                background-image: linear-gradient(rgba(255, 255, 255, 0.01) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.01) 1px, transparent 1px);
                background-size: 60px 60px;
                pointer-events: none;
                z-index: 0;
                opacity: 0.5;
            }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸš€ LUXURY FUTURISTIC POPUP SYSTEM - SPECTACULAR EDITION ğŸš€
           Lightning Effects | Particle Animations | Holographic Borders | 3D Transforms
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        /* Core Animations */
        @keyframes float {
            0%, 100% {
                transform: translateY(0) translateX(0);
            }

            33% {
                transform: translateY(-20px) translateX(10px);
            }

            66% {
                transform: translateY(-10px) translateX(-10px);
            }
        }

        @keyframes pulse-glow {
            0%, 100% {
                opacity: 0.4;
                transform: scale(1);
            }

            50% {
                opacity: 1;
                transform: scale(1.08);
            }
        }

        @keyframes lightning-flash {
            0%, 100% {
                opacity: 0;
            }

            10%, 30%, 50% {
                opacity: 1;
            }

            20%, 40% {
                opacity: 0.2;
            }
        }

        @keyframes holographic-shift {
            0% {
                background-position: 0% 0%;
                filter: hue-rotate(0deg);
            }

            50% {
                background-position: 100% 100%;
                filter: hue-rotate(20deg);
            }

            100% {
                background-position: 0% 0%;
                filter: hue-rotate(0deg);
            }
        }

        @keyframes scanline {
            0% {
                transform: translateX(-100%);
            }

            100% {
                transform: translateX(100%);
            }
        }

        @keyframes border-glow {
            0%, 100% {
                box-shadow: 0 0 20px rgba(34, 211, 238, 0.3), 0 0 40px rgba(168, 85, 247, 0.2);
            }

            50% {
                box-shadow: 0 0 40px rgba(34, 211, 238, 0.6), 0 0 80px rgba(168, 85, 247, 0.4);
            }
        }

        /* Popup Overlay - Dynamic Particle Background */
        .luxury-popup-overlay {
            position: fixed;
            inset: 0;
            background: radial-gradient(ellipse at center, rgba(5, 15, 35, 0.96), rgba(0, 0, 0, 0.99));
            backdrop-filter: blur(25px) saturate(180%);
            z-index: 10000;
            display: none;
            opacity: 0;
            transition: opacity 0.7s cubic-bezier(0.16, 1, 0.3, 1);
        }

            .luxury-popup-overlay::before {
                content: '';
                position: absolute;
                inset: 0;
                background: radial-gradient(circle at 20% 30%, rgba(34, 211, 238, 0.12) 0%, transparent 50%), radial-gradient(circle at 80% 70%, rgba(168, 85, 247, 0.12) 0%, transparent 50%), radial-gradient(circle at 50% 50%, rgba(244, 63, 94, 0.08) 0%, transparent 50%);
                animation: pulse-glow 5s ease-in-out infinite;
            }

            .luxury-popup-overlay::after {
                content: '';
                position: absolute;
                inset: 0;
                background-image: radial-gradient(circle, rgba(34, 211, 238, 0.5) 1px, transparent 1px), radial-gradient(circle, rgba(168, 85, 247, 0.4) 1px, transparent 1px);
                background-size: 60px 60px, 90px 90px;
                background-position: 0 0, 45px 45px;
                animation: float 25s ease-in-out infinite;
                opacity: 0.4;
            }

            .luxury-popup-overlay.active {
                display: flex;
                align-items: center;
                justify-content: center;
                animation: overlayFadeIn 0.7s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            }

        @keyframes overlayFadeIn {
            to {
                opacity: 1;
            }
        }

        /* Main Popup - Holographic 3D Card */
        .luxury-popup {
            position: relative;
            background: linear-gradient(145deg, rgba(10, 15, 30, 0.96) 0%, rgba(5, 10, 20, 0.99) 100%);
            border: 3px solid transparent;
            border-radius: 28px;
            box-shadow: 0 60px 120px rgba(0, 0, 0, 0.95), 0 0 0 1px rgba(34, 211, 238, 0.25) inset, 0 0 100px rgba(34, 211, 238, 0.4), 0 0 60px rgba(168, 85, 247, 0.3);
            max-width: 700px;
            width: 94%;
            max-height: 88vh;
            overflow: hidden;
            transform: scale(0.8) translateY(50px) rotateX(10deg);
            opacity: 0;
            animation: spectacularEntry 1s cubic-bezier(0.16, 1, 0.3, 1) 0.15s forwards;
            perspective: 1200px;
        }

        @keyframes spectacularEntry {
            0% {
                transform: scale(0.75) translateY(60px) rotateX(15deg);
                opacity: 0;
                filter: blur(12px);
            }

            50% {
                transform: scale(1.05) translateY(-12px) rotateX(-4deg);
                opacity: 1;
                filter: blur(0px);
            }

            75% {
                transform: scale(0.98) translateY(4px) rotateX(1deg);
            }

            100% {
                transform: scale(1) translateY(0) rotateX(0deg);
                opacity: 1;
                filter: blur(0px);
            }
        }

        /* Animated Holographic Border */
        .luxury-popup::before {
            content: '';
            position: absolute;
            inset: -3px;
            background: linear-gradient(45deg, transparent 25%, rgba(34, 211, 238, 0.9) 40%, rgba(168, 85, 247, 0.9) 60%, transparent 75%);
            background-size: 400% 400%;
            border-radius: 28px;
            animation: holographic-shift 4s ease-in-out infinite, border-glow 3s ease-in-out infinite;
            z-index: -1;
            opacity: 0.7;
        }

        /* Lightning Flash Effect */
        .luxury-popup::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(110deg, transparent 0%, rgba(34, 211, 238, 0.4) 45%, rgba(255, 255, 255, 0.6) 50%, rgba(168, 85, 247, 0.4) 55%, transparent 100%);
            background-size: 200% 200%;
            border-radius: 28px;
            opacity: 0;
            animation: lightning-flash 5s ease-in-out infinite;
            pointer-events: none;
        }

        /* Energy Grid */
        .luxury-popup-energy-grid {
            position: absolute;
            inset: 0;
            background-image: linear-gradient(rgba(34, 211, 238, 0.04) 2px, transparent 2px), linear-gradient(90deg, rgba(34, 211, 238, 0.04) 2px, transparent 2px);
            background-size: 25px 25px;
            pointer-events: none;
            opacity: 0;
            animation: gridFadeIn 1s ease 0.5s forwards;
            z-index: 0;
        }

        @keyframes gridFadeIn {
            to {
                opacity: 1;
            }
        }

        /* Header with Scanline */
        .luxury-popup-header {
            position: relative;
            padding: 40px 32px 24px;
            border-bottom: 2px solid rgba(34, 211, 238, 0.3);
            background: linear-gradient(180deg, rgba(34, 211, 238, 0.1) 0%, transparent 100%);
            overflow: hidden;
            z-index: 1;
        }

            .luxury-popup-header::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                right: -100%;
                height: 4px;
                background: linear-gradient(90deg, transparent 0%, rgba(34, 211, 238, 0.6) 30%, rgba(34, 211, 238, 1) 50%, rgba(168, 85, 247, 1) 50%, rgba(168, 85, 247, 0.6) 70%, transparent 100%);
                animation: scanline 4s ease-in-out infinite;
            }

            .luxury-popup-header::after {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 100%;
                background: radial-gradient(ellipse at top, rgba(34, 211, 238, 0.18), transparent 70%);
                animation: pulse-glow 4s ease-in-out infinite;
            }

        /* Epic Title */
        .luxury-popup-title {
            font-family: var(--font-display);
            font-size: 48px;
            letter-spacing: 4px;
            color: #fff;
            margin: 0 0 10px 0;
            text-transform: uppercase;
            background: linear-gradient(135deg, rgba(34, 211, 238, 1) 0%, rgba(96, 165, 250, 1) 25%, rgba(168, 85, 247, 1) 60%, rgba(236, 72, 153, 1) 100%);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: titleEpic 1s cubic-bezier(0.16, 1, 0.3, 1) 0.4s both, holographic-shift 5s ease-in-out infinite;
            filter: drop-shadow(0 0 30px rgba(34, 211, 238, 0.6));
            position: relative;
            z-index: 2;
        }

        @keyframes titleEpic {
            0% {
                opacity: 0;
                transform: translateY(-30px) scale(0.85);
                filter: blur(15px) drop-shadow(0 0 30px rgba(34, 211, 238, 0.6));
            }

            70% {
                transform: translateY(3px) scale(1.05);
            }

            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
                filter: blur(0) drop-shadow(0 0 30px rgba(34, 211, 238, 0.6));
            }
        }

        /* Subtitle */
        .luxury-popup-subtitle {
            font-family: var(--font-mono);
            font-size: 13px;
            letter-spacing: 2.5px;
            color: rgba(34, 211, 238, 0.8);
            text-transform: uppercase;
            animation: subtitleSlide 1s cubic-bezier(0.16, 1, 0.3, 1) 0.6s both;
            position: relative;
            z-index: 2;
            text-shadow: 0 0 12px rgba(34, 211, 238, 0.4);
        }

        @keyframes subtitleSlide {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Close Button - Rotating */
        .luxury-popup-close {
            position: absolute;
            top: 24px;
            right: 24px;
            width: 52px;
            height: 52px;
            border-radius: 14px;
            background: rgba(10, 10, 25, 0.9);
            border: 3px solid rgba(244, 63, 94, 0.4);
            color: rgba(244, 63, 94, 0.8);
            font-size: 28px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            opacity: 0;
            animation: closeButtonRotate 0.8s ease 0.7s forwards;
            z-index: 3;
            box-shadow: 0 0 25px rgba(244, 63, 94, 0.3);
        }

        @keyframes closeButtonRotate {
            0% {
                opacity: 0;
                transform: rotate(-180deg) scale(0);
            }

            70% {
                transform: rotate(10deg) scale(1.15);
            }

            100% {
                opacity: 1;
                transform: rotate(0deg) scale(1);
            }
        }

        .luxury-popup-close:hover {
            background: rgba(244, 63, 94, 0.25);
            border-color: rgba(244, 63, 94, 1);
            color: #fff;
            transform: rotate(90deg) scale(1.15);
            box-shadow: 0 0 50px rgba(244, 63, 94, 0.7);
        }

        /* Popup Body */
        .luxury-popup-body {
            padding: 32px;
            max-height: calc(88vh - 300px);
            overflow-y: auto;
            overflow-x: hidden;
            position: relative;
            z-index: 1;
        }

            .luxury-popup-body::-webkit-scrollbar {
                width: 12px;
            }

            .luxury-popup-body::-webkit-scrollbar-track {
                background: rgba(10, 10, 25, 0.6);
                border-radius: 12px;
                border: 1px solid rgba(34, 211, 238, 0.15);
            }

            .luxury-popup-body::-webkit-scrollbar-thumb {
                background: linear-gradient(180deg, rgba(34, 211, 238, 0.7), rgba(168, 85, 247, 0.7));
                border-radius: 12px;
                border: 2px solid rgba(10, 10, 25, 0.6);
            }

                .luxury-popup-body::-webkit-scrollbar-thumb:hover {
                    background: linear-gradient(180deg, rgba(34, 211, 238, 1), rgba(168, 85, 247, 1));
                    box-shadow: 0 0 15px rgba(34, 211, 238, 0.6);
                }


            /* Two-column layout for scene/take fields */
            .luxury-popup-body .luxury-form-field:nth-child(1),
            .luxury-popup-body .luxury-form-field:nth-child(2) {
                display: inline-block;
                width: calc(50% - 10px);
                margin-right: 20px;
            }

            .luxury-popup-body .luxury-form-field:nth-child(2) {
                margin-right: 0;
            }

        /* Form Fields - Cascading Entry */
        .luxury-form-field {
            margin-bottom: 28px;
            opacity: 0;
            animation: fieldCascade 0.7s cubic-bezier(0.16, 1, 0.3, 1) both;
            position: relative;
        }

            .luxury-form-field::before {
                content: '';
                position: absolute;
                left: -12px;
                top: 0;
                bottom: 0;
                width: 4px;
                background: linear-gradient(180deg, transparent, rgba(34, 211, 238, 0.7), transparent);
                opacity: 0;
                border-radius: 2px;
                transition: opacity 0.4s ease;
            }

            .luxury-form-field:focus-within::before {
                opacity: 1;
                animation: pulse-glow 2.5s ease-in-out infinite;
            }

            .luxury-form-field:nth-child(1) {
                animation-delay: 0.4s;
            }

            .luxury-form-field:nth-child(2) {
                animation-delay: 0.48s;
            }

            .luxury-form-field:nth-child(3) {
                animation-delay: 0.56s;
            }

            .luxury-form-field:nth-child(4) {
                animation-delay: 0.64s;
            }

            .luxury-form-field:nth-child(5) {
                animation-delay: 0.72s;
            }

            .luxury-form-field:nth-child(6) {
                animation-delay: 0.8s;
            }

            .luxury-form-field:nth-child(7) {
                animation-delay: 0.88s;
            }

            .luxury-form-field:nth-child(8) {
                animation-delay: 0.96s;
            }

            .luxury-form-field:nth-child(9) {
                animation-delay: 1.04s;
            }

            .luxury-form-field:nth-child(10) {
                animation-delay: 1.12s;
            }

        @keyframes fieldCascade {
            0% {
                opacity: 0;
                transform: translateX(-40px) translateY(15px);
                filter: blur(8px);
            }

            70% {
                transform: translateX(4px) translateY(-3px);
            }

            100% {
                opacity: 1;
                transform: translateX(0) translateY(0);
                filter: blur(0);
            }
        }

        /* Labels with Glow */
        .luxury-form-label {
            display: block;
            font-family: var(--font-mono);
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 2.5px;
            text-transform: uppercase;
            color: rgba(34, 211, 238, 0.9);
            margin-bottom: 10px;
            text-shadow: 0 0 12px rgba(34, 211, 238, 0.35);
        }

            .luxury-form-label .required {
                color: rgba(244, 63, 94, 1);
                margin-left: 5px;
                animation: pulse-glow 2.5s ease-in-out infinite;
            }

        /* Inputs with Focus Glow */
        .luxury-form-input, .luxury-form-textarea, .luxury-form-select {
            width: 100%;
            background: rgba(10, 15, 30, 0.7);
            border: 2px solid rgba(34, 211, 238, 0.25);
            border-radius: 14px;
            padding: 18px 20px;
            font-family: var(--font-sans);
            font-size: 16px;
            color: var(--text-90);
            transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            outline: none;
            box-shadow: 0 0 0 0 rgba(34, 211, 238, 0);
        }

            .luxury-form-input:focus, .luxury-form-textarea:focus, .luxury-form-select:focus {
                background: rgba(15, 20, 40, 0.9);
                border-color: rgba(34, 211, 238, 1);
                box-shadow: 0 0 0 5px rgba(34, 211, 238, 0.2), 0 0 40px rgba(34, 211, 238, 0.4), 0 10px 25px rgba(0, 0, 0, 0.5);
                transform: translateY(-3px);
            }

        .luxury-form-textarea {
            min-height: 130px;
            resize: vertical;
            font-family: var(--font-mono);
            font-size: 15px;
            line-height: 1.8;
        }

        .luxury-form-select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg width='16' height='10' viewBox='0 0 16 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L8 8L15 1' stroke='%2322d3ee' stroke-width='3' stroke-linecap='round'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 20px center;
            padding-right: 55px;
        }

            .luxury-form-select option {
                background: rgba(10, 15, 30, 1);
                color: var(--text-90);
                padding: 12px;
            }

        /* Field Groups */
        .luxury-field-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        /* Footer */
        .luxury-popup-footer {
            padding: 24px 32px 32px;
            border-top: 2px solid rgba(34, 211, 238, 0.3);
            background: linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.5) 100%);
            display: flex;
            gap: 16px;
            justify-content: flex-end;
            position: relative;
            z-index: 1;
        }

        /* Epic Buttons */
        .luxury-btn {
            padding: 18px 45px;
            border-radius: 14px;
            font-family: var(--font-mono);
            font-size: 14px;
            font-weight: 700;
            letter-spacing: 2.5px;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            border: 3px solid transparent;
            position: relative;
            overflow: hidden;
        }

            .luxury-btn::before {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                width: 0;
                height: 0;
                border-radius: 50%;
                background: rgba(255, 255, 255, 0.25);
                transform: translate(-50%, -50%);
                transition: width 0.7s cubic-bezier(0.16, 1, 0.3, 1), height 0.7s cubic-bezier(0.16, 1, 0.3, 1);
            }

            .luxury-btn:hover::before {
                width: 500px;
                height: 500px;
            }

            .luxury-btn span {
                position: relative;
                z-index: 1;
            }

        .luxury-btn-primary {
            background: linear-gradient(135deg, rgba(34, 211, 238, 1) 0%, rgba(168, 85, 247, 1) 100%);
            background-size: 250% 250%;
            color: rgba(0, 0, 0, 0.95);
            box-shadow: 0 10px 35px rgba(34, 211, 238, 0.5), 0 0 50px rgba(168, 85, 247, 0.35);
            animation: holographic-shift 4s ease-in-out infinite;
            border: 3px solid rgba(255, 255, 255, 0.25);
        }

            .luxury-btn-primary:hover {
                transform: translateY(-4px) scale(1.03);
                box-shadow: 0 15px 50px rgba(34, 211, 238, 0.7), 0 0 80px rgba(168, 85, 247, 0.6);
            }

        .luxury-btn-secondary {
            background: rgba(10, 15, 30, 0.7);
            color: rgba(34, 211, 238, 1);
            border: 3px solid rgba(34, 211, 238, 0.4);
            box-shadow: 0 0 25px rgba(34, 211, 238, 0.25);
        }

            .luxury-btn-secondary:hover {
                background: rgba(34, 211, 238, 0.15);
                border-color: rgba(34, 211, 238, 1);
                transform: translateY(-4px);
                box-shadow: 0 0 40px rgba(34, 211, 238, 0.5);
            }

        /* EPIC Success Animation */
        .luxury-success-indicator {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            width: 140px;
            height: 140px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(16, 185, 129, 1), rgba(34, 211, 238, 1));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 70px;
            color: white;
            box-shadow: 0 0 100px rgba(16, 185, 129, 0.9), 0 0 60px rgba(34, 211, 238, 0.7);
            z-index: 10002;
            opacity: 0;
            border: 5px solid rgba(255, 255, 255, 0.4);
        }

            .luxury-success-indicator::before {
                content: '';
                position: absolute;
                inset: -30px;
                border-radius: 50%;
                border: 4px solid rgba(16, 185, 129, 0.6);
                animation: successRipple 1.2s ease-out;
            }

        @keyframes successRipple {
            0% {
                inset: -30px;
                opacity: 1;
            }

            100% {
                inset: -100px;
                opacity: 0;
            }
        }

        .luxury-success-indicator.show {
            animation: successEpic 1.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        @keyframes successEpic {
            0% {
                transform: translate(-50%, -50%) scale(0) rotate(0deg);
                opacity: 0;
            }

            35% {
                transform: translate(-50%, -50%) scale(1.4) rotate(200deg);
                opacity: 1;
            }

            65% {
                transform: translate(-50%, -50%) scale(0.85) rotate(380deg);
            }

            85% {
                transform: translate(-50%, -50%) scale(1.1) rotate(360deg);
            }

            100% {
                transform: translate(-50%, -50%) scale(1) rotate(360deg);
                opacity: 1;
            }
        }

        /* Info Hint with Pulsing Icon */
        .luxury-info-hint {
            font-size: 13px;
            color: rgba(168, 85, 247, 0.75);
            font-style: italic;
            margin-top: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            padding-left: 5px;
        }

            .luxury-info-hint::before {
                content: 'â„¹';
                display: inline-flex;
                align-items: center;
                justify-content: center;
                width: 20px;
                height: 20px;
                border-radius: 50%;
                background: rgba(168, 85, 247, 0.25);
                color: rgba(168, 85, 247, 1);
                font-size: 12px;
                font-style: normal;
                box-shadow: 0 0 15px rgba(168, 85, 247, 0.4);
                animation: pulse-glow 3.5s ease-in-out infinite;
            }


        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           LOGIN OVERLAY
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .mode-banner {
            position: fixed;
            top: 0;
            left: 280px;
            right: 0;
            height: 36px;
            background: linear-gradient(90deg, var(--surface-2), var(--void-deep));
            border-bottom: 2px solid var(--border-strong);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 var(--space-lg);
            z-index: 100;
            font-family: var(--font-mono);
            font-size: 10px;
            letter-spacing: 2px;
        }

            .mode-banner.demo-mode {
                border-bottom-color: var(--mode-demo);
                background: linear-gradient(90deg, rgba(249, 115, 22, 0.08), var(--void-deep));
            }

            .mode-banner.cloud-mode {
                border-bottom-color: var(--mode-cloud);
                background: linear-gradient(90deg, rgba(16, 185, 129, 0.08), var(--void-deep));
            }

        .mode-status {
            display: flex;
            align-items: center;
            gap: var(--space-lg);
        }

        .mode-badge {
            padding: 4px 12px;
            border-radius: 4px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 9px;
        }

            .mode-badge.demo {
                background: rgba(249, 115, 22, 0.15);
                color: var(--mode-demo);
                border: 1px solid rgba(249, 115, 22, 0.3);
            }

            .mode-badge.cloud {
                background: rgba(16, 185, 129, 0.15);
                color: var(--mode-cloud);
                border: 1px solid rgba(16, 185, 129, 0.3);
            }

            .mode-badge::before {
                content: '';
                width: 6px;
                height: 6px;
                border-radius: 50%;
                background: currentColor;
                animation: pulse 2s ease-in-out infinite;
            }

        .view-indicator {
            padding: 4px 12px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 9px;
        }

            .view-indicator.global {
                background: rgba(168, 85, 247, 0.15);
                color: var(--mode-global);
                border: 1px solid rgba(168, 85, 247, 0.3);
            }

            .view-indicator.production {
                background: rgba(0, 240, 255, 0.15);
                color: var(--mode-production);
                border: 1px solid rgba(0, 240, 255, 0.3);
            }

        .logout-btn {
            padding: 4px 12px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 9px;
            background: rgba(244, 63, 94, 0.15);
            color: var(--neon-rose);
            border: 1px solid rgba(244, 63, 94, 0.3);
            cursor: pointer;
            transition: all 0.2s var(--ease-out-expo);
            font-family: var(--font-mono);
            letter-spacing: 1px;
        }

            .logout-btn:hover {
                background: rgba(244, 63, 94, 0.25);
                border-color: rgba(244, 63, 94, 0.5);
                transform: translateY(-1px);
            }

            .logout-btn:active {
                transform: translateY(0);
            }

        .budget-indicator {
            padding: 4px 12px;
            border-radius: 4px;
            font-weight: 700;
            font-size: 9px;
            display: flex;
            align-items: center;
            gap: 6px;
            letter-spacing: 1.5px;
        }

            .budget-indicator.under-budget {
                background: rgba(16, 185, 129, 0.15);
                color: var(--neon-emerald);
                border: 1px solid rgba(16, 185, 129, 0.3);
            }

            .budget-indicator.over-budget {
                background: rgba(244, 63, 94, 0.15);
                color: var(--neon-rose);
                border: 1px solid rgba(244, 63, 94, 0.3);
            }

            .budget-indicator.on-budget {
                background: rgba(0, 240, 255, 0.15);
                color: var(--neon-cyan);
                border: 1px solid rgba(0, 240, 255, 0.3);
            }

        .login-overlay {
            position: fixed;
            inset: 0;
            background: var(--void-pure);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
            overflow: hidden;
        }

            .login-overlay::before {
                content: none; /* disabled â€” cinematic bg handles this */
            }

        @keyframes pulseGlow {
            0%, 100% {
                opacity: 0.6;
                transform: scale(1);
            }

            50% {
                opacity: 1;
                transform: scale(1.05);
            }
        }

        .login-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .login-brand {
            font-family: var(--font-display);
            font-size: 96px;
            letter-spacing: 16px;
            margin-bottom: var(--space-md);
            position: relative;
            z-index: 1;
            text-shadow: 0 0 80px rgba(0, 240, 255, 0.5);
        }

            .login-brand span:first-child {
                color: var(--neon-cyan);
                animation: glowCyan 3s ease-in-out infinite;
            }

            .login-brand span:last-child {
                color: var(--text-100);
                text-shadow: 0 0 40px rgba(255, 255, 255, 0.3);
            }

        @keyframes glowCyan {
            0%, 100% {
                filter: brightness(1);
                text-shadow: 0 0 80px rgba(0, 240, 255, 0.5);
            }

            50% {
                filter: brightness(1.3);
                text-shadow: 0 0 120px rgba(0, 240, 255, 0.8);
            }
        }

        .login-tagline {
            font-family: var(--font-mono);
            font-size: 12px;
            color: var(--text-70);
            letter-spacing: 6px;
            margin-bottom: var(--space-2xl);
            position: relative;
            z-index: 1;
            text-shadow: 0 0 20px rgba(0, 240, 255, 0.3);
        }

            .login-tagline::before,
            .login-tagline::after {
                content: 'â”â”â”â”â”';
                color: var(--neon-cyan);
                margin: 0 var(--space-lg);
                opacity: 0.3;
            }

        .login-options {
            display: flex;
            gap: var(--space-2xl);
            margin-bottom: var(--space-lg);
            position: relative;
            z-index: 1;
        }

        .login-btn {
            padding: var(--space-xl) var(--space-2xl);
            border: 2px solid;
            border-radius: 16px;
            font-family: var(--font-mono);
            font-size: 14px;
            font-weight: 800;
            letter-spacing: 3px;
            cursor: pointer;
            transition: all 0.4s var(--ease-out-expo);
            min-width: 280px;
            text-align: center;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(20px);
        }

            .login-btn::before {
                content: '';
                position: absolute;
                inset: 0;
                background: linear-gradient(135deg, transparent, rgba(255, 255, 255, 0.1), transparent);
                transform: translateX(-100%);
                transition: transform 0.6s;
            }

            .login-btn:hover::before {
                transform: translateX(100%);
            }

            .login-btn:hover {
                transform: translateY(-8px) scale(1.02);
            }

            .login-btn.demo {
                background: linear-gradient(135deg, rgba(249, 115, 22, 0.15), rgba(249, 115, 22, 0.05));
                border-color: var(--mode-demo);
                color: var(--mode-demo);
                box-shadow: 0 8px 32px rgba(249, 115, 22, 0.2);
            }

                .login-btn.demo:hover {
                    background: linear-gradient(135deg, var(--mode-demo), #ea580c);
                    color: var(--void-pure);
                    box-shadow: 0 16px 64px rgba(249, 115, 22, 0.5), 0 0 80px rgba(249, 115, 22, 0.3);
                    border-color: transparent;
                }

            .login-btn.cloud {
                background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(16, 185, 129, 0.05));
                border-color: var(--mode-cloud);
                color: var(--mode-cloud);
                box-shadow: 0 8px 32px rgba(16, 185, 129, 0.2);
            }

                .login-btn.cloud:hover {
                    background: linear-gradient(135deg, var(--mode-cloud), #059669);
                    color: var(--void-pure);
                    box-shadow: 0 16px 64px rgba(16, 185, 129, 0.5), 0 0 80px rgba(16, 185, 129, 0.3);
                    border-color: transparent;
                }

        .login-btn-subtitle {
            font-size: 10px;
            font-weight: 500;
            letter-spacing: 2px;
            margin-top: var(--space-sm);
            opacity: 0.7;
        }

        .login-info {
            max-width: 700px;
            text-align: center;
            margin-top: var(--space-xl);
            font-family: var(--font-mono);
            font-size: 13px;
            color: var(--text-50);
            line-height: 1.8;
            padding: var(--space-xl);
            background: rgba(15, 19, 24, 0.6);
            border: 1px solid var(--border-default);
            border-radius: 12px;
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 1;
        }

            .login-info strong {
                color: var(--text-90);
                font-weight: 700;
                letter-spacing: 1px;
            }

        .login-status {
            margin-top: var(--space-lg);
            font-family: var(--font-mono);
            font-size: 11px;
            color: var(--text-50);
            letter-spacing: 2px;
            position: relative;
            z-index: 1;
            transition: color 0.3s ease;
        }

            .login-status::before {
                content: '';
                display: inline-block;
                width: 8px;
                height: 8px;
                margin-right: 8px;
                border-radius: 50%;
                background: var(--text-50);
                opacity: 0;
                transition: opacity 0.3s ease;
            }

            .login-status.loading::before {
                opacity: 1;
                background: var(--neon-cyan);
                animation: pulse 1.5s ease-in-out infinite;
            }

            .login-status.error {
                color: var(--neon-rose);
                text-shadow: 0 0 20px rgba(244, 63, 94, 0.5);
            }

                .login-status.error::before {
                    opacity: 1;
                    background: var(--neon-rose);
                    animation: none;
                }

            .login-status.success {
                color: var(--neon-emerald);
                text-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
            }

                .login-status.success::before {
                    opacity: 1;
                    background: var(--neon-emerald);
                    animation: none;
                }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           LAYOUT
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .app {
            display: grid;
            grid-template-columns: 280px 1fr;
            height: 100vh;
            position: relative;
            z-index: 1;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SIDEBAR
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .sidebar {
            background: var(--surface-1);
            border-right: 1px solid var(--border-default);
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

            .sidebar::after {
                content: '';
                position: absolute;
                top: 0;
                right: 0;
                width: 1px;
                height: 100%;
                background: linear-gradient(180deg, transparent 0%, rgba(34, 211, 238, 0.3) 50%, transparent 100%);
                opacity: 0.5;
            }

        .brand {
            padding: var(--space-xl) var(--space-lg);
            border-bottom: 1px solid var(--border-subtle);
        }

        .brand-logo {
            display: flex;
            align-items: center;
            gap: 14px;
            margin-bottom: var(--space-xs);
            position: relative;
        }

            .brand-logo::after {
                content: '';
                position: absolute;
                left: 0;
                right: 0;
                bottom: -16px;
                height: 30px;
                background: radial-gradient(ellipse at center, rgba(34, 211, 238, 0.08) 0%, transparent 60%);
                filter: blur(10px);
                pointer-events: none;
            }

        .brand-mark {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, rgba(34, 211, 238, 0.15) 0%, rgba(20, 25, 40, 0.95) 100%);
            border: 2px solid rgba(34, 211, 238, 0.6);
            border-radius: 35% 65% 65% 35% / 35% 35% 65% 65%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: var(--font-display);
            font-size: 20px;
            font-weight: 700;
            color: var(--neon-cyan);
            box-shadow: 0 0 20px rgba(34, 211, 238, 0.4), 0 4px 15px rgba(0, 0, 0, 0.5), inset 0 1px 1px rgba(255, 255, 255, 0.1);
            letter-spacing: 0px;
            position: relative;
            animation: logo-breathe 6s ease-in-out infinite;
        }

        @keyframes logo-breathe {
            0%, 100% {
                border-radius: 35% 65% 65% 35% / 35% 35% 65% 65%;
                box-shadow: 0 0 20px rgba(34, 211, 238, 0.4), 0 4px 15px rgba(0, 0, 0, 0.5), inset 0 1px 1px rgba(255, 255, 255, 0.1);
            }

            50% {
                border-radius: 65% 35% 35% 65% / 65% 65% 35% 35%;
                box-shadow: 0 0 30px rgba(34, 211, 238, 0.6), 0 4px 15px rgba(0, 0, 0, 0.5), inset 0 1px 1px rgba(255, 255, 255, 0.15);
            }
        }

        .brand-mark::before {
            content: '';
            position: absolute;
            inset: -1px;
            border-radius: inherit;
            padding: 1px;
            background: linear-gradient(135deg, rgba(34, 211, 238, 0.3), transparent, rgba(167, 139, 250, 0.2));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            pointer-events: none;
        }

        .brand-name {
            font-family: var(--font-display);
            font-size: 21px;
            letter-spacing: 2.5px;
            color: var(--text-100);
            font-weight: 400;
            text-shadow: 0 0 15px rgba(34, 211, 238, 0.15);
        }

        .brand-tagline {
            font-family: var(--font-mono);
            font-size: 9px;
            color: var(--text-50);
            letter-spacing: 1.5px;
            text-transform: uppercase;
            font-weight: 500;
        }

        .nav {
            flex: 1;
            padding: var(--space-lg) 0;
            overflow-y: auto;
        }

        .nav-section {
            margin-bottom: var(--space-lg);
        }

        .nav-label {
            font-size: 10px;
            font-weight: 700;
            color: var(--text-30);
            letter-spacing: 2px;
            text-transform: uppercase;
            padding: 0 var(--space-lg) var(--space-sm);
            transition: all 0.3s ease;
        }

            .nav-label.crm-global {
                color: var(--neon-gold);
                text-shadow: 0 0 20px rgba(251, 191, 36, 0.5), 0 0 30px rgba(168, 85, 247, 0.3);
                font-weight: 800;
                position: relative;
            }

                .nav-label.crm-global::after {
                    content: '';
                    position: absolute;
                    left: var(--space-lg);
                    bottom: 0;
                    width: calc(100% - calc(var(--space-lg) * 2));
                    height: 2px;
                    background: linear-gradient(90deg, var(--neon-gold), var(--neon-violet));
                    opacity: 0.5;
                }

            .nav-label.standard {
                color: var(--neon-cyan);
                text-shadow: 0 0 20px rgba(0, 240, 255, 0.6), 0 0 30px rgba(0, 240, 255, 0.3);
                font-weight: 700;
            }

        .nav-item {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-md) var(--space-lg);
            color: var(--text-50);
            cursor: pointer;
            position: relative;
            transition: all 0.3s var(--ease-out-expo);
            border-left: 2px solid transparent;
        }

            .nav-item::before {
                content: '';
                position: absolute;
                inset: 0;
                background: linear-gradient(90deg, var(--neon-cyan), transparent);
                opacity: 0;
                transition: opacity 0.3s ease;
            }

            .nav-item:hover {
                color: var(--text-90);
                background: rgba(255, 255, 255, 0.02);
            }

                .nav-item:hover::before {
                    opacity: 0.05;
                }

            .nav-item.active {
                color: var(--neon-cyan);
                background: rgba(0, 240, 255, 0.05);
                border-left-color: var(--neon-cyan);
            }

                .nav-item.active::before {
                    opacity: 0.08;
                }

            .nav-item.business-crm-item.active {
                color: var(--neon-gold);
                background: rgba(251, 191, 36, 0.05);
                border-left-color: var(--neon-gold);
            }

        .nav-icon {
            font-size: 18px;
            width: 24px;
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .nav-text {
            font-size: 13px;
            font-weight: 500;
            position: relative;
            z-index: 1;
        }

        .project-selector {
            padding: var(--space-lg);
            background: var(--surface-2);
            border-top: 1px solid var(--border-subtle);
        }

        .project-label {
            font-size: 9px;
            font-weight: 600;
            color: var(--text-30);
            letter-spacing: 1.5px;
            text-transform: uppercase;
            margin-bottom: var(--space-sm);
        }

        .project-dropdown {
            width: 100%;
            padding: var(--space-sm) var(--space-md);
            background: var(--surface-3);
            border: 1px solid var(--border-default);
            border-radius: 6px;
            color: var(--text-100);
            font-family: var(--font-sans);
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 8px center;
        }

            .project-dropdown:hover {
                border-color: var(--neon-cyan);
            }

        .project-actions {
            display: flex;
            gap: var(--space-sm);
            margin-top: var(--space-sm);
        }

        .project-btn {
            flex: 1;
            padding: var(--space-sm);
            background: var(--surface-3);
            border: 1px solid var(--border-default);
            border-radius: 6px;
            color: var(--text-70);
            font-family: var(--font-mono);
            font-size: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

            .project-btn:hover {
                background: var(--surface-4);
                color: var(--text-100);
            }

            .project-btn.danger:hover {
                background: rgba(244, 63, 94, 0.2);
                color: var(--neon-rose);
                border-color: var(--neon-rose);
            }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MAIN CONTENT
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .main {
            display: flex;
            flex-direction: column;
            overflow: hidden;
            padding-top: 36px; /* Account for mode banner */
        }

        .command-bar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--space-lg) var(--space-xl);
            background: var(--surface-1);
            border-bottom: 1px solid var(--border-subtle);
        }

        .page-title {
            font-family: var(--font-display);
            font-size: 28px;
            letter-spacing: 4px;
            color: var(--text-100);
            text-shadow: 0 0 30px rgba(0, 240, 255, 0.6), 0 0 50px rgba(168, 85, 247, 0.4), 0 0 70px rgba(0, 240, 255, 0.3);
            animation: titleGlow 4s ease-in-out infinite;
        }

        @keyframes titleGlow {
            0%, 100% {
                text-shadow: 0 0 30px rgba(0, 240, 255, 0.6), 0 0 50px rgba(168, 85, 247, 0.4), 0 0 70px rgba(0, 240, 255, 0.3);
            }

            50% {
                text-shadow: 0 0 40px rgba(0, 240, 255, 0.8), 0 0 60px rgba(168, 85, 247, 0.6), 0 0 80px rgba(0, 240, 255, 0.4);
            }
        }

        .status-group {
            display: flex;
            gap: var(--space-md);
        }

        .status-pill {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm) var(--space-md);
            background: var(--surface-2);
            border: 1px solid var(--border-default);
            border-radius: 20px;
            font-family: var(--font-mono);
            font-size: 10px;
            color: var(--text-70);
        }

            .status-pill .dot {
                width: 6px;
                height: 6px;
                background: var(--neon-emerald);
                border-radius: 50%;
                animation: pulse 2s ease-in-out infinite;
            }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }

            50% {
                opacity: 0.4;
            }
        }

        .status-pill.warning .dot {
            background: var(--neon-rose);
            animation: warningPulse 1s ease-in-out infinite;
        }

        .status-pill.off-budget {
            background: rgba(244, 63, 94, 0.15);
            border-color: rgba(244, 63, 94, 0.3);
            color: var(--neon-rose);
        }

            .status-pill.off-budget .dot {
                background: var(--neon-rose);
            }

        .status-pill.on-budget {
            background: rgba(16, 185, 129, 0.15);
            border-color: rgba(16, 185, 129, 0.3);
            color: var(--neon-emerald);
        }

            .status-pill.on-budget .dot {
                background: var(--neon-emerald);
            }

        .logout-btn:hover {
            background: rgba(244, 63, 94, 0.25) !important;
            transform: translateY(-1px);
        }

        @keyframes warningPulse {
            0%, 100% {
                opacity: 1;
            }

            50% {
                opacity: 0.3;
            }
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }

            to {
                transform: translateX(400px);
                opacity: 0;
            }
        }

        .workspace {
            flex: 1;
            padding: var(--space-xl);
            overflow-y: auto;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           VIEWS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .view {
            display: none;
        }

            .view.active {
                display: block;
            }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CARDS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .card {
            background: var(--surface-1);
            border: 1px solid var(--border-default);
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }
        
            .card::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: linear-gradient(135deg, rgba(34, 211, 238, 0.03) 0%, transparent 50%);
                opacity: 0;
                transition: opacity 0.3s;
                pointer-events: none;
            }

            .card:hover {
                border-color: rgba(34, 211, 238, 0.4);
                transform: translateY(-2px);
                box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4), 0 0 20px rgba(34, 211, 238, 0.1);
            }
            
            .card:hover::before {
                opacity: 1;
            }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--space-md) var(--space-lg);
            border-bottom: 1px solid var(--border-subtle);
            background: linear-gradient(180deg, rgba(34, 211, 238, 0.03) 0%, transparent 100%);
        }

        .card-title {
            font-size: 14px;
            font-weight: 700;
            color: var(--text-100);
            letter-spacing: 0.5px;
        }

        .card-body {
            padding: var(--space-lg);
        }

        .card-footer {
            padding: var(--space-md) var(--space-lg);
            border-top: 1px solid var(--border-subtle);
            display: flex;
            gap: var(--space-sm);
            background: rgba(0, 0, 0, 0.2);
        }

        .stat-card {
            padding: var(--space-lg);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
            .stat-card:hover {
                transform: translateY(-4px);
                box-shadow: 0 12px 32px rgba(0, 0, 0, 0.5);
            }

            .stat-card::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 4px;
                box-shadow: 0 2px 10px currentColor;
            }
            
            .stat-card::after {
                content: '';
                position: absolute;
                top: 0;
                right: 0;
                width: 60px;
                height: 60px;
                background: currentColor;
                opacity: 0.05;
                border-radius: 50%;
                transform: translate(20px, -20px);
            }

            .stat-card.cyan::before {
                background: var(--neon-cyan);
            }
            
            .stat-card.cyan::after {
                color: var(--neon-cyan);
            }

            .stat-card.violet::before {
                background: var(--neon-violet);
            }
            
            .stat-card.violet::after {
                color: var(--neon-violet);
            }

            .stat-card.emerald::before {
                background: var(--neon-emerald);
            }
            
            .stat-card.emerald::after {
                color: var(--neon-emerald);
            }

            .stat-card.gold::before {
                background: var(--neon-gold);
            }
            
            .stat-card.gold::after {
                color: var(--neon-gold);
            }

            .stat-card.rose::before {
                background: var(--neon-rose);
            }
            
            .stat-card.rose::after {
                color: var(--neon-rose);
            }

            .stat-card.pink::before {
                background: var(--neon-pink);
            }
            
            .stat-card.pink::after {
                color: var(--neon-pink);
            }

        .stat-label {
            font-size: 11px;
            font-weight: 700;
            color: var(--text-50);
            letter-spacing: 1.5px;
            text-transform: uppercase;
            margin-bottom: 12px;
            font-family: var(--font-mono);
            position: relative;
            z-index: 1;
        }

        .stat-value {
            font-family: var(--font-tech);
            font-size: 42px;
            font-weight: 700;
            color: var(--text-100);
            line-height: 1;
            margin-bottom: 6px;
            position: relative;
            z-index: 1;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .stat-sub {
            font-size: 11px;
            color: var(--text-50);
            margin-top: 6px;
            font-weight: 500;
            position: relative;
            z-index: 1;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           LUXURY INTEL STRIP â€” Command Center Overhaul
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .lux-intel-strip {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 14px;
        }

        @media (max-width: 1200px) {
            .lux-intel-strip { grid-template-columns: repeat(3, 1fr); }
        }
        @media (max-width: 768px) {
            .lux-intel-strip { grid-template-columns: repeat(2, 1fr); }
        }

        .lux-intel-card {
            position: relative;
            background: linear-gradient(145deg, #0f1318 0%, #090c10 100%);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 16px;
            padding: 20px 18px 0;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s cubic-bezier(0.4,0,0.2,1), border-color 0.3s, box-shadow 0.3s;
            min-height: 170px;
            display: flex;
            flex-direction: column;
        }
        .lux-intel-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent 0%, var(--glow, #22d3ee) 50%, transparent 100%);
            opacity: 0.6;
        }
        .lux-intel-card:hover {
            transform: translateY(-5px);
            border-color: rgba(255,255,255,0.12);
            box-shadow: 0 20px 48px rgba(0,0,0,0.6), 0 0 0 1px rgba(255,255,255,0.05);
        }
        .lux-intel-card:hover .lic-corner-glow {
            opacity: 0.18;
        }
        .lux-intel-card.lux-danger {
            border-color: rgba(244,63,94,0.25);
            animation: danger-pulse 2s ease-in-out infinite;
        }
        @keyframes danger-pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(244,63,94,0); }
            50% { box-shadow: 0 0 20px 2px rgba(244,63,94,0.15); }
        }

        .lic-corner-glow {
            position: absolute;
            top: -40px; right: -40px;
            width: 120px; height: 120px;
            background: radial-gradient(circle, var(--glow, #22d3ee) 0%, transparent 70%);
            opacity: 0.08;
            border-radius: 50%;
            transition: opacity 0.3s;
            pointer-events: none;
        }

        .lic-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 14px;
            position: relative;
            z-index: 1;
        }
        .lic-icon-wrap {
            width: 36px; height: 36px;
            background: rgba(255,255,255,0.04);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            color: var(--c, #22d3ee);
            flex-shrink: 0;
        }
        .lic-badge {
            font-family: var(--font-mono);
            font-size: 9px;
            font-weight: 700;
            letter-spacing: 1.5px;
            color: var(--c, #22d3ee);
            opacity: 0.7;
            text-transform: uppercase;
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.06);
            padding: 3px 7px;
            border-radius: 5px;
        }
        .lic-badge-danger {
            color: #f43f5e;
            border-color: rgba(244,63,94,0.3);
            background: rgba(244,63,94,0.08);
            animation: blink-badge 1.5s ease-in-out infinite;
        }
        @keyframes blink-badge {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        .lic-value {
            font-family: 'Bebas Neue', var(--font-display);
            font-size: 44px;
            line-height: 1;
            color: #fff;
            letter-spacing: 1px;
            position: relative;
            z-index: 1;
            margin-bottom: 4px;
        }
        .lic-label {
            font-family: var(--font-mono);
            font-size: 9px;
            font-weight: 700;
            letter-spacing: 2px;
            color: rgba(255,255,255,0.3);
            text-transform: uppercase;
            position: relative;
            z-index: 1;
            margin-bottom: 10px;
        }
        .lic-sub-row {
            display: flex;
            gap: 12px;
            align-items: center;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
            flex-wrap: wrap;
        }
        .lic-sub-item {
            font-family: var(--font-mono);
            font-size: 10px;
            color: rgba(255,255,255,0.35);
            display: flex;
            align-items: center;
            gap: 4px;
        }
        .lic-dot {
            width: 5px; height: 5px;
            border-radius: 50%;
            background: var(--c, #22d3ee);
            box-shadow: 0 0 6px var(--c, #22d3ee);
            flex-shrink: 0;
            animation: dot-breathe 2s ease-in-out infinite;
        }
        @keyframes dot-breathe {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.4; }
        }

        .lic-sparkline {
            margin-top: auto;
            padding-bottom: 0;
            opacity: 0.7;
        }
        .lic-mini-bar-wrap {
            margin-top: auto;
            padding-bottom: 14px;
            position: relative;
            z-index: 1;
        }
        .lic-mini-bar-track {
            height: 3px;
            background: rgba(255,255,255,0.06);
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 5px;
        }
        .lic-mini-bar-fill {
            height: 100%;
            border-radius: 2px;
            transition: width 0.6s cubic-bezier(0.4,0,0.2,1);
        }
        .lic-mini-bar-pct {
            font-family: var(--font-mono);
            font-size: 9px;
            color: rgba(255,255,255,0.25);
            letter-spacing: 0.5px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           LUXURY HOT COST PANEL
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .lux-cost-panel {
            background: linear-gradient(145deg, #0d1117 0%, #090c10 100%);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 20px;
            overflow: hidden;
            position: relative;
        }
        .lux-cost-panel::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, #22d3ee 30%, #fbbf24 70%, transparent);
            opacity: 0.4;
        }
        .lcp-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            padding: 22px 24px 18px;
            border-bottom: 1px solid rgba(255,255,255,0.04);
        }
        .lcp-eyebrow {
            font-family: var(--font-mono);
            font-size: 9px;
            letter-spacing: 2.5px;
            color: #22d3ee;
            text-transform: uppercase;
            opacity: 0.7;
            margin-bottom: 5px;
        }
        .lcp-title {
            font-family: 'Bebas Neue', var(--font-display);
            font-size: 22px;
            letter-spacing: 2px;
            color: #fff;
            line-height: 1;
        }
        .lcp-status-badge {
            font-family: var(--font-mono);
            font-size: 9px;
            font-weight: 800;
            letter-spacing: 1px;
            text-transform: uppercase;
            padding: 4px 10px;
            border-radius: 6px;
            margin-top: 4px;
        }
        .lcp-metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0;
        }
        .lcp-metric {
            padding: 20px 24px;
            border-right: 1px solid rgba(255,255,255,0.04);
            position: relative;
        }
        .lcp-metric:last-child { border-right: none; }
        .lcp-metric-label {
            font-family: var(--font-mono);
            font-size: 9px;
            letter-spacing: 1.5px;
            color: rgba(255,255,255,0.3);
            text-transform: uppercase;
            margin-bottom: 8px;
        }
        .lcp-metric-value {
            font-family: 'Bebas Neue', var(--font-display);
            font-size: 32px;
            line-height: 1;
            color: #fff;
            letter-spacing: 1px;
        }
        .lcp-metric-icon {
            position: absolute;
            bottom: 16px;
            right: 16px;
            opacity: 0.25;
        }
        .lcp-bar-section {
            padding: 16px 24px 20px;
            border-top: 1px solid rgba(255,255,255,0.04);
        }
        .lcp-bar-track {
            height: 6px;
            background: rgba(255,255,255,0.05);
            border-radius: 3px;
            overflow: hidden;
            position: relative;
            margin-bottom: 8px;
        }
        .lcp-bar-fill-remaining {
            position: absolute;
            left: 0; top: 0; bottom: 0;
            width: 100%;
            background: linear-gradient(90deg, rgba(34,211,238,0.2), rgba(34,211,238,0.1));
            border-radius: 3px;
        }
        .lcp-bar-fill-spent {
            position: absolute;
            left: 0; top: 0; bottom: 0;
            width: 0%;
            background: linear-gradient(90deg, #22d3ee, #fbbf24);
            border-radius: 3px;
            transition: width 0.8s cubic-bezier(0.4,0,0.2,1);
            box-shadow: 0 0 12px rgba(34,211,238,0.4);
        }
        .lcp-bar-labels {
            display: flex;
            justify-content: space-between;
            font-family: var(--font-mono);
            font-size: 10px;
            color: rgba(255,255,255,0.25);
            letter-spacing: 0.5px;
        }

        /* â•â•â• ENTRY ANIMATION â•â•â• */
        .lux-intel-card {
            animation: lic-in 0.5s cubic-bezier(0.4,0,0.2,1) both;
        }
        .lux-intel-card:nth-child(1) { animation-delay: 0.05s; }
        .lux-intel-card:nth-child(2) { animation-delay: 0.1s; }
        .lux-intel-card:nth-child(3) { animation-delay: 0.15s; }
        .lux-intel-card:nth-child(4) { animation-delay: 0.2s; }
        .lux-intel-card:nth-child(5) { animation-delay: 0.25s; }
        @keyframes lic-in {
            from { opacity: 0; transform: translateY(18px); }
            to   { opacity: 1; transform: translateY(0); }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           DASHBOARD HERO
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .dashboard-hero {
            position: relative;
            height: 340px;
            margin: -24px -24px 32px -24px;
            background: #000000;
            border-radius: 0 0 12px 12px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            padding-left: 80px;
        }

            .dashboard-hero::before {
                content: '';
                position: absolute;
                inset: 0;
                background-image: url('https://images.unsplash.com/photo-1574717024653-61fd2cf4d44d?w=1920&q=90');
                background-size: cover;
                background-position: center;
                opacity: 0.4;
                filter: grayscale(10%) brightness(0.85) contrast(1.1);
                animation: heroZoom 20s ease-in-out infinite alternate;
            }
            
            @keyframes heroZoom {
                0% { transform: scale(1); }
                100% { transform: scale(1.05); }
            }

            .dashboard-hero::after {
                content: '';
                position: absolute;
                inset: 0;
                background: linear-gradient(90deg, rgba(0,0,0,0.92) 0%, rgba(0,0,0,0.65) 50%, rgba(0,0,0,0.88) 100%);
            }

        /* Hero variants for different sections - UPGRADED IMAGES */
        .hero-financials::before {
            background-image: url('https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?w=1920&q=90');
            background-position: center;
            filter: grayscale(0%) brightness(0.8) contrast(1.15);
        }
        
        .hero-schedule::before {
            background-image: url('https://images.unsplash.com/photo-1533073526757-2c8ca1df9f1c?w=1920&q=90');
            background-position: center 60%;
            filter: grayscale(5%) brightness(0.75) contrast(1.1);
        }
        
        .hero-cast::before {
            background-image: url('https://images.unsplash.com/photo-1598899134739-24c46f58b8c0?w=1920&q=90');
            background-position: center 45%;
            filter: grayscale(10%) brightness(0.7) contrast(1.15);
        }
        
        .hero-tech::before {
            background-image: url('https://images.unsplash.com/photo-1492619375914-88005aa9e8fb?w=1920&q=90');
            background-position: center 35%;
            filter: grayscale(0%) brightness(0.75) contrast(1.2);
        }
        
        .hero-vault::before {
            background-image: url('https://images.unsplash.com/photo-1616530940355-351fabd9524b?w=1920&q=90');
            background-position: center;
            filter: grayscale(5%) brightness(0.8) contrast(1.1);
        }
        
        .hero-breakdown::before {
            background-image: url('https://images.unsplash.com/photo-1560472355-536de3962603?w=1920&q=90');
            background-position: center;
            filter: grayscale(5%) brightness(0.75) contrast(1.15);
        }
        
        .hero-gantt::before {
            background-image: url('https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=1920&q=90');
            background-position: center;
            filter: grayscale(0%) brightness(0.8) contrast(1.1);
        }
        
        .hero-crm::before {
            background-image: url('https://images.unsplash.com/photo-1552664730-d307ca884978?w=1920&q=90');
            background-position: center;
            filter: grayscale(5%) brightness(0.75) contrast(1.15);
        }
        
        .hero-production-library::before {
            background-image: url('https://images.unsplash.com/photo-1478720568477-152d9b164e26?w=1920&q=90');
            background-position: center;
            filter: grayscale(10%) brightness(0.8) contrast(1.1);
        }
        
        .hero-shotlist::before {
            background-image: url('https://images.unsplash.com/photo-1585829365295-ab7cd400c167?w=1920&q=90');
            background-position: center 40%;
            filter: grayscale(5%) brightness(0.75) contrast(1.15);
        }
        
        .hero-continuity::before {
            background-image: url('https://images.unsplash.com/photo-1516035069371-29a1b244cc32?w=1920&q=90');
            background-position: center;
            filter: grayscale(10%) brightness(0.7) contrast(1.2);
        }
        
        .hero-calendar::before {
            background-image: url('https://images.unsplash.com/photo-1506784983877-45594efa4cbe?w=1920&q=90');
            background-position: center;
            filter: grayscale(5%) brightness(0.75) contrast(1.1);
        }
        
        .hero-documents::before {
            background-image: url('https://images.unsplash.com/photo-1450101499163-c8848c66ca85?w=1920&q=90');
            background-position: center;
            filter: grayscale(10%) brightness(0.8) contrast(1.1);
        }

        .dashboard-hero-content {
            position: relative;
            z-index: 2;
            text-align: left;
            animation: heroSlideIn 0.8s ease-out;
        }
        
        @keyframes heroSlideIn {
            0% { 
                opacity: 0;
                transform: translateX(-50px);
            }
            100% { 
                opacity: 1;
                transform: translateX(0);
            }
        }

        .dashboard-hero-title {
            font-family: var(--font-display);
            font-size: 68px;
            letter-spacing: 12px;
            color: #ffffff;
            margin-bottom: 16px;
            text-shadow: 0 4px 40px rgba(0,0,0,0.95), 0 2px 20px rgba(34, 211, 238, 0.3);
            font-weight: 700;
            line-height: 1;
            position: relative;
        }
        
        .dashboard-hero-title::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 120px;
            height: 3px;
            background: linear-gradient(90deg, var(--neon-cyan) 0%, transparent 100%);
        }

        .dashboard-hero-subtitle {
            font-family: var(--font-mono);
            font-size: 14px;
            letter-spacing: 4px;
            color: rgba(255, 255, 255, 0.7);
            text-transform: uppercase;
            font-weight: 400;
            text-shadow: 0 2px 10px rgba(0,0,0,0.8);
        }
        
        /* Animated particles for hero sections */
        .dashboard-hero .hero-particles {
            position: absolute;
            inset: 0;
            overflow: hidden;
            z-index: 1;
            pointer-events: none;
        }
        
        .hero-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(34, 211, 238, 0.4);
            border-radius: 50%;
            animation: floatParticle 15s infinite ease-in-out;
            box-shadow: 0 0 10px rgba(34, 211, 238, 0.6);
        }
        
        @keyframes floatParticle {
            0%, 100% {
                transform: translate(0, 0) scale(1);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(0);
                opacity: 0;
            }
        }
        
        .hero-particle:nth-child(1) { left: 10%; top: 20%; --tx: 100px; --ty: -200px; animation-delay: 0s; }
        .hero-particle:nth-child(2) { left: 30%; top: 60%; --tx: -150px; --ty: -150px; animation-delay: 2s; }
        .hero-particle:nth-child(3) { left: 50%; top: 40%; --tx: 80px; --ty: -180px; animation-delay: 4s; }
        .hero-particle:nth-child(4) { left: 70%; top: 80%; --tx: -100px; --ty: -220px; animation-delay: 6s; }
        .hero-particle:nth-child(5) { left: 85%; top: 30%; --tx: 120px; --ty: -160px; animation-delay: 8s; }
        .hero-particle:nth-child(6) { left: 20%; top: 70%; --tx: -90px; --ty: -200px; animation-delay: 10s; }
        .hero-particle:nth-child(7) { left: 60%; top: 50%; --tx: 110px; --ty: -190px; animation-delay: 12s; }
        .hero-particle:nth-child(8) { left: 40%; top: 90%; --tx: -120px; --ty: -170px; animation-delay: 14s; }

        .progress-bar-container {
            width: 100%;
            height: 6px;
            background: var(--surface-3);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 3px;
            cursor: help;
        }

        .progress-label {
            cursor: help;
            transition: all 0.2s ease;
        }

            .progress-label:hover {
                color: var(--neon-cyan);
            }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           GRID SYSTEM
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .grid {
            display: grid;
            gap: var(--space-lg);
        }

        .grid-2 {
            grid-template-columns: repeat(2, 1fr);
        }

        .grid-3 {
            grid-template-columns: repeat(3, 1fr);
        }

        .grid-4 {
            grid-template-columns: repeat(4, 1fr);
        }

        .grid-6 {
            grid-template-columns: repeat(6, 1fr);
        }

        .mb-lg {
            margin-bottom: var(--space-lg);
        }

        .mb-md {
            margin-bottom: var(--space-md);
        }

        .mt-md {
            margin-top: var(--space-md);
        }

        .ml-md {
            margin-left: var(--space-md);
        }

        .hidden {
            display: none !important;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           FORMS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: var(--space-md);
        }

        .form-group {
            margin-bottom: var(--space-md);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-md);
        }

            .form-grid .full-width {
                grid-column: 1 / -1;
            }

        .form-label {
            display: block;
            font-size: 11px;
            font-weight: 600;
            color: var(--text-50);
            letter-spacing: 0.5px;
            margin-bottom: var(--space-xs);
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: var(--space-sm) var(--space-md);
            background: var(--surface-2);
            border: 1px solid var(--border-default);
            border-radius: 6px;
            color: var(--text-100);
            font-family: var(--font-sans);
            font-size: 13px;
            transition: border-color 0.2s ease;
        }

            .form-input:focus, .form-select:focus, .form-textarea:focus {
                outline: none;
                border-color: var(--neon-cyan);
            }

        .form-textarea {
            min-height: 80px;
            resize: vertical;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           BUTTONS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-sm);
            padding: var(--space-sm) var(--space-md);
            background: var(--surface-3);
            border: 1px solid var(--border-default);
            border-radius: 8px;
            color: var(--text-90);
            font-family: var(--font-sans);
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
            .btn::before {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                width: 0;
                height: 0;
                border-radius: 50%;
                background: rgba(255, 255, 255, 0.1);
                transform: translate(-50%, -50%);
                transition: width 0.6s, height 0.6s;
            }
            
            .btn:hover::before {
                width: 300px;
                height: 300px;
            }

            .btn:hover {
                background: var(--surface-4);
                border-color: var(--border-strong);
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            }

        .btn-primary {
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-cyan-dim));
            border-color: var(--neon-cyan);
            color: var(--void-pure);
            font-weight: 700;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }

            .btn-primary:hover {
                box-shadow: 0 6px 20px rgba(34, 211, 238, 0.4), 0 0 30px rgba(34, 211, 238, 0.2);
                transform: translateY(-3px);
            }
            
            .btn-primary:active {
                transform: translateY(-1px);
            }

        .btn-secondary {
            background: rgba(100, 100, 100, 0.2);
            border-color: rgba(100, 100, 100, 0.4);
            color: var(--text-80);
        }
        
            .btn-secondary:hover {
                background: rgba(100, 100, 100, 0.3);
                border-color: rgba(100, 100, 100, 0.6);
            }

        .btn-gold {
            background: linear-gradient(135deg, var(--neon-gold), #d97706);
            border-color: var(--neon-gold);
            color: var(--void-pure);
            font-weight: 700;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }
        
            .btn-gold:hover {
                box-shadow: 0 6px 20px rgba(251, 191, 36, 0.4), 0 0 30px rgba(251, 191, 36, 0.2);
                transform: translateY(-3px);
            }

        .btn-sm {
            padding: var(--space-xs) var(--space-sm);
            font-size: 11px;
        }

        .btn-export {
            background: linear-gradient(135deg, var(--neon-violet), var(--neon-violet-dim));
            border-color: var(--neon-violet);
            color: var(--text-100);
            font-weight: 700;
        }
        
            .btn-export:hover {
                box-shadow: 0 6px 20px rgba(168, 85, 247, 0.4), 0 0 30px rgba(168, 85, 247, 0.2);
                transform: translateY(-3px);
            }

        /* â”€â”€â”€ BUDGET SPECIFIC â”€â”€â”€ */
        tr.over-budget td {
            background: rgba(244, 63, 94, 0.1);
        }

        .over-budget-badge {
            display: inline-block;
            padding: 4px 8px;
            background: rgba(244, 63, 94, 0.2);
            border: 1px solid var(--neon-rose);
            border-radius: 4px;
            color: var(--neon-rose);
            font-size: 10px;
            font-weight: 700;
            letter-spacing: 1px;
        }

        .editable {
            cursor: pointer;
            position: relative;
        }

            .editable:hover {
                background: rgba(0, 240, 255, 0.05);
            }

        .editable-input {
            width: 100%;
            background: var(--surface-2);
            border: 2px solid var(--neon-cyan);
            border-radius: 4px;
            color: var(--text-100);
            font-family: var(--font-mono);
            font-size: 14px;
            padding: 4px 8px;
            outline: none;
        }

        /* â”€â”€â”€ CONTINUITY LOG â”€â”€â”€ */
        .continuity-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: var(--space-lg);
        }

        .continuity-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            overflow: hidden;
        }

        .continuity-header {
            background: var(--surface-2);
            padding: var(--space-md) var(--space-lg);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-subtle);
        }

        .continuity-scene {
            font-family: var(--font-mono);
            font-weight: 700;
            color: var(--neon-cyan);
        }

        .continuity-take {
            font-size: 12px;
            color: var(--text-50);
        }

        .continuity-body {
            padding: var(--space-lg);
        }

        .continuity-field {
            margin-bottom: var(--space-md);
        }

            .continuity-field.full-width {
                margin-top: var(--space-md);
                padding-top: var(--space-md);
                border-top: 1px solid var(--border-subtle);
            }

        .field-label {
            display: block;
            font-size: 10px;
            font-weight: 700;
            color: var(--text-50);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 4px;
        }

        .field-value {
            display: block;
            color: var(--text-90);
            font-size: 14px;
        }

        .continuity-footer {
            background: var(--surface-1);
            padding: var(--space-md) var(--space-lg);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid var(--border-subtle);
        }

        .continuity-time {
            font-size: 11px;
            color: var(--text-50);
            font-family: var(--font-mono);
        }

        /* â”€â”€â”€ RISK ASSESSMENT â”€â”€â”€ */
        .risk-level {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .risk-low {
            background: rgba(16, 185, 129, 0.15);
            color: var(--neon-emerald);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .risk-medium {
            background: rgba(251, 191, 36, 0.15);
            color: var(--neon-gold);
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        .risk-high {
            background: rgba(244, 63, 94, 0.15);
            color: var(--neon-rose);
            border: 1px solid rgba(244, 63, 94, 0.3);
        }

        .category-badge {
            display: inline-block;
            padding: 4px 10px;
            background: var(--surface-2);
            border: 1px solid var(--border-default);
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
        }

        /* â”€â”€â”€ CONTACT DIRECTORY â”€â”€â”€ */
        .search-bar {
            margin-bottom: var(--space-xl);
        }

            .search-bar input {
                width: 100%;
                max-width: 500px;
                padding: var(--space-md) var(--space-lg);
                background: var(--surface-2);
                border: 1px solid var(--border-default);
                border-radius: 8px;
                color: var(--text-100);
                font-size: 14px;
                outline: none;
                transition: all 0.2s ease;
            }

                .search-bar input:focus {
                    border-color: var(--neon-cyan);
                    box-shadow: 0 0 0 3px rgba(0, 240, 255, 0.1);
                }

        .departments-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--space-lg);
        }

        .department-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            overflow: hidden;
        }

        .dept-header {
            background: var(--surface-2);
            padding: var(--space-md) var(--space-lg);
            font-weight: 700;
            color: var(--text-100);
            border-bottom: 1px solid var(--border-subtle);
        }

        .dept-contacts {
            padding: var(--space-md);
        }

        .contact-item {
            padding: var(--space-md);
            background: var(--surface-1);
            border-radius: 8px;
            margin-bottom: var(--space-sm);
        }

        .contact-name {
            font-weight: 600;
            color: var(--text-100);
            margin-bottom: 2px;
        }

        .contact-role {
            font-size: 12px;
            color: var(--text-50);
            margin-bottom: var(--space-sm);
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .contact-link {
            font-size: 11px;
            color: var(--neon-cyan);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 6px;
        }

            .contact-link:hover {
                color: var(--text-100);
            }

        /* â”€â”€â”€ MILESTONES / TIMELINE â”€â”€â”€ */
        .milestone-progress {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: var(--space-xl);
            margin-bottom: var(--space-xl);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-md);
            font-weight: 600;
            color: var(--text-100);
        }

        .progress-bar-large {
            height: 24px;
            background: var(--surface-2);
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: var(--space-sm);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--neon-cyan), var(--neon-violet));
            transition: width 0.5s ease;
        }

        .progress-stats {
            font-size: 12px;
            color: var(--text-50);
            text-align: center;
        }

        .timeline {
            position: relative;
            padding-left: 40px;
        }

            .timeline::before {
                content: '';
                position: absolute;
                left: 12px;
                top: 0;
                bottom: 0;
                width: 2px;
                background: var(--border-default);
            }

        .timeline-item {
            position: relative;
            margin-bottom: var(--space-xl);
        }

        .timeline-marker {
            position: absolute;
            left: -33px;
            top: 8px;
            width: 18px;
            height: 18px;
            background: var(--surface-2);
            border: 3px solid var(--neon-cyan);
            border-radius: 50%;
            z-index: 1;
        }

        .timeline-item.completed .timeline-marker {
            background: var(--neon-emerald);
            border-color: var(--neon-emerald);
        }

        .timeline-item.overdue .timeline-marker {
            border-color: var(--neon-rose);
        }

        .timeline-content {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: var(--space-lg);
        }

        .timeline-item.completed .timeline-content {
            opacity: 0.6;
        }

        .timeline-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-sm);
        }

        .timeline-phase {
            display: inline-block;
            padding: 4px 10px;
            background: rgba(0, 240, 255, 0.15);
            border: 1px solid rgba(0, 240, 255, 0.3);
            border-radius: 4px;
            font-size: 10px;
            font-weight: 700;
            color: var(--neon-cyan);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .timeline-date {
            font-family: var(--font-mono);
            font-size: 12px;
            color: var(--text-50);
        }

        .timeline-title {
            font-weight: 600;
            color: var(--text-100);
            font-size: 16px;
            margin-bottom: var(--space-sm);
        }

        .timeline-desc {
            color: var(--text-70);
            font-size: 14px;
            margin-bottom: var(--space-md);
        }

        .timeline-actions {
            display: flex;
            gap: var(--space-sm);
        }

        /* â”€â”€â”€ STATUS BADGES â”€â”€â”€ */
        .status-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
        }

        .status-complete {
            background: rgba(16, 185, 129, 0.15);
            color: var(--neon-emerald);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .status-pending {
            background: rgba(251, 191, 36, 0.15);
            color: var(--neon-gold);
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        .row-completed {
            opacity: 0.6;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           TABLES
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .table-container {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: var(--space-md) var(--space-lg);
            text-align: left;
            border-bottom: 1px solid var(--border-subtle);
        }

        th {
            font-size: 10px;
            font-weight: 700;
            color: var(--text-50);
            letter-spacing: 1px;
            text-transform: uppercase;
            background: var(--surface-2);
        }

        td {
            font-size: 13px;
            color: var(--text-90);
        }

        tr:hover td {
            background: rgba(255, 255, 255, 0.02);
        }

        .table-empty {
            text-align: center;
            color: var(--text-50);
            padding: var(--space-2xl) !important;
        }

        .tag {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: var(--font-mono);
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .tag-cyan {
            background: rgba(0, 240, 255, 0.15);
            color: var(--neon-cyan);
        }

        .tag-violet {
            background: rgba(168, 85, 247, 0.15);
            color: var(--neon-violet);
        }

        .tag-emerald {
            background: rgba(16, 185, 129, 0.15);
            color: var(--neon-emerald);
        }

        .tag-gold {
            background: rgba(251, 191, 36, 0.15);
            color: var(--neon-gold);
        }

        .tag-rose {
            background: rgba(244, 63, 94, 0.15);
            color: var(--neon-rose);
        }

        .tag-pink {
            background: rgba(236, 72, 153, 0.15);
            color: var(--neon-pink);
        }

        .delete-btn {
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: transparent;
            border: 1px solid var(--border-default);
            border-radius: 6px;
            color: var(--text-50);
            cursor: pointer;
            font-size: 16px;
            transition: all 0.2s ease;
        }

            .delete-btn:hover {
                background: rgba(244, 63, 94, 0.1);
                border-color: var(--neon-rose);
                color: var(--neon-rose);
            }

        .cast-badge {
            cursor: pointer;
            background: var(--neon-cyan);
            color: var(--void-pure);
            padding: 2px 6px;
            border-radius: 3px;
            margin-right: 4px;
            font-family: var(--font-mono);
            font-size: 10px;
            display: inline-block;
            font-weight: 700;
            transition: all 0.2s var(--ease-out-expo);
            border: 1px solid transparent;
        }

            .cast-badge:hover {
                background: var(--void-pure);
                color: var(--neon-cyan);
                border-color: var(--neon-cyan);
            }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           UTILITY CLASSES
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .font-mono {
            font-family: var(--font-mono);
        }

        .font-bold {
            font-weight: 700;
        }

        .text-muted {
            color: var(--text-50);
        }

        .text-cyan {
            color: var(--neon-cyan);
        }

        .text-gold {
            color: var(--neon-gold);
        }

        .text-emerald {
            color: var(--neon-emerald);
        }

        .text-violet {
            color: var(--neon-violet);
        }

        .text-rose {
            color: var(--neon-rose);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RESULT BOX
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .result-box {
            background: var(--surface-2);
            border: 1px solid var(--border-default);
            border-radius: 12px;
            padding: var(--space-xl);
            font-family: var(--font-mono);
            font-size: 13px;
            line-height: 1.8;
            white-space: pre-wrap;
            color: var(--text-70);
            min-height: 200px;
        }

            .result-box.success {
                border-color: var(--neon-emerald);
                background: rgba(16, 185, 129, 0.05);
            }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ACTIVITY LOG
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .log-container {
            max-height: 300px;
            overflow-y: auto;
            background: var(--void-deep);
            border-radius: 6px;
            padding: 12px;
        }

        .log-entry {
            display: flex;
            gap: var(--space-md);
            padding: 10px;
            margin-bottom: 6px;
            background: var(--surface-2);
            border-radius: 4px;
            border-left: 2px solid var(--neon-cyan);
            font-size: 12px;
            transition: all 0.2s ease;
        }

            .log-entry:hover {
                background: var(--surface-3);
                border-left-color: var(--neon-emerald);
            }

        .log-time {
            font-family: var(--font-mono);
            color: var(--neon-cyan);
            flex-shrink: 0;
            font-weight: 600;
        }

        .log-msg {
            color: var(--text-90);
            flex: 1;
        }

        .log-entry.success {
            border-left-color: var(--neon-emerald);
        }

        .log-entry.warning {
            border-left-color: var(--neon-gold);
        }

        .log-entry.error {
            border-left-color: var(--neon-rose);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MODALS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(4px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

            .modal-overlay.active {
                opacity: 1;
                visibility: visible;
            }

        .modal {
            background: var(--surface-1);
            border: 1px solid var(--border-default);
            border-radius: 16px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(20px);
            transition: transform 0.3s var(--ease-out-expo);
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
        }

        .modal-content {
            padding: var(--space-xl);
        }

        .modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: var(--space-sm);
            padding-top: var(--space-lg);
            border-top: 1px solid var(--border-subtle);
            margin-top: var(--space-lg);
        }

        .modal.active {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            animation: modalFadeIn 0.3s ease;
        }

            .modal.active .modal-content {
                background: var(--surface-1);
                border: 1px solid var(--border-default);
                border-radius: 16px;
                width: 90%;
                max-width: 700px;
                max-height: 90vh;
                overflow-y: auto;
                position: relative;
                animation: modalSlideIn 0.3s var(--ease-out-expo);
            }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            padding: var(--space-lg) var(--space-xl);
            border-bottom: 1px solid var(--border-subtle);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .modal-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-100);
        }

        .modal-close {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: transparent;
            border: 1px solid var(--border-default);
            border-radius: 8px;
            color: var(--text-50);
            cursor: pointer;
            font-size: 18px;
            transition: all 0.2s ease;
        }

            .modal-close:hover {
                background: rgba(244, 63, 94, 0.1);
                border-color: var(--neon-rose);
                color: var(--neon-rose);
            }

        .modal-body {
            padding: var(--space-xl);
        }

        .modal-footer {
            padding: var(--space-lg) var(--space-xl);
            border-top: 1px solid var(--border-subtle);
            display: flex;
            justify-content: flex-end;
            gap: var(--space-sm);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SCHEDULE / STRIPBOARD
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .stripboard {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .strip {
            display: flex;
            flex-direction: column;
            background: var(--surface-2);
            border-radius: 6px;
            overflow: hidden;
            transition: all 0.2s ease;
            cursor: grab;
        }

            .strip:active {
                cursor: grabbing;
            }

            .strip.dragging {
                opacity: 0.5;
            }

        .strip-main {
            display: grid;
            grid-template-columns: 60px 50px 50px 1fr 2fr 1fr 60px 80px;
            align-items: center;
            padding: var(--space-sm) var(--space-md);
            gap: var(--space-sm);
        }

        .strip-scene {
            font-family: var(--font-mono);
            font-weight: 700;
            font-size: 14px;
        }

        .strip-intext, .strip-daynight {
            font-family: var(--font-mono);
            font-size: 11px;
            text-align: center;
        }

        .strip-location {
            font-weight: 600;
            font-size: 12px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .strip-description {
            font-size: 11px;
            color: var(--text-70);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .strip-cast {
            font-size: 10px;
        }

        .strip-pages {
            font-family: var(--font-mono);
            font-size: 11px;
            text-align: center;
        }

        .strip-actions {
            display: flex;
            gap: var(--space-xs);
            justify-content: flex-end;
        }

        .strip-handle {
            cursor: pointer;
            padding: 4px;
            opacity: 0.5;
            transition: opacity 0.2s ease;
        }

            .strip-handle:hover {
                opacity: 1;
            }

        /* Strip Colors */
        .strip.day-int {
            border-left: 4px solid #ffffff;
            background: rgba(255, 255, 255, 0.05);
        }

        .strip.day-ext {
            border-left: 4px solid #fbbf24;
            background: rgba(251, 191, 36, 0.05);
        }

        .strip.night-int {
            border-left: 4px solid #3b82f6;
            background: rgba(59, 130, 246, 0.05);
        }

        .strip.night-ext {
            border-left: 4px solid #10b981;
            background: rgba(16, 185, 129, 0.05);
        }

        .strip.daybreak {
            background: linear-gradient(90deg, var(--neon-cyan), var(--neon-violet));
            color: var(--void-pure);
            font-weight: 700;
            border-left: none;
        }

        .strip.banner {
            background: var(--surface-3);
            border-left: 4px solid var(--neon-orange);
            font-style: italic;
        }

        .strip-breakdown {
            padding: var(--space-md);
            background: var(--surface-3);
            border-top: 1px solid var(--border-subtle);
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: var(--space-md);
        }

        .strip-breakdown-category {
            font-size: 11px;
        }

        .strip-breakdown-label {
            font-weight: 700;
            color: var(--text-50);
            margin-bottom: var(--space-xs);
        }

        .strip-breakdown-items {
            color: var(--text-70);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           BREAKDOWN SHEET
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .breakdown-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: var(--space-md);
        }

        .breakdown-category {
            background: var(--surface-2);
            border-radius: 8px;
            padding: var(--space-md);
            border: 1px solid var(--border-default);
        }

            .breakdown-category.cast {
                border-color: var(--neon-cyan);
            }

            .breakdown-category.extras {
                border-color: var(--neon-violet);
            }

            .breakdown-category.stunts {
                border-color: var(--neon-rose);
            }

            .breakdown-category.vehicles {
                border-color: var(--neon-gold);
            }

            .breakdown-category.props {
                border-color: var(--neon-emerald);
            }

            .breakdown-category.sfx {
                border-color: var(--neon-orange);
            }

            .breakdown-category.costumes {
                border-color: var(--neon-pink);
            }

            .breakdown-category.makeup {
                border-color: var(--neon-blue);
            }

        .breakdown-category-header {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            margin-bottom: var(--space-sm);
        }

        .breakdown-category-icon {
            font-size: 16px;
        }

        .breakdown-category-name {
            font-weight: 700;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .breakdown-elements {
            min-height: 40px;
        }

        .breakdown-element {
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            background: var(--surface-3);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            margin: 2px;
        }

        .breakdown-element-del {
            background: none;
            border: none;
            color: var(--text-50);
            cursor: pointer;
            font-size: 14px;
            padding: 0;
            line-height: 1;
        }

            .breakdown-element-del:hover {
                color: var(--neon-rose);
            }

        .breakdown-add {
            display: flex;
            gap: var(--space-xs);
            margin-top: var(--space-sm);
        }

        .breakdown-add-input {
            flex: 1;
            padding: var(--space-xs) var(--space-sm);
            background: var(--surface-3);
            border: 1px solid var(--border-default);
            border-radius: 4px;
            color: var(--text-100);
            font-size: 12px;
        }

        .breakdown-add-btn {
            padding: var(--space-xs) var(--space-sm);
            background: var(--surface-4);
            border: 1px solid var(--border-default);
            border-radius: 4px;
            color: var(--text-70);
            cursor: pointer;
        }

            .breakdown-add-btn:hover {
                background: var(--neon-cyan);
                color: var(--void-pure);
            }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           KANBAN BOARD
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .kanban-wrapper {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 16px;
            min-height: 600px;
        }

        .kanban-column {
            background: var(--surface-1);
            border: 1px solid var(--border-default);
            border-radius: 8px;
            padding: 0;
            display: flex;
            flex-direction: column;
            transition: border-color 0.2s ease;
        }

            .kanban-column:hover {
                border-color: var(--border-strong);
            }

        .kanban-header {
            font-size: 11px;
            font-weight: 700;
            color: var(--text-100);
            letter-spacing: 1.5px;
            text-transform: uppercase;
            padding: 16px;
            border-bottom: 1px solid var(--border-default);
            background: var(--surface-2);
            border-radius: 8px 8px 0 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-family: var(--font-mono);
        }

        .kanban-header-count {
            background: var(--surface-3);
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            color: var(--text-70);
        }

        .kanban-cards {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 12px;
            min-height: 200px;
            padding: 16px;
        }

        .kanban-card {
            background: var(--surface-2);
            border: 1px solid var(--border-default);
            border-radius: 6px;
            padding: 16px;
            cursor: grab;
            transition: all 0.2s ease;
            position: relative;
        }

            .kanban-card:hover {
                background: var(--surface-3);
                border-color: var(--border-strong);
                transform: translateY(-1px);
            }

            .kanban-card.dragging {
                opacity: 0.5;
            }

        .kanban-card-name {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 8px;
            color: var(--text-100);
        }

        .kanban-card-company {
            font-size: 12px;
            color: var(--text-50);
            margin-bottom: 8px;
        }

        .kanban-card-phone {
            font-family: var(--font-mono);
            font-size: 11px;
            color: var(--text-50);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

            .kanban-card-phone::before {
                content: 'ğŸ“';
                font-size: 11px;
            }

        .kanban-card-value {
            font-family: var(--font-tech);
            font-size: 16px;
            color: var(--neon-emerald);
            font-weight: 600;
        }

        .kanban-card-meta {
            display: flex;
            gap: 8px;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border-subtle);
        }

        .kanban-card-tag {
            font-size: 10px;
            padding: 3px 8px;
            border-radius: 3px;
            background: var(--surface-3);
            color: var(--text-70);
            font-family: var(--font-mono);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .kanban-card-actions {
            position: absolute;
            top: 12px;
            right: 12px;
            display: flex;
            gap: 6px;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .kanban-card:hover .kanban-card-actions {
            opacity: 1;
        }

        .kanban-card-btn {
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--surface-1);
            border: 1px solid var(--border-default);
            border-radius: 4px;
            color: var(--text-50);
            cursor: pointer;
            font-size: 13px;
            transition: all 0.15s ease;
        }

            .kanban-card-btn:hover {
                background: var(--surface-4);
                color: var(--text-100);
                border-color: var(--border-strong);
            }

            .kanban-card-btn.del:hover {
                background: rgba(244, 63, 94, 0.15);
                color: var(--neon-rose);
                border-color: var(--neon-rose);
            }

            .kanban-card-btn.call:hover {
                background: rgba(16, 185, 129, 0.15);
                color: var(--neon-emerald);
                border-color: var(--neon-emerald);
            }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           DIALER
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .dialer-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: var(--space-lg);
            min-height: 400px;
        }

        .dialer-main {
            background: var(--surface-1);
            border: 1px solid var(--border-default);
            border-radius: 12px;
            padding: var(--space-xl);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .dialer-waiting {
            text-align: center;
            color: var(--text-50);
        }

        .dialer-waiting-icon {
            font-size: 48px;
            margin-bottom: var(--space-md);
        }

        .dialer-name {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: var(--space-sm);
        }

        .dialer-phone {
            font-family: var(--font-mono);
            font-size: 24px;
            color: var(--neon-cyan);
            margin-bottom: var(--space-lg);
        }

        .dialer-script {
            background: var(--surface-2);
            border-radius: 8px;
            padding: var(--space-lg);
            width: 100%;
            max-height: 200px;
            overflow-y: auto;
            font-size: 14px;
            line-height: 1.8;
            color: var(--text-70);
            white-space: pre-wrap;
            margin-bottom: var(--space-lg);
        }

        .dialer-controls {
            display: flex;
            gap: var(--space-md);
        }

        .dialer-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid var(--border-default);
            background: var(--surface-2);
            color: var(--text-70);
            font-size: 24px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

            .dialer-btn:hover {
                transform: scale(1.1);
            }

            .dialer-btn.call {
                background: var(--neon-emerald);
                border-color: var(--neon-emerald);
                color: var(--void-pure);
            }

            .dialer-btn.done {
                background: var(--neon-cyan);
                border-color: var(--neon-cyan);
                color: var(--void-pure);
            }

            .dialer-btn.skip:hover {
                background: var(--surface-4);
            }

        .dialer-queue-panel {
            background: var(--surface-1);
            border: 1px solid var(--border-default);
            border-radius: 12px;
            overflow: hidden;
        }

        .dialer-queue-header {
            padding: var(--space-md) var(--space-lg);
            background: var(--surface-2);
            font-weight: 700;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .dialer-queue {
            padding: var(--space-md);
            max-height: 400px;
            overflow-y: auto;
        }

        .dialer-queue-item {
            padding: var(--space-md);
            background: var(--surface-2);
            border-radius: 8px;
            margin-bottom: var(--space-sm);
            cursor: pointer;
            transition: all 0.2s ease;
        }

            .dialer-queue-item:hover {
                background: var(--surface-3);
            }

            .dialer-queue-item.active {
                background: rgba(0, 240, 255, 0.1);
                border: 1px solid var(--neon-cyan);
            }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           BUSINESS CRM BADGE & STYLING
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .business-crm-header {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(168, 85, 247, 0.05));
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        .business-crm-badge {
            display: inline-block;
            padding: 4px 12px;
            background: linear-gradient(135deg, var(--neon-gold), #d97706);
            border-radius: 4px;
            font-family: var(--font-mono);
            font-size: 10px;
            font-weight: 700;
            color: var(--void-pure);
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        /* Interest colors for kanban cards */
        .interest-cinema {
            border-left: 3px solid var(--neon-pink);
        }

        .interest-vr {
            border-left: 3px solid var(--neon-cyan);
        }

        .interest-video {
            border-left: 3px solid var(--neon-emerald);
        }

        .interest-cyber {
            border-left: 3px solid var(--neon-violet);
        }

        .interest-custom {
            border-left: 3px solid var(--neon-gold);
        }

        .interest-talent {
            border-left: 3px solid var(--neon-pink);
        }

        .interest-vendor {
            border-left: 3px solid var(--neon-cyan);
        }

        .interest-sponsor {
            border-left: 3px solid var(--neon-gold);
        }

        .interest-investor {
            border-left: 3px solid var(--neon-emerald);
        }

        /* â”€â”€â”€ KANBAN BOARD â”€â”€â”€ */
        .kanban-wrapper {
            display: flex;
            gap: var(--space-lg);
            height: calc(100vh - 250px);
            overflow-x: auto;
            padding-bottom: var(--space-lg);
        }

        .kanban-column {
            min-width: 300px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
        }

        .kanban-column-header {
            padding: var(--space-md) var(--space-lg);
            border-bottom: 1px solid var(--border-subtle);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .kanban-column-title {
            font-size: 12px;
            font-weight: 700;
            color: var(--text-100);
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .kanban-column-count {
            background: var(--surface-3);
            padding: 2px 8px;
            border-radius: 10px;
            font-family: var(--font-mono);
            font-size: 11px;
            color: var(--text-50);
        }

        .kanban-column-body {
            flex: 1;
            padding: var(--space-md);
            overflow-y: auto;
            min-height: 100px;
        }

        .kanban-card {
            background: var(--surface-2);
            border: 1px solid var(--border-default);
            border-radius: 8px;
            padding: var(--space-md);
            margin-bottom: var(--space-sm);
            cursor: grab;
            position: relative;
            transition: all 0.2s ease;
        }

            .kanban-card:active {
                cursor: grabbing;
            }

            .kanban-card:hover {
                border-color: var(--border-strong);
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            }

            .kanban-card.dragging {
                opacity: 0.5;
                transform: rotate(2deg);
            }

            .kanban-card::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 3px;
                height: 100%;
                border-radius: 8px 0 0 8px;
            }

            .kanban-card.interest-cinema::before {
                background: var(--neon-pink);
            }

            .kanban-card.interest-vr::before {
                background: var(--neon-cyan);
            }

            .kanban-card.interest-cyber::before {
                background: var(--neon-violet);
            }

            .kanban-card.interest-video::before {
                background: var(--neon-emerald);
            }

            .kanban-card.interest-custom::before {
                background: var(--neon-gold);
            }
            /* Production CRM interest types */
            .kanban-card.interest-talent::before {
                background: var(--neon-pink);
            }

            .kanban-card.interest-vendor::before {
                background: var(--neon-blue);
            }

            .kanban-card.interest-sponsor::before {
                background: var(--neon-gold);
            }

            .kanban-card.interest-investor::before {
                background: var(--neon-emerald);
            }

        .kanban-card-name {
            font-weight: 600;
            color: var(--text-100);
            margin-bottom: 4px;
        }

        .kanban-card-phone {
            font-family: var(--font-mono);
            font-size: 11px;
            color: var(--text-50);
            margin-bottom: 8px;
        }

        .kanban-card-value {
            font-family: var(--font-mono);
            font-size: 14px;
            font-weight: 700;
            color: var(--neon-emerald);
        }

        .kanban-card-actions {
            position: absolute;
            top: 8px;
            right: 8px;
            display: flex;
            gap: 4px;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .kanban-card:hover .kanban-card-actions {
            opacity: 1;
        }

        .kanban-card-btn {
            width: 24px;
            height: 24px;
            border-radius: 4px;
            border: none;
            background: var(--surface-3);
            color: var(--text-70);
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

            .kanban-card-btn:hover {
                background: var(--surface-4);
                color: var(--text-100);
            }

            .kanban-card-btn.call:hover {
                background: var(--neon-cyan);
                color: var(--void-pure);
            }

            .kanban-card-btn.del:hover {
                background: var(--neon-rose);
                color: var(--text-100);
            }

        /* â”€â”€â”€ CRM VIEW DISTINCTION â”€â”€â”€ */
        #view-biz-pipeline .card,
        #view-biz-dialer .card,
        #view-biz-intel .card {
            border-top: 3px solid var(--mode-global);
            background: linear-gradient(180deg, rgba(168, 85, 247, 0.03) 0%, var(--surface-1) 100%);
        }

        #view-prod-pipeline .card,
        #view-prod-dialer .card,
        #view-prod-intel .card {
            border-top: 3px solid var(--mode-production);
            background: linear-gradient(180deg, rgba(0, 240, 255, 0.03) 0%, var(--surface-1) 100%);
        }

        #view-biz-pipeline .kanban-column,
        #view-biz-dialer .kanban-column {
            border-top: 3px solid var(--mode-global);
        }

        #view-prod-pipeline .kanban-column,
        #view-prod-dialer .kanban-column {
            border-top: 3px solid var(--mode-production);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           PRODUCTION DOCUMENTS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .doc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: var(--space-lg);
        }

        .doc-card {
            background: linear-gradient(145deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.01) 100%);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 16px;
            padding: 24px 20px 20px;
            text-align: center;
            transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .doc-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(34,211,238,0.06) 0%, transparent 60%);
            opacity: 0;
            transition: opacity 0.35s;
            border-radius: inherit;
        }

        .doc-card::after {
            content: '';
            position: absolute;
            bottom: 0; left: 0; right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, #22d3ee, transparent);
            transform: scaleX(0);
            transform-origin: center;
            transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
        }

            .doc-card:hover {
                border-color: rgba(34,211,238,0.35);
                transform: translateY(-5px);
                box-shadow: 0 16px 40px rgba(0,0,0,0.5), 0 0 24px rgba(34,211,238,0.1);
                background: linear-gradient(145deg, rgba(34,211,238,0.04) 0%, rgba(255,255,255,0.02) 100%);
            }

            .doc-card:hover::before { opacity: 1; }
            .doc-card:hover::after  { transform: scaleX(1); }

        .doc-icon {
            font-size: 36px;
            margin-bottom: 12px;
            display: block;
            line-height: 1;
            filter: drop-shadow(0 2px 8px rgba(0,0,0,0.4));
        }

        .doc-title {
            font-weight: 700;
            font-size: 14px;
            margin-bottom: 6px;
            color: rgba(255,255,255,0.9);
            letter-spacing: 0.1px;
        }

        .doc-desc {
            font-size: 11.5px;
            color: rgba(255,255,255,0.38);
            line-height: 1.5;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           GANTT CHART
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* STATE-OF-THE-ART GANTT CHART STYLES */
        .gantt-chart {
            background: var(--surface-1);
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid var(--border-default);
        }

        .gantt-header {
            display: grid;
            grid-template-columns: 250px 1fr 100px;
            background: var(--surface-2);
            border-bottom: 2px solid var(--border-strong);
            font-weight: 600;
            font-size: 11px;
            letter-spacing: 1px;
            color: var(--text-70);
            text-transform: uppercase;
        }

        .gantt-task-info-header,
        .gantt-actions-header {
            padding: 12px;
            display: flex;
            align-items: center;
        }

        .gantt-timeline-header {
            position: relative;
            border-left: 1px solid var(--border-default);
            border-right: 1px solid var(--border-default);
        }

        .gantt-timeline-months {
            display: flex;
            border-bottom: 1px solid var(--border-subtle);
        }

        .gantt-month {
            padding: 8px 4px;
            text-align: center;
            border-right: 1px solid var(--border-subtle);
            font-weight: 700;
            font-size: 10px;
            color: var(--neon-cyan);
        }

        .gantt-timeline-weeks {
            display: flex;
        }

        .gantt-week {
            padding: 6px 4px;
            text-align: center;
            border-right: 1px solid var(--border-subtle);
            font-size: 9px;
            color: var(--text-50);
        }

        .gantt-body {
            max-height: 600px;
            overflow-y: auto;
        }

        .gantt-row {
            display: grid;
            grid-template-columns: 250px 1fr 100px;
            border-bottom: 1px solid var(--border-subtle);
            min-height: 60px;
            transition: background 0.2s ease;
        }

            .gantt-row:hover {
                background: rgba(255, 255, 255, 0.02);
            }

        .gantt-task-info {
            padding: 12px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 4px;
        }

        .gantt-task-name {
            font-size: 13px;
            color: var(--text-90);
            font-weight: 500;
        }

        .gantt-task-meta {
            display: flex;
            gap: 12px;
            font-size: 10px;
            color: var(--text-50);
            font-family: var(--font-mono);
        }

        .gantt-timeline-area {
            position: relative;
            border-left: 1px solid var(--border-default);
            border-right: 1px solid var(--border-default);
            background: linear-gradient(90deg, transparent 0%, transparent calc(100% / 7 - 1px), var(--border-subtle) calc(100% / 7 - 1px), var(--border-subtle) calc(100% / 7) );
            background-size: calc(100% / 7) 100%;
        }

        .gantt-bar {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            height: 32px;
            border-radius: 6px;
            cursor: move;
            transition: all 0.2s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

            .gantt-bar:hover {
                transform: translateY(-50%) scale(1.02);
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
                z-index: 10;
            }

            .gantt-bar.critical {
                border: 2px solid var(--neon-rose);
                box-shadow: 0 0 16px rgba(244, 63, 94, 0.4);
            }

            .gantt-bar.overdue {
                opacity: 0.7;
                border: 2px dashed var(--neon-rose);
            }

        .gantt-bar-progress {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            border-radius: 6px 0 0 6px;
            pointer-events: none;
        }

        .gantt-bar-content {
            position: relative;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 12px;
            color: white;
            font-size: 11px;
            font-weight: 600;
        }

        .gantt-bar-label {
            flex: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .gantt-bar-progress-label {
            font-size: 10px;
            opacity: 0.9;
        }

        .gantt-bar-resize-left,
        .gantt-bar-resize-right {
            position: absolute;
            top: 0;
            width: 8px;
            height: 100%;
            cursor: ew-resize;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .gantt-bar-resize-left {
            left: 0;
            background: linear-gradient(90deg, rgba(255,255,255,0.3), transparent);
        }

        .gantt-bar-resize-right {
            right: 0;
            background: linear-gradient(270deg, rgba(255,255,255,0.3), transparent);
        }

        .gantt-bar:hover .gantt-bar-resize-left,
        .gantt-bar:hover .gantt-bar-resize-right {
            opacity: 1;
        }

        .gantt-milestone {
            position: absolute;
            top: 50%;
            transform: translateY(-50%) translateX(-50%);
            z-index: 5;
        }

        .milestone-diamond {
            width: 16px;
            height: 16px;
            background: var(--neon-gold);
            transform: rotate(45deg);
            box-shadow: 0 0 12px rgba(251, 191, 36, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--void-pure);
            font-size: 12px;
        }

        .gantt-today-marker {
            position: absolute;
            top: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 20;
        }

        .today-line {
            width: 2px;
            height: 100%;
            background: var(--neon-rose);
            box-shadow: 0 0 8px rgba(244, 63, 94, 0.6);
        }

        .today-label {
            position: absolute;
            top: 4px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--neon-rose);
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 8px;
            font-weight: 700;
            letter-spacing: 0.5px;
            white-space: nowrap;
        }

        .gantt-actions {
            padding: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-icon {
            background: none;
            border: none;
            padding: 4px;
            cursor: pointer;
            font-size: 16px;
            opacity: 0.6;
            transition: all 0.2s ease;
        }

            .btn-icon:hover {
                opacity: 1;
                transform: scale(1.1);
            }

        .gantt-dependency-arrow {
            pointer-events: none;
            z-index: 1;
        }


        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           WEATHER WIDGET
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .weather-widget {
            background: linear-gradient(135deg, var(--surface-2), var(--surface-3));
            border: 1px solid var(--border-default);
            border-radius: 12px;
            padding: var(--space-lg);
            display: flex;
            align-items: center;
            gap: var(--space-lg);
        }

        .weather-icon {
            font-size: 48px;
        }

        .weather-temp {
            font-family: var(--font-mono);
            font-size: 36px;
            font-weight: 700;
        }

        .weather-details {
            font-size: 12px;
            color: var(--text-50);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CALENDAR VIEW
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ULTIMATE CALENDAR SYSTEM
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        /* Calendar Command Bar */
        .calendar-command-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-lg) var(--space-xl);
            background: var(--surface-1);
            border-bottom: 1px solid var(--border-default);
            margin-bottom: var(--space-lg);
        }

        .calendar-nav {
            display: flex;
            align-items: center;
            gap: var(--space-md);
        }

        .calendar-month-title {
            font-family: var(--font-display);
            font-size: 28px;
            letter-spacing: 3px;
            color: var(--text-100);
            margin: 0;
            min-width: 250px;
            text-align: center;
        }

        .calendar-actions {
            display: flex;
            align-items: center;
            gap: var(--space-md);
        }

        .btn-icon {
            width: 36px;
            height: 36px;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        /* View Toggle */
        .view-toggle {
            display: flex;
            background: var(--surface-2);
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid var(--border-default);
        }

        .view-toggle-btn {
            padding: 8px 16px;
            background: transparent;
            border: none;
            color: var(--text-50);
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: var(--font-sans);
        }

            .view-toggle-btn.active {
                background: var(--neon-cyan);
                color: var(--void-pure);
            }

            .view-toggle-btn:hover:not(.active) {
                background: var(--surface-3);
                color: var(--text-90);
            }

        /* Calendar Stats Panel */
        .calendar-stats-panel {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--space-md);
            margin-bottom: var(--space-lg);
            padding: 0 var(--space-xl);
        }

        .cal-stat-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: var(--space-lg);
            display: flex;
            align-items: center;
            gap: var(--space-md);
            transition: all 0.3s ease;
        }

            .cal-stat-card:hover {
                border-color: var(--neon-cyan);
                box-shadow: var(--shadow-glow-cyan);
                transform: translateY(-2px);
            }

        .cal-stat-icon {
            font-size: 32px;
            line-height: 1;
        }

        .cal-stat-content {
            flex: 1;
        }

        .cal-stat-value {
            font-family: var(--font-mono);
            font-size: 28px;
            font-weight: 700;
            color: var(--neon-cyan);
            line-height: 1;
            margin-bottom: 4px;
        }

        .cal-stat-label {
            font-size: 11px;
            color: var(--text-50);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        /* Calendar Legend */
        .calendar-legend {
            background: var(--surface-2);
            border: 1px solid var(--border-default);
            border-radius: 8px;
            padding: var(--space-md) var(--space-lg);
            margin: 0 var(--space-xl) var(--space-lg);
            display: flex;
            align-items: center;
            gap: var(--space-xl);
        }

        .legend-title {
            font-size: 10px;
            font-weight: 700;
            color: var(--text-50);
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .legend-items {
            display: flex;
            gap: var(--space-lg);
            flex: 1;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            user-select: none;
        }

            .legend-item input[type="checkbox"] {
                width: 16px;
                height: 16px;
                cursor: pointer;
            }

        .legend-color {
            width: 24px;
            height: 12px;
            border-radius: 3px;
        }

        .shoot-day-color {
            background: var(--neon-cyan);
        }

        .milestone-color {
            background: var(--neon-violet);
        }

        .risk-color {
            background: var(--neon-rose);
        }

        .gantt-color {
            background: linear-gradient(90deg, var(--neon-gold), var(--neon-emerald));
        }

        .legend-text {
            font-size: 12px;
            color: var(--text-70);
            font-weight: 500;
        }

        /* Calendar Container */
        .calendar-container {
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: var(--space-lg);
            padding: 0 var(--space-xl) var(--space-xl);
            min-height: 600px;
        }

        .calendar-main {
            background: var(--surface-1);
            border: 1px solid var(--border-default);
            border-radius: 12px;
            overflow: hidden;
        }

        /* Weekday Headers */
        .calendar-weekday-headers {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            background: var(--surface-2);
            border-bottom: 2px solid var(--border-strong);
        }

        .weekday-header {
            padding: var(--space-md);
            text-align: center;
            font-size: 11px;
            font-weight: 700;
            color: var(--text-50);
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        /* Calendar Days Grid */
        .calendar-days-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            grid-auto-rows: minmax(120px, auto);
        }

        .calendar-day-cell {
            background: var(--void-deep);
            border: 1px solid var(--border-subtle);
            padding: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }

            .calendar-day-cell:hover {
                background: var(--surface-1);
                border-color: var(--neon-cyan);
                z-index: 10;
                box-shadow: 0 0 20px rgba(0, 240, 255, 0.1);
            }

            .calendar-day-cell.empty {
                background: var(--void-pure);
                cursor: default;
                opacity: 0.3;
            }

                .calendar-day-cell.empty:hover {
                    background: var(--void-pure);
                    border-color: var(--border-subtle);
                    box-shadow: none;
                }

            .calendar-day-cell.today {
                border: 2px solid var(--neon-cyan);
                box-shadow: 0 0 20px rgba(0, 240, 255, 0.2);
            }

            .calendar-day-cell.selected {
                background: rgba(0, 240, 255, 0.05);
                border-color: var(--neon-cyan);
            }

            .calendar-day-cell.has-shoot {
                background: rgba(0, 240, 255, 0.03);
            }

            .calendar-day-cell.has-milestone {
                background: rgba(168, 85, 247, 0.03);
            }

            .calendar-day-cell.has-risk {
                background: rgba(244, 63, 94, 0.03);
            }

            .calendar-day-cell.multi-event {
                background: linear-gradient(135deg, rgba(0, 240, 255, 0.05), rgba(168, 85, 247, 0.05));
            }

        /* Day Number */
        .day-number {
            font-family: var(--font-mono);
            font-size: 14px;
            font-weight: 700;
            color: var(--text-70);
            margin-bottom: 6px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .calendar-day-cell.today .day-number {
            color: var(--neon-cyan);
        }

        .day-number-value {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .today-indicator {
            width: 6px;
            height: 6px;
            background: var(--neon-cyan);
            border-radius: 50%;
            animation: pulse 2s ease-in-out infinite;
        }

        /* Day Events */
        .day-events {
            display: flex;
            flex-direction: column;
            gap: 3px;
        }

        .day-event {
            padding: 3px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            transition: all 0.2s ease;
        }

            .day-event:hover {
                transform: translateX(2px);
            }

            .day-event.shoot {
                background: rgba(0, 240, 255, 0.15);
                color: var(--neon-cyan);
                border-left: 3px solid var(--neon-cyan);
            }

            .day-event.milestone {
                background: rgba(168, 85, 247, 0.15);
                color: var(--neon-violet);
                border-left: 3px solid var(--neon-violet);
            }

            .day-event.risk {
                background: rgba(244, 63, 94, 0.15);
                color: var(--neon-rose);
                border-left: 3px solid var(--neon-rose);
            }

            .day-event.gantt {
                background: rgba(251, 191, 36, 0.15);
                color: var(--neon-gold);
                border-left: 3px solid var(--neon-gold);
            }

        .day-event-icon {
            font-size: 9px;
        }

        .day-event-time {
            font-family: var(--font-mono);
            font-size: 9px;
            opacity: 0.8;
        }

        .event-count-badge {
            background: var(--surface-2);
            color: var(--text-50);
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 9px;
            font-weight: 700;
        }

        /* Calendar Sidebar */
        .calendar-sidebar {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            backdrop-filter: blur(20px);
        }

        .sidebar-header {
            background: var(--surface-2);
            padding: var(--space-lg);
            border-bottom: 1px solid var(--border-default);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .sidebar-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-100);
            margin: 0;
        }

        .sidebar-close {
            background: transparent;
            border: none;
            color: var(--text-50);
            font-size: 28px;
            cursor: pointer;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

            .sidebar-close:hover {
                background: var(--surface-3);
                color: var(--text-100);
            }

        .sidebar-content {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-lg);
        }

        .sidebar-empty {
            text-align: center;
            color: var(--text-50);
            padding: var(--space-2xl);
            font-size: 14px;
        }

        /* Sidebar Day Info */
        .sidebar-day-header {
            margin-bottom: var(--space-lg);
            padding-bottom: var(--space-lg);
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-day-date {
            font-family: var(--font-display);
            font-size: 24px;
            letter-spacing: 2px;
            color: var(--text-100);
            margin-bottom: 4px;
        }

        .sidebar-day-meta {
            font-size: 12px;
            color: var(--text-50);
            font-family: var(--font-mono);
        }

        /* Sidebar Event Sections */
        .sidebar-section {
            margin-bottom: var(--space-xl);
        }

        .sidebar-section-title {
            font-size: 11px;
            font-weight: 700;
            color: var(--text-50);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: var(--space-md);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sidebar-section-icon {
            font-size: 14px;
        }

        /* Sidebar Event Cards */
        .sidebar-event-card {
            background: var(--surface-2);
            border: 1px solid var(--border-default);
            border-radius: 8px;
            padding: var(--space-md);
            margin-bottom: var(--space-sm);
            transition: all 0.2s ease;
        }

            .sidebar-event-card:hover {
                border-color: var(--neon-cyan);
                box-shadow: 0 4px 12px rgba(0, 240, 255, 0.1);
            }

        .sidebar-event-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 8px;
        }

        .sidebar-event-title {
            font-weight: 600;
            color: var(--text-100);
            font-size: 14px;
        }

        .sidebar-event-badge {
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 9px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .badge-shoot {
            background: rgba(0, 240, 255, 0.15);
            color: var(--neon-cyan);
        }

        .badge-milestone {
            background: rgba(168, 85, 247, 0.15);
            color: var(--neon-violet);
        }

        .badge-risk {
            background: rgba(244, 63, 94, 0.15);
            color: var(--neon-rose);
        }

        .sidebar-event-detail {
            font-size: 12px;
            color: var(--text-70);
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .detail-label {
            color: var(--text-50);
            font-weight: 600;
            min-width: 60px;
        }

        .sidebar-event-actions {
            display: flex;
            gap: 6px;
            margin-top: var(--space-sm);
            padding-top: var(--space-sm);
            border-top: 1px solid var(--border-subtle);
        }

        /* Quick Add Button */
        .sidebar-quick-add {
            width: 100%;
            padding: var(--space-md);
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-cyan-dim));
            border: none;
            border-radius: 8px;
            color: var(--void-pure);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

            .sidebar-quick-add:hover {
                box-shadow: var(--shadow-glow-cyan);
                transform: translateY(-2px);
            }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           EXPORT & BACKUP STYLES
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .export-section {
            margin-bottom: var(--space-xl);
            padding: var(--space-lg);
            background: var(--surface-3);
            border: 1px solid var(--border-default);
            border-radius: 12px;
        }

        .export-section-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-100);
            margin-bottom: var(--space-sm);
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .export-section-desc {
            font-size: 13px;
            color: var(--text-70);
            margin-bottom: var(--space-lg);
            line-height: 1.6;
        }

        .export-buttons {
            display: flex;
            gap: var(--space-md);
            flex-wrap: wrap;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           EXPORT & BACKUP COMMAND CENTER â€” REDESIGNED
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        #view-export {
            font-family: var(--font-mono, 'JetBrains Mono', monospace);
        }

        .eb-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 24px;
            margin-bottom: 28px;
            flex-wrap: wrap;
        }

        .eb-title {
            font-family: var(--font-display, 'Bebas Neue', sans-serif);
            font-size: 42px;
            letter-spacing: 6px;
            color: var(--text-100);
            line-height: 1;
            background: linear-gradient(135deg, #fff 0%, var(--neon-cyan, #22d3ee) 60%, #fff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .eb-subtitle {
            font-size: 12px;
            color: var(--text-50);
            letter-spacing: 2px;
            text-transform: uppercase;
            margin-top: 4px;
        }

        .eb-header-stats {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            align-items: center;
        }

        .eb-stat-pill {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: rgba(34,211,238,0.07);
            border: 1px solid rgba(34,211,238,0.2);
            border-radius: 10px;
            padding: 10px 18px;
            min-width: 80px;
            transition: all 0.3s;
        }

        .eb-stat-pill:hover {
            border-color: rgba(34,211,238,0.5);
            background: rgba(34,211,238,0.12);
        }

        .eb-stat-num {
            font-size: 22px;
            font-weight: 700;
            color: var(--neon-cyan, #22d3ee);
            line-height: 1;
        }

        .eb-stat-label {
            font-size: 10px;
            color: var(--text-50);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 3px;
        }

        /* QUICK ACTION STRIP */
        .eb-quickstrip {
            display: flex;
            gap: 12px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .eb-quick-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 14px 24px;
            border-radius: 10px;
            font-size: 13px;
            font-weight: 700;
            letter-spacing: 1.5px;
            cursor: pointer;
            border: none;
            transition: all 0.25s cubic-bezier(0.4,0,0.2,1);
            text-transform: uppercase;
            font-family: var(--font-mono, monospace);
            position: relative;
            overflow: hidden;
        }

        .eb-quick-btn::after {
            content: '';
            position: absolute;
            inset: 0;
            background: rgba(255,255,255,0.08);
            opacity: 0;
            transition: opacity 0.2s;
        }

        .eb-quick-btn:hover::after { opacity: 1; }

        .eb-quick-btn:active { transform: scale(0.97); }

        .eb-quick-primary {
            background: linear-gradient(135deg, var(--neon-cyan, #22d3ee) 0%, #06b6d4 100%);
            color: #000;
            box-shadow: 0 4px 20px rgba(34,211,238,0.35);
        }

        .eb-quick-primary:hover {
            box-shadow: 0 6px 28px rgba(34,211,238,0.5);
            transform: translateY(-2px);
        }

        .eb-quick-save {
            background: rgba(34,211,238,0.1);
            border: 1.5px solid rgba(34,211,238,0.4) !important;
            color: var(--neon-cyan, #22d3ee);
        }

        .eb-quick-save:hover {
            background: rgba(34,211,238,0.18);
            border-color: var(--neon-cyan, #22d3ee) !important;
            transform: translateY(-2px);
        }

        .eb-quick-import {
            background: rgba(139,92,246,0.1);
            border: 1.5px solid rgba(139,92,246,0.4) !important;
            color: #a78bfa;
        }

        .eb-quick-import:hover {
            background: rgba(139,92,246,0.18);
            border-color: #8b5cf6 !important;
            transform: translateY(-2px);
        }

        /* DRAG DROP ZONE */
        .eb-dropzone {
            border: 2px dashed rgba(34,211,238,0.25);
            border-radius: 14px;
            padding: 32px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 28px;
            background: rgba(34,211,238,0.03);
            position: relative;
            overflow: hidden;
        }

        .eb-dropzone::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(ellipse at center, rgba(34,211,238,0.08) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.4s;
        }

        .eb-dropzone:hover, .eb-dropzone.drag-over {
            border-color: rgba(34,211,238,0.6);
            background: rgba(34,211,238,0.06);
        }

        .eb-dropzone:hover::before, .eb-dropzone.drag-over::before {
            opacity: 1;
        }

        .eb-dropzone.drag-over {
            border-color: var(--neon-cyan, #22d3ee);
            box-shadow: 0 0 30px rgba(34,211,238,0.2);
        }

        .eb-dropzone-inner { position: relative; z-index: 1; }

        .eb-dropzone-icon {
            color: var(--neon-cyan, #22d3ee);
            margin-bottom: 12px;
            opacity: 0.7;
            transition: opacity 0.3s, transform 0.3s;
        }

        .eb-dropzone:hover .eb-dropzone-icon {
            opacity: 1;
            transform: translateY(-4px);
        }

        .eb-dropzone-text {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-100);
            margin-bottom: 6px;
        }

        .eb-dropzone-sub {
            font-size: 12px;
            color: var(--text-50);
            margin-bottom: 14px;
        }

        .eb-dropzone-formats {
            display: flex;
            gap: 8px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .eb-format-tag {
            padding: 4px 12px;
            background: rgba(34,211,238,0.1);
            border: 1px solid rgba(34,211,238,0.25);
            border-radius: 20px;
            font-size: 11px;
            color: var(--neon-cyan, #22d3ee);
            letter-spacing: 0.5px;
        }

        /* MAIN GRID */
        .eb-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin-bottom: 24px;
        }

        @media (max-width: 1100px) { .eb-grid { grid-template-columns: 1fr 1fr; } }
        @media (max-width: 700px)  { .eb-grid { grid-template-columns: 1fr; } }

        /* CARDS */
        .eb-card {
            background: #111;
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 14px;
            overflow: hidden;
            transition: border-color 0.3s;
        }

        .eb-card:hover { border-color: rgba(34,211,238,0.25); }

        .eb-card-header {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 18px 20px 14px;
            border-bottom: 1px solid rgba(255,255,255,0.06);
            position: relative;
        }

        .eb-card-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .eb-icon-system { background: rgba(34,211,238,0.12); color: var(--neon-cyan, #22d3ee); }
        .eb-icon-prod   { background: rgba(251,191,36,0.12); color: #fbbf24; }
        .eb-icon-saves  { background: rgba(139,92,246,0.12); color: #a78bfa; }
        .eb-icon-import { background: rgba(52,211,153,0.12); color: #34d399; }

        .eb-card-title {
            font-size: 14px;
            font-weight: 700;
            color: var(--text-100);
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        .eb-card-sub {
            font-size: 11px;
            color: var(--text-50);
            margin-top: 2px;
        }

        .eb-card-body {
            padding: 8px 0;
        }

        /* ACTION ROWS */
        .eb-action-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 20px;
            cursor: pointer;
            transition: background 0.2s;
            gap: 12px;
        }

        .eb-action-row:hover {
            background: rgba(34,211,238,0.05);
        }

        .eb-action-row:hover .eb-action-arrow {
            color: var(--neon-cyan, #22d3ee);
            transform: translateX(4px);
        }

        .eb-action-row:hover .eb-action-name {
            color: var(--text-100);
        }

        .eb-action-info { flex: 1; min-width: 0; }

        .eb-action-name {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-80, #ccc);
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
            transition: color 0.2s;
        }

        .eb-action-desc {
            font-size: 11px;
            color: var(--text-40);
            margin-top: 2px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .eb-action-arrow {
            font-size: 16px;
            color: var(--text-30);
            transition: color 0.2s, transform 0.2s;
            flex-shrink: 0;
        }

        /* BADGES */
        .eb-badge {
            font-size: 9px;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .eb-badge-primary { background: rgba(34,211,238,0.15); color: var(--neon-cyan, #22d3ee); border: 1px solid rgba(34,211,238,0.3); }
        .eb-badge-csv     { background: rgba(52,211,153,0.15); color: #34d399; border: 1px solid rgba(52,211,153,0.3); }
        .eb-badge-txt     { background: rgba(251,191,36,0.15); color: #fbbf24; border: 1px solid rgba(251,191,36,0.3); }

        /* SAVE STATES COLUMN */
        .eb-saves-body {
            max-height: 420px;
            overflow-y: auto;
            padding: 0;
        }

        .eb-saves-body::-webkit-scrollbar { width: 4px; }
        .eb-saves-body::-webkit-scrollbar-track { background: transparent; }
        .eb-saves-body::-webkit-scrollbar-thumb { background: rgba(34,211,238,0.3); border-radius: 4px; }

        .eb-saves-empty {
            padding: 40px 20px;
            text-align: center;
        }

        .eb-saves-empty-icon {
            font-size: 32px;
            margin-bottom: 10px;
            opacity: 0.5;
        }

        .eb-saves-empty-text {
            font-size: 13px;
            color: var(--text-50);
            font-weight: 600;
            margin-bottom: 6px;
        }

        .eb-saves-empty-sub {
            font-size: 11px;
            color: var(--text-30);
        }

        .eb-save-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            gap: 12px;
            border-bottom: 1px solid rgba(255,255,255,0.04);
            transition: background 0.2s;
        }

        .eb-save-item:last-child { border-bottom: none; }
        .eb-save-item:hover { background: rgba(139,92,246,0.05); }

        .eb-save-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #a78bfa;
            flex-shrink: 0;
            box-shadow: 0 0 6px rgba(139,92,246,0.5);
        }

        .eb-save-meta { flex: 1; min-width: 0; }

        .eb-save-label {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-90);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .eb-save-time {
            font-size: 10px;
            color: var(--text-40);
            margin-top: 2px;
        }

        .eb-save-info {
            font-size: 10px;
            color: var(--text-40);
            margin-top: 1px;
        }

        .eb-save-actions {
            display: flex;
            gap: 6px;
            flex-shrink: 0;
        }

        .eb-save-btn {
            padding: 5px 10px;
            border-radius: 6px;
            font-size: 10px;
            font-weight: 700;
            cursor: pointer;
            border: none;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.2s;
            font-family: var(--font-mono, monospace);
        }

        .eb-save-btn-restore {
            background: rgba(139,92,246,0.15);
            border: 1px solid rgba(139,92,246,0.3) !important;
            color: #a78bfa;
        }

        .eb-save-btn-restore:hover {
            background: rgba(139,92,246,0.3);
            border-color: #a78bfa !important;
        }

        .eb-save-btn-export {
            background: rgba(34,211,238,0.1);
            border: 1px solid rgba(34,211,238,0.25) !important;
            color: var(--neon-cyan, #22d3ee);
        }

        .eb-save-btn-export:hover {
            background: rgba(34,211,238,0.2);
            border-color: var(--neon-cyan, #22d3ee) !important;
        }

        .eb-save-btn-del {
            background: rgba(239,68,68,0.1);
            border: 1px solid rgba(239,68,68,0.25) !important;
            color: #f87171;
        }

        .eb-save-btn-del:hover {
            background: rgba(239,68,68,0.2);
            border-color: #ef4444 !important;
        }

        .eb-new-save-btn {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-left: auto;
            padding: 6px 12px;
            border-radius: 7px;
            font-size: 11px;
            font-weight: 700;
            cursor: pointer;
            border: 1.5px solid rgba(139,92,246,0.4) !important;
            background: rgba(139,92,246,0.1);
            color: #a78bfa;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.2s;
            font-family: var(--font-mono, monospace);
        }

        .eb-new-save-btn:hover {
            background: rgba(139,92,246,0.2);
            border-color: #8b5cf6 !important;
            transform: translateY(-1px);
        }

        /* IMPORT SECTION */
        .eb-import-section {
            background: #0d0d0d;
            border: 1px solid rgba(52,211,153,0.15);
            border-radius: 14px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .eb-import-header {
            display: flex;
            align-items: center;
            gap: 14px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .eb-import-main-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-left: auto;
            padding: 12px 22px;
            border-radius: 9px;
            font-size: 13px;
            font-weight: 700;
            cursor: pointer;
            border: 1.5px solid rgba(52,211,153,0.5) !important;
            background: rgba(52,211,153,0.1);
            color: #34d399;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.25s;
            font-family: var(--font-mono, monospace);
        }

        .eb-import-main-btn:hover {
            background: rgba(52,211,153,0.2);
            border-color: #34d399 !important;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52,211,153,0.2);
        }

        .eb-import-types {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
        }

        @media (max-width: 900px) { .eb-import-types { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 500px) { .eb-import-types { grid-template-columns: 1fr; } }

        .eb-import-type {
            background: rgba(52,211,153,0.05);
            border: 1px solid rgba(52,211,153,0.12);
            border-radius: 10px;
            padding: 16px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .eb-import-type:hover {
            background: rgba(52,211,153,0.1);
            border-color: rgba(52,211,153,0.3);
            transform: translateY(-2px);
        }

        .eb-import-type-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .eb-import-type-name {
            font-size: 12px;
            font-weight: 700;
            color: var(--text-90);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
        }

        .eb-import-type-desc {
            font-size: 11px;
            color: var(--text-40);
            line-height: 1.4;
        }

        /* TOAST */
        .eb-toast {
            position: fixed;
            bottom: 28px;
            right: 28px;
            padding: 14px 22px;
            border-radius: 10px;
            font-size: 13px;
            font-weight: 600;
            color: #fff;
            z-index: 9999;
            transform: translateY(80px);
            opacity: 0;
            transition: all 0.35s cubic-bezier(0.4,0,0.2,1);
            pointer-events: none;
            max-width: 340px;
            font-family: var(--font-mono, monospace);
            box-shadow: 0 8px 24px rgba(0,0,0,0.5);
        }

        .eb-toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .eb-toast.toast-success { background: linear-gradient(135deg, #059669, #10b981); border: 1px solid #34d399; }
        .eb-toast.toast-error   { background: linear-gradient(135deg, #dc2626, #ef4444); border: 1px solid #f87171; }
        .eb-toast.toast-info    { background: linear-gradient(135deg, #0891b2, #06b6d4); border: 1px solid var(--neon-cyan, #22d3ee); }
        .eb-toast.toast-warn    { background: linear-gradient(135deg, #d97706, #f59e0b); border: 1px solid #fbbf24; }

        .page-header {
            margin-bottom: var(--space-xl);
        }

        .page-title {
            font-family: var(--font-display);
            font-size: 32px;
            letter-spacing: 4px;
            margin-bottom: var(--space-sm);
        }

        .page-subtitle {
            font-size: 14px;
            color: var(--text-70);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RESPONSIVE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* Responsive Calendar */
        @media (max-width: 1400px) {
            .calendar-container {
                grid-template-columns: 1fr 320px;
            }

            .calendar-stats-panel {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 1024px) {
            .calendar-container {
                grid-template-columns: 1fr;
            }

            .calendar-sidebar {
                display: none;
            }

                .calendar-sidebar.mobile-open {
                    display: flex;
                    position: fixed;
                    top: 0;
                    right: 0;
                    bottom: 0;
                    width: 90%;
                    max-width: 400px;
                    z-index: 1000;
                    box-shadow: -4px 0 20px rgba(0, 0, 0, 0.5);
                }
        }

        /* Old calendar styles for compatibility */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 2px;
        }

        .calendar-header {
            background: var(--surface-2);
            padding: var(--space-md);
            text-align: center;
            font-weight: 700;
            font-size: 11px;
            text-transform: uppercase;
        }

        .calendar-day {
            background: var(--surface-1);
            min-height: 100px;
            padding: var(--space-sm);
            border: 1px solid var(--border-subtle);
        }

            .calendar-day.today {
                border-color: var(--neon-cyan);
            }

            .calendar-day.has-event {
                background: rgba(0, 240, 255, 0.05);
            }

        .calendar-date {
            font-family: var(--font-mono);
            font-size: 12px;
            font-weight: 700;
            margin-bottom: var(--space-xs);
        }

        .calendar-event {
            background: var(--neon-cyan);
            color: var(--void-pure);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            margin-bottom: 2px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SUCCESS NOTIFICATION
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .success-notification {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            background: var(--surface-2);
            border: 2px solid var(--neon-emerald);
            border-radius: 12px;
            padding: var(--space-xl);
            z-index: 2000;
            box-shadow: 0 8px 32px rgba(16, 185, 129, 0.3), 0 0 60px rgba(16, 185, 129, 0.2);
            opacity: 0;
            pointer-events: none;
            transition: all 0.4s var(--ease-out-expo);
            min-width: 400px;
            text-align: center;
        }

            .success-notification.show {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
                pointer-events: auto;
            }

        .success-icon {
            font-size: 64px;
            color: var(--neon-emerald);
            margin-bottom: var(--space-md);
            animation: successPop 0.6s var(--ease-out-expo);
        }

        @keyframes successPop {
            0% {
                transform: scale(0);
            }

            50% {
                transform: scale(1.2);
            }

            100% {
                transform: scale(1);
            }
        }

        .success-title {
            font-family: var(--font-display);
            font-size: 28px;
            letter-spacing: 2px;
            color: var(--neon-emerald);
            margin-bottom: var(--space-sm);
        }

        .success-message {
            font-family: var(--font-mono);
            font-size: 13px;
            color: var(--text-70);
            margin-bottom: var(--space-lg);
        }

        .success-production-name {
            font-weight: 700;
            color: var(--text-100);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RESPONSIVE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        @media (max-width: 1200px) {
            .grid-6 {
                grid-template-columns: repeat(3, 1fr);
            }

            .kanban-wrapper {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            .app {
                grid-template-columns: 1fr;
            }

            .grid-2, .grid-3, .grid-4, .grid-6 {
                grid-template-columns: 1fr;
            }

            .kanban-wrapper {
                grid-template-columns: 1fr;
            }

            .dialer-grid {
                grid-template-columns: 1fr;
            }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RESPONSIVE DESIGN - ALL SCREEN SIZES
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        /* 4K and Ultra-Wide (2560px+) */
        @media (min-width: 2560px) {
            .content-inner {
                max-width: 2400px;
                margin: 0 auto;
            }
        }

        /* Desktop Large (1920px - 2559px) - Default, no changes needed */

        /* Desktop Standard (1440px - 1919px) */
        @media (max-width: 1919px) {
            html {
                font-size: 15px;
            }

            .content-inner {
                padding: 36px;
            }
        }

        /* Desktop Small / Laptop (1280px - 1439px) */
        @media (max-width: 1439px) {
            html {
                font-size: 14px;
            }

            .content-inner {
                padding: 30px;
            }

            .stats-grid {
                grid-template-columns: repeat(3, 1fr);
            }

            .strip-form {
                grid-template-columns: 1fr 1fr;
            }
        }

        /* Laptop / Tablet Landscape (1024px - 1279px) */
        @media (max-width: 1279px) {
            html {
                font-size: 14px;
            }

            /* Sidebar becomes collapsible */
            .app {
                grid-template-columns: 60px 1fr;
            }

            .sidebar {
                width: 60px;
                transition: width 0.3s ease;
            }

                .sidebar:hover, .sidebar.expanded {
                    width: 280px;
                }

                .brand-name, .brand-tagline, .nav-label,
                .sidebar:not(:hover):not(.expanded) .user-name,
                .sidebar:not(:hover):not(.expanded) .user-role {
                    display: none;
                }

                .sidebar:hover .brand-name, .sidebar.expanded .brand-name,
                .sidebar:hover .brand-tagline, .sidebar.expanded .brand-tagline,
                .sidebar:hover .nav-label, .sidebar.expanded .nav-label,
                .sidebar:hover .user-name, .sidebar.expanded .user-name,
                .sidebar:hover .user-role, .sidebar.expanded .user-role {
                    display: block;
                }

            .mode-banner {
                left: 60px;
            }

            .sidebar:hover + .content {
                margin-left: 280px;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .content-inner {
                padding: 24px;
            }
        }

        /* Tablet Portrait (768px - 1023px) */
        @media (max-width: 1023px) {
            html {
                font-size: 13px;
            }

            /* Full mobile sidebar - FIXED FOR MOBILE */
            .app {
                grid-template-columns: 1fr !important;
                display: block !important;
            }

            .sidebar {
                position: fixed !important;
                left: 0 !important;
                top: 0 !important;
                bottom: 0 !important;
                width: 280px !important;
                height: 100vh !important;
                z-index: 9999 !important;
                transform: translateX(-100%) !important;
                transition: transform 0.3s ease !important;
                box-shadow: 4px 0 24px rgba(0, 0, 0, 0.5) !important;
                pointer-events: all !important;
                opacity: 1 !important;
                visibility: visible !important;
                background: linear-gradient(180deg, #0f1318 0%, #030508 100%) !important;
                filter: none !important;
                isolation: isolate;
                overflow-y: auto !important;
                -webkit-overflow-scrolling: touch !important;
            }

                .sidebar.mobile-open {
                    transform: translateX(0) !important;
                    pointer-events: all !important;
                    opacity: 1 !important;
                    filter: none !important;
                }

                /* Make sure nav items are visible on mobile */
                .sidebar .nav-item {
                    opacity: 1 !important;
                    color: var(--text-70) !important;
                    filter: none !important;
                }

                    .sidebar .nav-item.active {
                        color: var(--neon-cyan) !important;
                        filter: none !important;
                    }

                    .sidebar .nav-item:hover {
                        color: var(--text-90) !important;
                    }

                /* Ensure sidebar header is visible */
                .sidebar .sidebar-header,
                .sidebar .logo,
                .sidebar .sidebar-footer {
                    opacity: 1 !important;
                    filter: none !important;
                }

            /* Mobile menu button */
            .mobile-menu-btn {
                display: none;
                position: fixed !important;
                top: 8px !important;
                left: 8px !important;
                z-index: 10000 !important;
                width: 48px !important;
                height: 48px !important;
                background: var(--surface-2) !important;
                border: 2px solid var(--neon-cyan) !important;
                border-radius: 8px !important;
                align-items: center !important;
                justify-content: center !important;
                cursor: pointer !important;
                color: var(--neon-cyan) !important;
                font-size: 24px !important;
                font-weight: bold !important;
                touch-action: manipulation !important;
                -webkit-tap-highlight-color: rgba(0, 240, 255, 0.2) !important;
            }

                .mobile-menu-btn.visible {
                    display: flex !important;
                }

                .mobile-menu-btn:active {
                    background: var(--surface-3) !important;
                    transform: scale(0.95) !important;
                }

            /* Overlay for sidebar */
            .sidebar-overlay {
                display: none !important;
                position: fixed !important;
                top: 0 !important;
                right: 0 !important;
                bottom: 0 !important;
                left: 280px !important;
                background: rgba(0, 0, 0, 0.6) !important;
                backdrop-filter: blur(8px) saturate(180%) !important;
                -webkit-backdrop-filter: blur(8px) saturate(180%) !important;
                z-index: 9998 !important;
            }

                .sidebar-overlay.active {
                    display: block !important;
                }

            /* Better touch targets for mobile */
            .nav-item {
                min-height: 48px !important;
                touch-action: manipulation !important;
                -webkit-tap-highlight-color: rgba(0, 240, 255, 0.1) !important;
                cursor: pointer !important;
            }

            /* BRIGHTNESS FIX - Make sidebar content more visible on mobile */
            @media (max-width: 1023px) {
                .sidebar .nav-item {
                    color: var(--text-90) !important;
                    background: rgba(255, 255, 255, 0.03) !important;
                }

                    .sidebar .nav-item:hover {
                        color: var(--text-100) !important;
                        background: rgba(255, 255, 255, 0.06) !important;
                    }

                    .sidebar .nav-item.active {
                        color: var(--neon-cyan) !important;
                        background: rgba(0, 240, 255, 0.1) !important;
                    }

                .sidebar .nav-icon {
                    opacity: 1 !important;
                    filter: brightness(1.3) !important;
                }

                .sidebar .logo,
                .sidebar .logo-accent {
                    opacity: 1 !important;
                    filter: brightness(1.2) !important;
                }

                .sidebar .sidebar-footer {
                    background: var(--surface-2) !important;
                }

                    .sidebar .sidebar-footer label,
                    .sidebar .sidebar-footer select,
                    .sidebar .sidebar-footer button {
                        opacity: 1 !important;
                    }
                /* Ensure nav labels are visible */
                .sidebar .nav-label {
                    opacity: 1 !important;
                    color: var(--text-90) !important;
                }

                    .sidebar .nav-label.standard {
                        color: var(--neon-cyan) !important;
                    }

                    .sidebar .nav-label.pro {
                        color: var(--neon-violet) !important;
                    }

                    .sidebar .nav-label.global {
                        color: var(--neon-gold) !important;
                    }
            }

            .mode-banner {
                left: 0;
                padding-left: 60px;
                font-size: 8px;
            }

            .content {
                margin-left: 0;
            }

            .content-inner {
                padding: 20px;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .strip-form {
                grid-template-columns: 1fr;
            }

            /* Tables scroll horizontally */
            .table-container {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            table {
                min-width: 800px;
            }

            /* Modal adjustments */
            .modal-content {
                max-width: 90%;
                padding: 30px;
                max-height: 85vh;
            }
        }

        /* Mobile Landscape (640px - 767px) */
        @media (max-width: 767px) {
            html {
                font-size: 12px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .content-inner {
                padding: 16px;
            }

            .mode-banner {
                flex-wrap: wrap;
                height: auto;
                min-height: 36px;
                padding: 8px 8px 8px 52px;
            }

            .mode-status {
                gap: 8px;
                flex-wrap: wrap;
            }

            .mode-badge, .view-indicator, .budget-indicator {
                font-size: 7px;
                padding: 3px 8px;
            }

            /* Buttons full width */
            .btn-group {
                flex-direction: column;
            }

                .btn-group .btn {
                    width: 100%;
                }

            /* Forms */
            .form-grid {
                grid-template-columns: 1fr;
            }

            /* Cards */
            .card {
                padding: 16px;
                border-radius: 8px;
            }

            .card-header {
                flex-direction: column;
                align-items: flex-start;
            }

            table {
                min-width: 600px;
                font-size: 11px;
            }

            thead th, tbody td {
                padding: 8px;
            }
        }

        /* Mobile Portrait (480px - 639px) */
        @media (max-width: 639px) {
            html {
                font-size: 11px;
            }

            .content-inner {
                padding: 12px;
            }

            .card {
                padding: 12px;
            }

            .login-overlay {
                padding: 20px;
            }

            .login-options {
                flex-direction: column;
                gap: 16px;
            }

            .login-btn {
                min-width: 100%;
            }

            .modal-content {
                padding: 20px;
                max-width: 95%;
                border-radius: 12px;
            }

            .modal-title {
                font-size: 1.5rem;
            }

            /* Hide less important columns on very small screens */
            .hide-mobile {
                display: none !important;
            }
        }

        /* Mobile Small (320px - 479px) */
        @media (max-width: 479px) {
            html {
                font-size: 10px;
            }

            .content-inner {
                padding: 8px;
            }

            .card {
                padding: 10px;
                margin-bottom: 12px;
            }

            .mode-banner {
                font-size: 6px;
                padding: 6px 6px 6px 48px;
            }

            .mode-badge, .view-indicator {
                font-size: 6px;
                padding: 2px 6px;
            }

            .btn {
                padding: 10px 16px;
                font-size: 12px;
            }

            .btn-sm {
                padding: 8px 12px;
                font-size: 11px;
            }

            .stat-value {
                font-size: 2rem;
            }

            .stat-label {
                font-size: 10px;
            }

            table {
                min-width: 500px;
                font-size: 10px;
            }
        }

        /* Ensure mobile-menu-btn exists in all sizes but hidden by default */
        .mobile-menu-btn {
            display: none;
        }

        /* Ultra-wide specific adjustments */
        @media (min-width: 3440px) {
            .content-inner {
                max-width: 3200px;
            }

            .stats-grid {
                grid-template-columns: repeat(6, 1fr);
            }
        }

        /* Height-based media queries for shorter screens */
        @media (max-height: 720px) {
            .content-inner {
                padding-top: 16px;
                padding-bottom: 16px;
            }

            .card {
                margin-bottom: 16px;
            }
        }

        @media (max-height: 600px) {
            .modal-content {
                max-height: 80vh;
            }

            .card {
                padding: 12px;
                margin-bottom: 12px;
            }
        }

        /* Touch device optimizations */
        @media (hover: none) and (pointer: coarse) {
            .btn, .nav-item, .tab {
                min-height: 44px;
                padding-top: 12px;
                padding-bottom: 12px;
            }

            /* Larger touch targets */
            .modal-close {
                width: 44px;
                height: 44px;
            }

            .logout-btn {
                min-height: 36px;
            }
        }

        /* Print styles */
        @media print {
            .sidebar, .mode-banner, .btn, .modal {
                display: none !important;
            }

            .content {
                margin-left: 0;
                margin-top: 0;
            }

            .card {
                page-break-inside: avoid;
            }

            body {
                background: white;
                color: black;
            }
        }

        /* High DPI screens */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .brand-mark, .nav-icon {
                image-rendering: -webkit-optimize-contrast;
                image-rendering: crisp-edges;
            }
        }

        /* Dark mode support (if system prefers) */
        @media (prefers-color-scheme: light) {
            /* Keep dark theme always - this is a production app */
        }

        /* Reduce motion for accessibility */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
       â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•â•â•
       â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
       â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•
       â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
       MOBILE EXCELLENCE SYSTEM â€” 28 POINT IMPLEMENTATION
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

    /* â”€â”€ 1. VIEWPORT & SAFE AREAS (notch/home indicator) â”€â”€ */
    :root {
        --sat: env(safe-area-inset-top, 0px);
        --sar: env(safe-area-inset-right, 0px);
        --sab: env(safe-area-inset-bottom, 0px);
        --sal: env(safe-area-inset-left, 0px);
        --mobile-nav-h: 64px;
        --bottom-bar-h: calc(56px + var(--sab));
        --header-h: 56px;
        --touch-min: 44px; /* Apple HIG minimum touch target */
    }

    /* â”€â”€ 2. HTML/BODY SCROLL FOUNDATION â”€â”€ */
    html {
        -webkit-text-size-adjust: 100%;
        text-size-adjust: 100%;
        scroll-behavior: smooth;
        height: 100%;
        overflow: hidden;
    }

    body {
        overscroll-behavior: none;
        -webkit-overflow-scrolling: touch;
        touch-action: pan-y;
        height: 100%;
        overflow: hidden;
        position: fixed;
        width: 100%;
    }

    /* â”€â”€ 3. GPU-ACCELERATED COMPOSITING LAYERS â”€â”€ */
    .sidebar,
    .content,
    .main,
    .view,
    .modal-content,
    .eb-card,
    .luxury-popup {
        will-change: transform;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
        transform: translateZ(0);
    }

    /* â”€â”€ 4. SMOOTH MOMENTUM SCROLLING ON ALL SCROLL CONTAINERS â”€â”€ */
    .content,
    .main,
    .view,
    .sidebar,
    .content-inner,
    .nav-menu,
    .eb-saves-body,
    .table-container,
    .modal-content,
    .kanban-wrapper,
    .timeline,
    .card-body,
    [class*="-scroll"],
    [class*="scroll-"] {
        -webkit-overflow-scrolling: touch;
        scroll-behavior: smooth;
        overscroll-behavior: contain;
    }

    /* â”€â”€ 5. PREVENT HORIZONTAL OVERFLOW (no rogue sideways scrolling) â”€â”€ */
    body, .app, .content, .main {
        overflow-x: hidden;
        max-width: 100vw;
    }

    /* â”€â”€ 6. MINIMUM TOUCH TARGETS (44Ã—44px Apple / 48Ã—48px Material) â”€â”€ */
    @media (hover: none) and (pointer: coarse) {
        .btn, .nav-item, .card, button,
        .filter-btn, .eb-action-row, .eb-quick-btn,
        .eb-save-btn, .mobile-menu-btn, .nav-link,
        select, input[type="checkbox"], input[type="radio"],
        .tab-btn, .doc-card, .production-card-btn,
        .strip-row, .modal-close, [role="button"] {
            min-height: var(--touch-min);
            min-width: var(--touch-min);
        }

        /* Expand tap area without changing visual size */
        .modal-close {
            padding: 12px !important;
        }

        .nav-item {
            padding-top: 12px !important;
            padding-bottom: 12px !important;
        }
    }

    /* â”€â”€ 7. REMOVE HOVER EFFECTS ON TOUCH DEVICES (prevents sticky hover) â”€â”€ */
    @media (hover: none) and (pointer: coarse) {
        .btn:hover,
        .nav-item:hover,
        .card:hover,
        .production-card:hover,
        .eb-action-row:hover,
        .filter-btn:hover {
            transform: none !important;
            box-shadow: inherit !important;
        }

        /* Use :active instead */
        .btn:active            { opacity: 0.75; transform: scale(0.97); }
        .eb-action-row:active  { background: rgba(34,211,238,0.08) !important; }
        .nav-item:active       { background: rgba(255,255,255,0.08) !important; }
        .eb-quick-btn:active   { transform: scale(0.96) !important; }
    }

    /* â”€â”€ 8. REMOVE 300ms TAP DELAY â”€â”€ */
    * {
        touch-action: manipulation;
    }

    /* Re-allow panning where needed */
    .content, .main, .view,
    .content-inner, .eb-saves-body,
    .table-container, .modal-content,
    .nav-menu, .sidebar {
        touch-action: pan-y pinch-zoom;
    }

    /* â”€â”€ 9. DEVICE CLASS VARIABLES (set by JS) â”€â”€ */
    :root {
        --is-mobile: 0;
        --is-tablet: 0;
        --is-desktop: 1;
        --device-pixel-ratio: 1;
    }

    html.device-mobile  { --is-mobile: 1; --is-desktop: 0; }
    html.device-tablet  { --is-tablet: 1; --is-desktop: 0; }
    html.device-desktop { --is-desktop: 1; }

    /* â”€â”€ 10. BOTTOM NAVIGATION BAR (mobile only) â”€â”€ */
    .mobile-bottom-nav {
        display: none;
    }

    @media (max-width: 1023px) {
        .mobile-bottom-nav {
            display: flex;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: var(--bottom-bar-h);
            padding-bottom: var(--sab);
            background: #080c10;
            border-top: 1px solid rgba(34,211,238,0.15);
            z-index: 9998;
            backdrop-filter: blur(20px) saturate(1.5);
            -webkit-backdrop-filter: blur(20px) saturate(1.5);
        }

        .mobile-bottom-nav-inner {
            display: flex;
            align-items: stretch;
            width: 100%;
            height: 56px;
        }

        .mob-nav-btn {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 3px;
            background: none;
            border: none;
            cursor: pointer;
            color: rgba(255,255,255,0.45);
            font-size: 9px;
            font-weight: 700;
            letter-spacing: 0.3px;
            text-transform: uppercase;
            transition: color 0.2s;
            -webkit-tap-highlight-color: transparent;
            padding: 8px 4px;
            font-family: var(--font-mono, monospace);
            position: relative;
        }

        .mob-nav-btn svg {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        .mob-nav-btn.active {
            color: var(--neon-cyan, #22d3ee);
        }

        .mob-nav-btn.active::before {
            content: '';
            position: absolute;
            top: 0;
            left: 20%;
            right: 20%;
            height: 2px;
            background: var(--neon-cyan, #22d3ee);
            border-radius: 0 0 3px 3px;
            box-shadow: 0 0 8px rgba(34,211,238,0.6);
        }

        .mob-nav-btn:active { color: rgba(255,255,255,0.85); }

        /* Push content above bottom nav */
        .content, .main {
            padding-bottom: var(--bottom-bar-h) !important;
        }

        /* More button indicator */
        .mob-nav-badge {
            position: absolute;
            top: 6px;
            right: calc(50% - 14px);
            width: 8px;
            height: 8px;
            background: var(--neon-cyan);
            border-radius: 50%;
            border: 1.5px solid #080c10;
        }
    }

    /* â”€â”€ 11. MOBILE HEADER / TOP BAR â”€â”€ */
    @media (max-width: 1023px) {
        .mobile-top-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--header-h);
            padding-top: var(--sat);
            background: #080c10;
            border-bottom: 1px solid rgba(34,211,238,0.12);
            z-index: 9997;
            display: flex;
            align-items: center;
            padding-left: 16px;
            padding-right: 16px;
            gap: 12px;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        }

        .mobile-top-bar-title {
            flex: 1;
            font-family: var(--font-display, 'Bebas Neue', sans-serif);
            font-size: 20px;
            letter-spacing: 3px;
            color: var(--text-100);
            text-align: center;
        }

        .mobile-top-bar-action {
            width: 40px;
            height: 40px;
            background: rgba(34,211,238,0.1);
            border: 1px solid rgba(34,211,238,0.25);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--neon-cyan, #22d3ee);
            cursor: pointer;
            flex-shrink: 0;
            -webkit-tap-highlight-color: transparent;
        }

        /* Shift main content below fixed header */
        .content, .main {
            margin-top: var(--header-h) !important;
        }

        .mode-banner {
            top: var(--header-h) !important;
        }
    }

    /* â”€â”€ 12. SWIPE GESTURE OVERLAY (edge swipe to open sidebar) â”€â”€ */
    .swipe-edge-zone {
        display: none;
    }

    @media (max-width: 1023px) {
        .swipe-edge-zone {
            display: block;
            position: fixed;
            top: 0;
            left: 0;
            width: 20px;
            height: 100%;
            z-index: 9996;
        }

        /* Visual swipe hint */
        .sidebar-swipe-hint {
            position: fixed;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            width: 4px;
            height: 60px;
            background: linear-gradient(180deg, transparent, rgba(34,211,238,0.4), transparent);
            border-radius: 0 4px 4px 0;
            z-index: 9996;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .sidebar-swipe-hint.visible {
            opacity: 1;
        }

        /* Sidebar overlay backdrop */
        #sidebar-overlay {
            background: rgba(0,0,0,0.7) !important;
            backdrop-filter: blur(4px) !important;
            -webkit-backdrop-filter: blur(4px) !important;
        }
    }

    /* â”€â”€ 13. SCROLLBAR HIDE ON MOBILE â”€â”€ */
    @media (max-width: 1023px) {
        ::-webkit-scrollbar { width: 0; height: 0; }
        * { scrollbar-width: none; -ms-overflow-style: none; }
    }

    /* â”€â”€ 14. TABLE HORIZONTAL SCROLL WITH MOMENTUM â”€â”€ */
    @media (max-width: 1023px) {
        .table-container,
        .table-responsive,
        [class*="table-wrap"] {
            overflow-x: auto;
            overflow-y: hidden;
            -webkit-overflow-scrolling: touch;
            scroll-snap-type: none;
            overscroll-behavior-x: contain;
        }

        /* Sticky first column on tables */
        .table-container table th:first-child,
        .table-container table td:first-child {
            position: sticky;
            left: 0;
            background: #111;
            z-index: 2;
        }
    }

    /* â”€â”€ 15. MODAL FULL-SCREEN ON MOBILE â”€â”€ */
    @media (max-width: 767px) {
        .modal {
            align-items: flex-end !important;
            padding: 0 !important;
        }

        .modal-content,
        .luxury-popup {
            width: 100% !important;
            max-width: 100% !important;
            border-radius: 20px 20px 0 0 !important;
            max-height: 92dvh !important;
            overflow-y: auto !important;
            -webkit-overflow-scrolling: touch !important;
            padding-bottom: calc(24px + var(--sab)) !important;
            animation: slideUpModal 0.3s cubic-bezier(0.32,0.72,0,1) !important;
        }

        @keyframes slideUpModal {
            from { transform: translateY(100%); }
            to   { transform: translateY(0); }
        }

        /* Modal drag handle */
        .modal-content::before,
        .luxury-popup::before {
            content: '';
            display: block;
            width: 40px;
            height: 4px;
            background: rgba(255,255,255,0.2);
            border-radius: 2px;
            margin: 12px auto -4px;
        }
    }

    /* â”€â”€ 16. INPUT ZOOM PREVENTION (iOS zooms on inputs < 16px) â”€â”€ */
    @media (max-width: 767px) {
        input, select, textarea,
        .form-input, .luxury-form-input {
            font-size: 16px !important;
        }

        /* But shrink placeholder text */
        input::placeholder,
        textarea::placeholder {
            font-size: 14px;
        }
    }

    /* â”€â”€ 17. CARD LAYOUT â€” SINGLE COLUMN STACK â”€â”€ */
    @media (max-width: 640px) {
        .stats-grid,
        .dashboard-grid,
        .grid-2, .grid-3, .grid-4 {
            grid-template-columns: 1fr !important;
        }

        .card {
            border-radius: 12px;
        }

        /* Cards become full-bleed with edge-to-edge feel */
        .content-inner {
            padding: 12px 12px 0 !important;
        }

        .card + .card {
            margin-top: 12px;
        }
    }

    /* â”€â”€ 18. TOUCH RIPPLE EFFECT â”€â”€ */
    .ripple-container {
        position: relative;
        overflow: hidden;
    }

    .ripple-wave {
        position: absolute;
        border-radius: 50%;
        background: rgba(34,211,238,0.25);
        transform: scale(0);
        animation: rippleAnim 0.5s linear;
        pointer-events: none;
    }

    @keyframes rippleAnim {
        to { transform: scale(4); opacity: 0; }
    }

    /* â”€â”€ 19. SCROLL SNAP FOR HORIZONTAL CARD CAROUSELS â”€â”€ */
    .mobile-card-scroll {
        display: flex;
        gap: 12px;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
        padding: 4px 16px 12px;
        scrollbar-width: none;
    }

    .mobile-card-scroll::-webkit-scrollbar { display: none; }

    .mobile-card-scroll > * {
        scroll-snap-align: start;
        flex-shrink: 0;
        width: min(280px, 75vw);
    }

    /* â”€â”€ 20. PULL-TO-REFRESH INDICATOR â”€â”€ */
    .ptr-indicator {
        position: fixed;
        top: calc(var(--header-h) + var(--sat));
        left: 50%;
        transform: translateX(-50%) translateY(-80px);
        width: 40px;
        height: 40px;
        background: rgba(34,211,238,0.15);
        border: 1.5px solid rgba(34,211,238,0.4);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--neon-cyan, #22d3ee);
        z-index: 9000;
        transition: transform 0.2s;
        pointer-events: none;
        font-size: 18px;
        opacity: 0;
    }

    .ptr-indicator.ptr-active {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }

    .ptr-indicator.ptr-loading svg {
        animation: spin 0.6s linear infinite;
    }

    @keyframes spin { to { transform: rotate(360deg); } }

    /* â”€â”€ 21. FONT SCALING & LINE HEIGHT OPTIMIZATION â”€â”€ */
    @media (max-width: 390px) {
        html { font-size: 11px; }

        .page-title,
        .eb-title { font-size: 28px !important; letter-spacing: 3px !important; }

        h1 { font-size: 1.6rem; }
        h2 { font-size: 1.3rem; }
    }

    @media (min-width: 391px) and (max-width: 640px) {
        html { font-size: 12px; }
    }

    /* Fluid text for headings */
    @supports (font-size: clamp(1rem, 2vw, 1.5rem)) {
        .page-title { font-size: clamp(24px, 7vw, 42px); }
        .eb-title   { font-size: clamp(28px, 8vw, 52px); }
    }

    /* â”€â”€ 22. ORIENTATION HANDLING â”€â”€ */
    @media (orientation: landscape) and (max-height: 500px) {
        /* Landscape phone â€” compact header, hide decorative elements */
        .mobile-top-bar  { height: 44px !important; }
        .mobile-bottom-nav { display: none !important; }

        .content, .main {
            margin-top: 44px !important;
            padding-bottom: 0 !important;
        }

        /* Sidebar becomes side panel again in landscape */
        .sidebar {
            width: 220px !important;
        }
    }

    /* â”€â”€ 23. HIGH-DENSITY DISPLAY (RETINA) SHARP BORDERS â”€â”€ */
    @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
        .card,
        .eb-card,
        .sidebar,
        .modal-content {
            border-width: 0.5px;
        }

        /* Hairline separators */
        .nav-item + .nav-item::before {
            height: 0.5px;
        }
    }

    /* â”€â”€ 24. CONTENT PADDING FOR SAFE AREAS â”€â”€ */
    @media (max-width: 1023px) {
        .content-inner {
            padding-left: max(16px, var(--sal)) !important;
            padding-right: max(16px, var(--sar)) !important;
        }

        /* Bottom safe area for fixed buttons */
        .floating-action-btn,
        .fab-group {
            bottom: calc(var(--bottom-bar-h) + 16px) !important;
            right: max(16px, var(--sar)) !important;
        }
    }

    /* â”€â”€ 25. SKELETON LOADING FOR PERCEIVED PERFORMANCE â”€â”€ */
    .skeleton {
        background: linear-gradient(90deg,
            rgba(255,255,255,0.04) 25%,
            rgba(255,255,255,0.08) 50%,
            rgba(255,255,255,0.04) 75%
        );
        background-size: 400% 100%;
        animation: shimmer 1.4s ease infinite;
        border-radius: 6px;
    }

    @keyframes shimmer {
        0%   { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    .skeleton-text  { height: 14px; margin: 6px 0; }
    .skeleton-title { height: 24px; width: 60%; }
    .skeleton-card  { height: 100px; border-radius: 12px; }

    /* â”€â”€ 26. VISUAL FEEDBACK â€” LOADING STATE â”€â”€ */
    .mob-loading-overlay {
        position: fixed;
        inset: 0;
        background: rgba(3,5,8,0.85);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        z-index: 99999;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 16px;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.25s;
    }

    .mob-loading-overlay.active {
        opacity: 1;
        pointer-events: all;
    }

    .mob-loading-spinner {
        width: 44px;
        height: 44px;
        border: 3px solid rgba(34,211,238,0.15);
        border-top-color: var(--neon-cyan, #22d3ee);
        border-radius: 50%;
        animation: spin 0.7s linear infinite;
    }

    .mob-loading-text {
        font-family: var(--font-mono, monospace);
        font-size: 12px;
        color: var(--neon-cyan, #22d3ee);
        letter-spacing: 2px;
        text-transform: uppercase;
    }

    /* â”€â”€ 27. FULL-SCREEN SCROLLABLE VIEWS â”€â”€ */
    @media (max-width: 1023px) {
        .view {
            height: calc(100dvh - var(--header-h) - var(--bottom-bar-h));
            overflow-y: auto;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
            overscroll-behavior-y: contain;
            scroll-behavior: smooth;
            padding-bottom: 24px;
        }

        /* Ensure the .content area fills properly */
        .content {
            height: calc(100dvh - var(--header-h));
            overflow: hidden;
            position: relative;
        }

        .content-inner {
            height: 100%;
            overflow-y: auto;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
            overscroll-behavior-y: contain;
        }
    }

    /* â”€â”€ 28. DEVICE-SPECIFIC DARK MODE & CONTRAST BOOST â”€â”€ */
    @media (max-width: 1023px) and (prefers-color-scheme: dark) {
        :root {
            --surface-1: #060810;
            --surface-2: #0d1117;
            --border-default: rgba(255,255,255,0.07);
        }

        /* Slightly higher contrast text on small screens */
        .card-title,
        .page-title,
        .eb-card-title {
            -webkit-font-smoothing: antialiased;
        }

        /* Increase contrast of muted text on mobile */
        .text-muted,
        [class*="-sub"],
        [class*="eb-card-sub"] {
            color: rgba(255,255,255,0.55) !important;
        }
    }

    /* â”€â”€ BONUS: iOS PWA STATUS BAR FILL â”€â”€ */
    @supports (padding-top: env(safe-area-inset-top)) {
        .mobile-top-bar {
            padding-top: calc(var(--sat) + 8px);
            height: calc(var(--header-h) + var(--sat));
        }
    }

    </style>
</head>
<body>
    <!-- â•â•â• MOBILE INFRASTRUCTURE â•â•â• -->

    <!-- Swipe edge zone (invisible â€” captures left-edge swipe) -->
    <div class="swipe-edge-zone" id="swipe-edge-zone"></div>

    <!-- Sidebar swipe hint indicator -->
    <div class="sidebar-swipe-hint" id="sidebar-swipe-hint"></div>

    <!-- Mobile Top Bar -->
    <div class="mobile-top-bar" id="mobile-top-bar" style="display:none;">
        <button class="mobile-top-bar-action" id="mobile-hamburger" onclick="toggleMobileMenu()" aria-label="Menu">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="3" y1="6" x2="21" y2="6"/>
                <line x1="3" y1="12" x2="21" y2="12"/>
                <line x1="3" y1="18" x2="21" y2="18"/>
            </svg>
        </button>
        <div class="mobile-top-bar-title" id="mobile-top-bar-title">DC ALACRITY</div>
        <button class="mobile-top-bar-action" id="mobile-prod-btn" onclick="Core.navigate('dashboard')" aria-label="Dashboard">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/>
                <rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/>
            </svg>
        </button>
    </div>

    <!-- Mobile Bottom Navigation -->
    <nav class="mobile-bottom-nav" id="mobile-bottom-nav" style="display:none;">
        <div class="mobile-bottom-nav-inner">
            <button class="mob-nav-btn active" id="mob-btn-dashboard" onclick="MobileNav.go('dashboard')" aria-label="Dashboard">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>
                Dash
            </button>
            <button class="mob-nav-btn" id="mob-btn-schedule" onclick="MobileNav.go('schedule')" aria-label="Schedule">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                Schedule
            </button>
            <button class="mob-nav-btn" id="mob-btn-cast-crew" onclick="MobileNav.go('cast-crew')" aria-label="Cast &amp; Crew">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                Team
            </button>
            <button class="mob-nav-btn" id="mob-btn-financials" onclick="MobileNav.go('financials')" aria-label="Budget">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                Budget
            </button>
            <button class="mob-nav-btn" id="mob-btn-more" onclick="MobileNav.openDrawer()" aria-label="More">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="5" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="12" cy="19" r="1"/></svg>
                More
            </button>
        </div>
    </nav>

    <!-- Mobile More Drawer -->
    <div id="mob-drawer-overlay" onclick="MobileNav.closeDrawer()" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);z-index:9997;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);"></div>
    <div id="mob-drawer" style="display:none;position:fixed;bottom:0;left:0;right:0;z-index:9998;background:#0a0e14;border-top:1px solid rgba(34,211,238,0.2);border-radius:20px 20px 0 0;padding:12px 0 0;transform:translateY(100%);transition:transform 0.3s cubic-bezier(0.32,0.72,0,1);max-height:75dvh;overflow-y:auto;-webkit-overflow-scrolling:touch;">
        <div style="width:40px;height:4px;background:rgba(255,255,255,0.2);border-radius:2px;margin:0 auto 16px;"></div>
        <div id="mob-drawer-grid" style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px;padding:16px 16px 8px;"></div>
        <div style="height:calc(var(--sab, 0px) + 8px);"></div>
    </div>

    <!-- PTR Indicator -->
    <div class="ptr-indicator" id="ptr-indicator">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg>
    </div>

    <!-- Mobile Loading Overlay -->
    <div class="mob-loading-overlay" id="mob-loading-overlay">
        <div class="mob-loading-spinner"></div>
        <div class="mob-loading-text" id="mob-loading-text">Loading...</div>
    </div>

    <!-- â•â•â• END MOBILE INFRASTRUCTURE â•â•â• -->
    

    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" id="mobile-menu-btn" onclick="toggleMobileMenu()">
        â˜°
    </button>
    
    <!-- Sidebar Overlay for Mobile -->
    <div class="sidebar-overlay" id="sidebar-overlay" onclick="toggleMobileMenu()"></div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         LOGIN OVERLAY
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <style>
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           DC ALACRITY â€” CINEMATIC SPLASH SCREEN V3
           Full-bleed aurora landscape with SVG mountain art
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        .login-overlay {
            background: #010408 !important;
        }
        .login-overlay::before { content: none !important; }
        .login-overlay::after  { content: none !important; }

        /* â”€â”€ Full-screen SVG landscape background â”€â”€ */
        .lbg {
            position: absolute;
            inset: 0;
            z-index: 0;
            pointer-events: none;
        }

        /* â”€â”€ Animated aurora curtains â”€â”€ */
        .laur {
            position: absolute;
            inset: 0;
            z-index: 1;
            pointer-events: none;
            overflow: hidden;
        }

        /* Teal/cyan aurora â€” main curtain */
        .laur-1 {
            position: absolute;
            top: -10%;
            left: -10%;
            width: 120%;
            height: 80%;
            background: radial-gradient(ellipse 80% 70% at 40% -5%,
                rgba(0, 210, 190, 0.7)  0%,
                rgba(0, 160, 160, 0.5)  20%,
                rgba(0, 100, 130, 0.3)  45%,
                rgba(0,  60,  90, 0.1)  65%,
                transparent 80%
            );
            filter: blur(22px);
            animation: aur1 10s ease-in-out infinite;
            transform-origin: 40% 0;
        }
        @keyframes aur1 {
            0%,100% { transform: scaleX(1) skewX(0deg); opacity:.85; }
            25%     { transform: scaleX(1.07) skewX(3deg); opacity:1; }
            60%     { transform: scaleX(.93) skewX(-2deg); opacity:.7; }
        }

        /* Violet aurora â€” behind main */
        .laur-2 {
            position: absolute;
            top: -5%;
            left: 10%;
            width: 120%;
            height: 70%;
            background: radial-gradient(ellipse 90% 55% at 60% -5%,
                rgba(110, 30, 200, 0.55) 0%,
                rgba( 80, 20, 160, 0.35) 30%,
                rgba( 40, 10,  90, 0.15) 60%,
                transparent 80%
            );
            filter: blur(32px);
            animation: aur2 14s ease-in-out infinite;
            transform-origin: 60% 0;
        }
        @keyframes aur2 {
            0%,100% { transform: scaleX(1); opacity:.65; }
            40%     { transform: scaleX(1.12) skewX(-3deg); opacity:.9; }
            70%     { transform: scaleX(.9)  skewX(2deg); opacity:.5; }
        }

        /* Warm gold/amber glow â€” far right horizon (matches photo) */
        .laur-3 {
            position: absolute;
            top: 0; right: -15%;
            width: 65%;
            height: 70%;
            background: radial-gradient(ellipse 70% 60% at 85% 15%,
                rgba(210, 95, 10, 0.5)  0%,
                rgba(170, 70,  5, 0.3)  35%,
                rgba(100, 40,  5, 0.1)  60%,
                transparent 75%
            );
            filter: blur(38px);
            animation: aur3 12s ease-in-out infinite;
        }
        @keyframes aur3 {
            0%,100% { opacity:.65; transform:scale(1); }
            50%     { opacity:1;   transform:scale(1.08) translateX(3%); }
        }

        /* Fine vertical streaks â€” aurora shimmer */
        .laur-streaks {
            position: absolute;
            inset: 0;
            background:
                repeating-linear-gradient(
                    180deg,
                    transparent 0px,
                    transparent 3px,
                    rgba(0,210,190,0.025) 3px,
                    rgba(0,210,190,0.025) 4px
                );
            opacity: .4;
            animation: streakDrift 6s ease-in-out infinite;
        }
        @keyframes streakDrift {
            0%,100% { opacity:.3; transform:translateY(0); }
            50%     { opacity:.6; transform:translateY(-8px); }
        }

        /* â”€â”€ Central light pillar behind mountains â”€â”€ */
        .lpillar {
            position: absolute;
            bottom: 18%;
            left: 50%;
            transform: translateX(-50%);
            width: 320px;
            height: 60%;
            background: radial-gradient(ellipse 45% 100% at 50% 100%,
                rgba(180, 240, 230, 0.2)  0%,
                rgba(120, 200, 190, 0.1)  40%,
                transparent 70%
            );
            filter: blur(16px);
            z-index: 2;
            pointer-events: none;
            animation: pillar 7s ease-in-out infinite;
        }
        @keyframes pillar {
            0%,100% { opacity:.7; }
            50%     { opacity:1.0; }
        }

        /* Stars */
        .lstars {
            position: absolute;
            inset: 0;
            z-index: 1;
            pointer-events: none;
            background:
                radial-gradient(1.5px 1.5px at  8%  7%, rgba(255,255,255,.95) 0%, transparent 100%),
                radial-gradient(1px   1px   at 18% 12%, rgba(255,255,255,.7)  0%, transparent 100%),
                radial-gradient(1.5px 1.5px at 30%  4%, rgba(255,255,255,.85) 0%, transparent 100%),
                radial-gradient(1px   1px   at 42% 19%, rgba(255,255,255,.6)  0%, transparent 100%),
                radial-gradient(1px   1px   at 55%  8%, rgba(255,255,255,.8)  0%, transparent 100%),
                radial-gradient(1.5px 1.5px at 67%  3%, rgba(255,255,255,.9)  0%, transparent 100%),
                radial-gradient(1px   1px   at 78% 14%, rgba(255,255,255,.65) 0%, transparent 100%),
                radial-gradient(1.5px 1.5px at 88%  6%, rgba(255,255,255,.85) 0%, transparent 100%),
                radial-gradient(1px   1px   at 12% 28%, rgba(255,255,255,.5)  0%, transparent 100%),
                radial-gradient(1px   1px   at 24% 35%, rgba(255,255,255,.7)  0%, transparent 100%),
                radial-gradient(1px   1px   at 50% 22%, rgba(255,255,255,.55) 0%, transparent 100%),
                radial-gradient(1px   1px   at 72% 30%, rgba(255,255,255,.65) 0%, transparent 100%),
                radial-gradient(1px   1px   at 93% 18%, rgba(255,255,255,.8)  0%, transparent 100%),
                radial-gradient(1px   1px   at  3% 42%, rgba(255,255,255,.4)  0%, transparent 100%),
                radial-gradient(1px   1px   at 37% 45%, rgba(255,255,255,.55) 0%, transparent 100%);
        }

        /* â”€â”€ Content layer sits above all BG layers â”€â”€ */
        .lcontent {
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
            padding: 0 24px;
        }

        /* â”€â”€ Giant brand lockup â”€â”€ */
        .lbrand {
            display: flex;
            align-items: baseline;
            gap: clamp(12px, 2vw, 28px);
            line-height: 1;
            margin-bottom: clamp(10px, 1.5vh, 20px);
            user-select: none;
        }
        .lbrand-dc {
            font-family: 'Bebas Neue', 'Space Grotesk', sans-serif;
            font-size: clamp(80px, 16vw, 180px);
            letter-spacing: 0.05em;
            color: #22d3ee;
            text-shadow:
                0 0 30px rgba(34,211,238,.9),
                0 0 70px rgba(34,211,238,.5),
                0 0 140px rgba(34,211,238,.25),
                0 2px 0 rgba(0,0,0,.4);
            animation: dcGlow 5s ease-in-out infinite;
        }
        @keyframes dcGlow {
            0%,100% { text-shadow: 0 0 30px rgba(34,211,238,.9), 0 0 70px rgba(34,211,238,.5), 0 0 140px rgba(34,211,238,.25), 0 2px 0 rgba(0,0,0,.4); }
            50%     { text-shadow: 0 0 50px rgba(34,211,238,1),  0 0 100px rgba(34,211,238,.7), 0 0 200px rgba(34,211,238,.4), 0 2px 0 rgba(0,0,0,.4); }
        }
        .lbrand-alacrity {
            font-family: 'Bebas Neue', 'Space Grotesk', sans-serif;
            font-size: clamp(80px, 16vw, 180px);
            letter-spacing: 0.05em;
            color: #fff;
            text-shadow: 0 0 40px rgba(255,255,255,.3), 0 2px 0 rgba(0,0,0,.5);
        }

        /* â”€â”€ Tagline â”€â”€ */
        .ltagline {
            font-family: 'JetBrains Mono', 'Courier New', monospace;
            font-size: clamp(8px, 1.3vw, 13px);
            letter-spacing: clamp(5px, 1.5vw, 12px);
            color: rgba(255,255,255,.45);
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: clamp(30px, 6vh, 64px);
        }
        .ltagline-line {
            display: block;
            height: 1px;
            width: clamp(30px, 5vw, 80px);
            background: linear-gradient(90deg, transparent, rgba(34,211,238,.5));
        }
        .ltagline-line.r { background: linear-gradient(270deg, transparent, rgba(34,211,238,.5)); }

        /* â”€â”€ Buttons â”€â”€ */
        .lbtns {
            display: flex;
            gap: clamp(16px, 3vw, 36px);
            margin-bottom: clamp(20px, 4vh, 40px);
        }
        .lbtn {
            padding: clamp(15px, 2.5vh, 24px) clamp(40px, 7vw, 90px);
            border-radius: 80px;
            font-family: 'JetBrains Mono', 'Courier New', monospace;
            font-size: clamp(12px, 1.4vw, 15px);
            font-weight: 700;
            letter-spacing: clamp(2px, 0.5vw, 5px);
            text-transform: uppercase;
            cursor: pointer;
            border: 2px solid;
            background: transparent;
            transition: all .35s cubic-bezier(.4,0,.2,1);
            position: relative;
            overflow: hidden;
        }
        .lbtn::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 80px;
            opacity: 0;
            transition: opacity .35s;
        }
        .lbtn:hover::after { opacity: 1; }
        .lbtn:hover { transform: translateY(-5px) scale(1.04); }
        .lbtn:active { transform: translateY(-1px) scale(1.01); }

        /* Demo â€” orange */
        .lbtn-demo {
            border-color: #f97316;
            color: #f97316;
        }
        .lbtn-demo::after { background: rgba(249,115,22,.12); }
        .lbtn-demo:hover {
            color: #fff;
            border-color: #fb923c;
            box-shadow: 0 20px 60px rgba(249,115,22,.4), 0 0 80px rgba(249,115,22,.2);
        }

        /* Cloud â€” cyan */
        .lbtn-cloud {
            border-color: #22d3ee;
            color: #22d3ee;
        }
        .lbtn-cloud::after { background: rgba(34,211,238,.1); }
        .lbtn-cloud:hover {
            color: #fff;
            border-color: #67e8f9;
            box-shadow: 0 20px 60px rgba(34,211,238,.4), 0 0 80px rgba(34,211,238,.2);
        }

        /* â”€â”€ Caption â”€â”€ */
        .lcaption {
            font-family: 'JetBrains Mono', 'Courier New', monospace;
            font-size: clamp(10px, 1.1vw, 12px);
            color: rgba(255,255,255,.3);
            text-align: center;
            max-width: 500px;
            line-height: 1.8;
            letter-spacing: .3px;
        }
        .lcaption strong { color: rgba(255,255,255,.55); }

        /* â”€â”€ Status â”€â”€ */
        .lstatus {
            margin-top: 18px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
            letter-spacing: 2px;
            text-align: center;
            color: rgba(255,255,255,.25);
            text-transform: uppercase;
        }
        .lstatus.loading { color: #22d3ee; animation: pulse 1.5s infinite; }
        .lstatus.error   { color: #f43f5e; }
        .lstatus.success { color: #10b981; }

        /* â”€â”€ Mobile â”€â”€ */
        @media (max-width: 600px) {
            .lbrand { flex-direction: row; gap: 10px; }
            .lbrand-dc, .lbrand-alacrity { font-size: clamp(52px, 18vw, 90px); }
            .lbtns { flex-direction: column; align-items: center; width: 100%; }
            .lbtn  { width: 85vw; max-width: 320px; text-align: center; padding: 16px 24px; }
            .lpillar { width: 140px; }
        }

        /* â”€â”€ View banner art â€” shared for all tabs â”€â”€ */
        .view-banner {
            width: 100%;
            height: 160px;
            border-radius: 12px;
            margin-bottom: 28px;
            position: relative;
            overflow: hidden;
            flex-shrink: 0;
        }
        .view-banner svg {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
        }
        .view-banner-title {
            position: absolute;
            bottom: 20px;
            left: 28px;
            font-family: 'Bebas Neue', 'Space Grotesk', sans-serif;
            font-size: 42px;
            letter-spacing: 5px;
            color: #fff;
            text-shadow: 0 0 30px rgba(0,0,0,.8), 0 2px 4px rgba(0,0,0,.6);
            z-index: 2;
        }
        .view-banner-sub {
            position: absolute;
            bottom: 16px;
            right: 24px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 10px;
            letter-spacing: 3px;
            color: rgba(255,255,255,.5);
            text-transform: uppercase;
            z-index: 2;
        }
    </style>

    <div class="login-overlay" id="login-overlay">

        <!-- Sky & stars -->
        <div class="lstars"></div>

        <!-- Aurora layers -->
        <div class="laur">
            <div class="laur-1"></div>
            <div class="laur-2"></div>
            <div class="laur-3"></div>
            <div class="laur-streaks"></div>
        </div>

        <!-- Light pillar -->
        <div class="lpillar"></div>

        <!-- Mountain SVG â€” full-width at bottom -->
        <svg viewBox="0 0 1440 360" preserveAspectRatio="none"
             style="position:absolute;bottom:0;left:0;width:100%;z-index:3;pointer-events:none;display:block;">
            <!-- Sky-base gradient fill -->
            <defs>
                <linearGradient id="skyBase" x1="0" y1="0" x2="0" y2="1">
                    <stop offset="0%" stop-color="#010408" stop-opacity="0"/>
                    <stop offset="100%" stop-color="#010408" stop-opacity="1"/>
                </linearGradient>
                <radialGradient id="lakeGlow" cx="50%" cy="0%" r="50%">
                    <stop offset="0%" stop-color="rgba(0,180,170,0.25)"/>
                    <stop offset="100%" stop-color="rgba(0,180,170,0)"/>
                </radialGradient>
            </defs>
            <!-- Far mountain range -->
            <path d="M0,240 L40,210 L90,225 L150,180 L220,195 L290,155 L370,175 L450,135 L530,158 L610,120 L690,142 L770,108 L850,130 L930,95 L1010,118 L1090,82 L1170,105 L1250,72 L1330,98 L1390,78 L1440,88 L1440,360 L0,360 Z"
                  fill="rgba(10,22,38,0.9)"/>
            <!-- Mid mountain range -->
            <path d="M0,278 L70,255 L160,268 L250,240 L340,258 L430,222 L520,245 L610,210 L700,232 L790,198 L880,220 L970,188 L1060,212 L1150,178 L1240,202 L1330,170 L1440,195 L1440,360 L0,360 Z"
                  fill="rgba(5,13,24,0.92)"/>
            <!-- Foreground ridge -->
            <path d="M0,305 L100,288 L220,298 L340,280 L470,295 L600,275 L730,290 L860,272 L990,288 L1120,268 L1250,284 L1380,265 L1440,278 L1440,360 L0,360 Z"
                  fill="rgba(2,7,14,0.97)"/>
            <!-- Lake / reflection strip -->
            <rect x="0" y="332" width="1440" height="28" fill="#010408"/>
            <rect x="0" y="332" width="1440" height="16" fill="url(#lakeGlow)" opacity="0.6"/>
            <!-- Reflection shimmer lines -->
            <line x1="0" y1="336" x2="1440" y2="336" stroke="rgba(0,200,180,0.08)" stroke-width="1"/>
            <line x1="0" y1="340" x2="1440" y2="340" stroke="rgba(0,200,180,0.05)" stroke-width="1"/>
        </svg>

        <!-- CONTENT -->
        <div class="lcontent">

            <!-- Brand -->
            <div class="lbrand">
                <span class="lbrand-dc">DC</span>
                <span class="lbrand-alacrity">ALACRITY</span>
            </div>

            <!-- Tagline -->
            <div class="ltagline">
                <span class="ltagline-line"></span>
                PRODUCTION COMMAND SYSTEM
                <span class="ltagline-line r"></span>
            </div>

            <!-- Buttons -->
            <div class="lbtns">
                <button class="lbtn lbtn-demo" onclick="Auth.demoMode()">DEMO MODE</button>
                <button class="lbtn lbtn-cloud" onclick="Auth.login()">CLOUD SYNC</button>
            </div>

            <!-- Caption -->
            <div class="lcaption">
                <strong>Demo Mode</strong> runs entirely in your browser.&nbsp;&nbsp;
                <strong>Cloud Sync</strong> saves to Firebase with Google authentication.
            </div>

            <!-- Status -->
            <div class="lstatus" id="login-status">Choose your mode to get started</div>

        </div>
    </div>

    <!-- SUCCESS NOTIFICATION -->
    <div id="success-notification" class="success-notification">
        <div class="success-icon">âœ“</div>
        <div class="success-title">PRODUCTION CREATED</div>
        <div class="success-message">
            Successfully created: <span class="success-production-name" id="success-prod-name"></span>
        </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         MAIN APPLICATION
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="app" id="app" style="display: none;">
        <!-- MODE BANNER -->
        <div class="mode-banner" id="mode-banner">
            <div class="mode-status">
                <div class="mode-badge" id="mode-badge">ğŸ’¾ DEMO MODE</div>
                <div class="view-indicator" id="view-indicator">ğŸ¬ PRODUCTION</div>
            </div>
            <div style="font-size: 10px; color: var(--text-50); display: flex; align-items: center; gap: var(--space-md);">
                <div class="budget-indicator" id="budget-indicator">
                    <span>â—</span>
                    <span id="budget-status-text">CALCULATING...</span>
                </div>
                <span id="mode-sync-status">Saving locally</span>
                <button class="logout-btn" onclick="Auth.logout()">EXIT</button>
            </div>
        </div>
        
        <!-- SIDEBAR -->
        <aside class="sidebar">
            <div class="brand" style="display: flex; flex-direction: column; align-items: center; gap: 16px; padding: 24px 0;">
                <div style="position: relative; clip-path: polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%); background: linear-gradient(135deg, rgba(34, 211, 238, 0.05), rgba(168, 85, 247, 0.05)); padding: 18px; border: 2px solid rgba(34, 211, 238, 0.2); box-shadow: 0 0 20px rgba(34, 211, 238, 0.15);">
                    <img src="data:image/png;base64,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" alt="DC ALACRITY" style="height: 75px; width: auto; filter: drop-shadow(0 0 8px rgba(34, 211, 238, 0.3)) drop-shadow(0 0 4px rgba(168, 85, 247, 0.2)); display: block;">
                </div>
                <div class="brand-tagline" style="text-align: center;">Production Command v1.0</div>
            </div>

            <nav class="nav">
                <div class="nav-section">
                    <div class="nav-label standard">Command</div>
                    <div class="nav-item active" onclick="Core.navigate('dashboard')">
                        <span class="nav-icon">ğŸ“Š</span>
                        <span class="nav-text">Dashboard</span>
                    </div>
                    <div class="nav-item" onclick="Core.navigate('calendar')">
                        <span class="nav-icon">ğŸ“…</span>
                        <span class="nav-text">Calendar</span>
                    </div>
                </div>

                <div class="nav-section">
                    <div class="nav-label standard">Production</div>
                    <div class="nav-item" onclick="Core.navigate('production-library')">
                        <span class="nav-icon">ğŸ“š</span>
                        <span class="nav-text">Production Library</span>
                    </div>
                    <div class="nav-item" onclick="Core.navigate('schedule')">
                        <span class="nav-icon">ğŸ¬</span>
                        <span class="nav-text">Schedule / Stripboard</span>
                    </div>
                    <div class="nav-item" onclick="Core.navigate('breakdown')">
                        <span class="nav-icon">ğŸ“‹</span>
                        <span class="nav-text">Breakdown Sheets</span>
                    </div>
                    <div class="nav-item" onclick="Core.navigate('shopping')">
                        <span class="nav-icon">ğŸ›’</span>
                        <span class="nav-text">Shopping List</span>
                    </div>
                    <div class="nav-item" onclick="Core.navigate('shotlist')">
                        <span class="nav-icon">ğŸ¥</span>
                        <span class="nav-text">Shot List</span>
                    </div>
                    <div class="nav-item" onclick="Core.navigate('continuity')">
                        <span class="nav-icon">ğŸ“·</span>
                        <span class="nav-text">Continuity Log</span>
                    </div>
                    <div class="nav-item" onclick="Core.navigate('cast-crew')">
                        <span class="nav-icon">ğŸ‘¥</span>
                        <span class="nav-text">Cast & Crew</span>
                    </div>
                    <div class="nav-item" onclick="Core.navigate('days')">
                        <span class="nav-icon">ğŸ—“ï¸</span>
                        <span class="nav-text">Shoot Days</span>
                    </div>
                    <div class="nav-item" onclick="Core.navigate('tech')">
                        <span class="nav-icon">ğŸ¬</span>
                        <span class="nav-text">Equipment</span>
                    </div>
                    <div class="nav-item" onclick="Core.navigate('vault')">
                        <span class="nav-icon">ğŸ’¾</span>
                        <span class="nav-text">Media Vault</span>
                    </div>
                </div>

                <div class="nav-section">
                    <div class="nav-label standard">Planning</div>
                    <div class="nav-item" onclick="Core.navigate('gantt')">
                        <span class="nav-icon">ğŸ“ˆ</span>
                        <span class="nav-text">Gantt Charts</span>
                    </div>
                    <div class="nav-item" onclick="Core.navigate('milestones')">
                        <span class="nav-icon">ğŸ¯</span>
                        <span class="nav-text">Milestones</span>
                    </div>
                    <div class="nav-item" onclick="Core.navigate('risk')">
                        <span class="nav-icon">âš ï¸</span>
                        <span class="nav-text">Risk Assessment</span>
                    </div>
                </div>

                <div class="nav-section">
                    <div class="nav-label standard">Finance</div>
                    <div class="nav-item" onclick="Core.navigate('financials')">
                        <span class="nav-icon">ğŸ’°</span>
                        <span class="nav-text">Financials</span>
                    </div>
                </div>

                <div class="nav-section">
                    <div class="nav-label standard">Documents</div>
                    <div class="nav-item" onclick="Core.navigate('documents')">
                        <span class="nav-icon">ğŸ“„</span>
                        <span class="nav-text">Production Documents</span>
                    </div>
                    <div class="nav-item" onclick="Core.navigate('contacts')">
                        <span class="nav-icon">ğŸ“’</span>
                        <span class="nav-text">Contact Directory</span>
                    </div>
                </div>

                <div class="nav-section">
                    <div class="nav-label standard">Production CRM</div>
                    <div class="nav-item" onclick="Core.navigate('prod-pipeline')">
                        <span class="nav-icon">ğŸ¯</span>
                        <span class="nav-text">Pipeline</span>
                    </div>
                    <div class="nav-item" onclick="Core.navigate('prod-dialer')">
                        <span class="nav-icon">ğŸ“</span>
                        <span class="nav-text">Dialer</span>
                    </div>
                    <div class="nav-item" onclick="Core.navigate('prod-intel')">
                        <span class="nav-icon">ğŸ’°</span>
                        <span class="nav-text">Intel</span>
                    </div>
                </div>

                <div class="nav-section">
                    <div class="nav-label crm-global">Business CRM</div>
                    <div class="nav-item business-crm-item" onclick="Core.navigate('biz-pipeline')">
                        <span class="nav-icon">ğŸ¯</span>
                        <span class="nav-text">Pipeline</span>
                    </div>
                    <div class="nav-item business-crm-item" onclick="Core.navigate('biz-dialer')">
                        <span class="nav-icon">ğŸ“</span>
                        <span class="nav-text">Dialer</span>
                    </div>
                    <div class="nav-item business-crm-item" onclick="Core.navigate('biz-intel')">
                        <span class="nav-icon">ğŸ’°</span>
                        <span class="nav-text">Intel</span>
                    </div>
                </div>

                <div class="nav-section">
                    <div class="nav-label standard">Tools</div>
                    <div class="nav-item" onclick="Core.navigate('script-import')">
                        <span class="nav-icon">ğŸ“</span>
                        <span class="nav-text">Script Import</span>
                    </div>
                    <div class="nav-item" onclick="Core.navigate('notes')">
                        <span class="nav-icon">ğŸ““</span>
                        <span class="nav-text">Production Notes</span>
                    </div>
                    <div class="nav-item" onclick="Core.navigate('export')">
                        <span class="nav-icon">ğŸ“¤</span>
                        <span class="nav-text">Export & Backup</span>
                    </div>
                </div>
            </nav>

            <div class="project-selector">
                <div class="project-label">Active Production</div>
                <select class="project-dropdown" id="project-select" onchange="Productions.load()"></select>
                <div class="project-actions">
                    <button class="project-btn" onclick="Core.newProduction()">+ New</button>
                    <button class="project-btn" onclick="Productions.showRenameModal()">Rename</button>
                    <button class="project-btn danger" onclick="Productions.delete()">Delete</button>
                </div>
            </div>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="main">
            <div class="command-bar">
                <h1 class="page-title" id="page-title">DASHBOARD</h1>
                <div class="status-group">
                    <div class="status-pill" id="budget-status">
                        <span class="dot"></span>
                        <span id="budget-text">ON BUDGET</span>
                    </div>
                    <div class="status-pill" id="sync-status">
                        <span class="dot"></span>
                        <span id="sync-text">SYNCED</span>
                    </div>
                    <div class="status-pill" id="user-pill">
                        <span id="user-email">Loading...</span>
                    </div>
                    <button class="status-pill logout-btn" id="logout-btn" onclick="Auth.logout()" style="cursor: pointer; background: rgba(244, 63, 94, 0.15); border: 1px solid rgba(244, 63, 94, 0.3); color: #f43f5e;">
                        LOGOUT
                    </button>
                </div>
            </div>

            <div class="workspace">

                <!-- DASHBOARD VIEW -->
                <div id="view-dashboard" class="view active">
                    <!-- Hero Section with Background -->
                    <div class="dashboard-hero">
                        <div class="hero-particles">
                            <div class="hero-particle"></div>
                            <div class="hero-particle"></div>
                            <div class="hero-particle"></div>
                            <div class="hero-particle"></div>
                            <div class="hero-particle"></div>
                            <div class="hero-particle"></div>
                            <div class="hero-particle"></div>
                            <div class="hero-particle"></div>
                        </div>
                        <div class="dashboard-hero-content">
                            <h1 class="dashboard-hero-title">COMMAND CENTER</h1>
                            <p class="dashboard-hero-subtitle">Production Overview & Status</p>
                        </div>
                    </div>

                    <!-- â•â•â• LUXURY INTEL STRIP â•â•â• -->
                    <div class="lux-intel-strip mb-lg">

                        <!-- SHOOT DAYS -->
                        <div class="lux-intel-card" data-accent="#22d3ee" onclick="Core.navigate('days')">
                            <div class="lic-corner-glow" style="--glow:#22d3ee"></div>
                            <div class="lic-top">
                                <div class="lic-icon-wrap" style="--c:#22d3ee">
                                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><rect x="3" y="4" width="18" height="18" rx="3"/><path d="M16 2v4M8 2v4M3 10h18"/><path d="M8 14h1m3 0h1m3 0h1M8 18h1m3 0h1"/></svg>
                                </div>
                                <div class="lic-badge" style="--c:#22d3ee">PRODUCTION</div>
                            </div>
                            <div class="lic-value" id="stat-days">0</div>
                            <div class="lic-label">SHOOT DAYS</div>
                            <div class="lic-sub-row">
                                <span class="lic-sub-item">
                                    <span class="lic-dot" style="--c:#22d3ee"></span>
                                    <span id="stat-days-complete">0</span> complete
                                </span>
                                <span class="lic-sub-item">
                                    <span id="stat-days-upcoming">0</span> upcoming
                                </span>
                            </div>
                            <div class="lic-sparkline">
                                <svg id="sparkline-days" width="100%" height="28" viewBox="0 0 120 28" preserveAspectRatio="none">
                                    <polyline id="sparkline-days-line" points="0,24 20,20 40,22 60,14 80,16 100,10 120,8" fill="none" stroke="#22d3ee" stroke-width="1.5" opacity="0.5"/>
                                    <polyline id="sparkline-days-fill" points="0,24 20,20 40,22 60,14 80,16 100,10 120,8 120,28 0,28" fill="url(#grad-days)" opacity="0.12"/>
                                    <defs><linearGradient id="grad-days" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#22d3ee"/><stop offset="100%" stop-color="#22d3ee" stop-opacity="0"/></linearGradient></defs>
                                </svg>
                            </div>
                        </div>

                        <!-- BUDGET STATUS -->
                        <div class="lux-intel-card" data-accent="#fbbf24" onclick="Core.navigate('financials')">
                            <div class="lic-corner-glow" style="--glow:#fbbf24"></div>
                            <div class="lic-top">
                                <div class="lic-icon-wrap" style="--c:#fbbf24">
                                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><circle cx="12" cy="12" r="9"/><path d="M12 6v2m0 8v2M9.5 9.5c.3-.8 1.2-1.5 2.5-1.5s2.5.9 2.5 2c0 2-5 1.5-5 4 0 1.2 1.1 2 2.5 2s2.2-.7 2.5-1.5"/></svg>
                                </div>
                                <div class="lic-badge" style="--c:#fbbf24">FINANCIALS</div>
                            </div>
                            <div class="lic-value" id="stat-budget" style="color:#fbbf24">$0</div>
                            <div class="lic-label">BUDGET REMAINING</div>
                            <div class="lic-sub-row">
                                <span class="lic-sub-item"><span class="lic-dot" style="--c:#fbbf24"></span>Total: <span id="hot-budget-inline">$0</span></span>
                                <span class="lic-sub-item">Spent: <span id="hot-spent-inline" style="color:#f43f5e">$0</span></span>
                            </div>
                            <div class="lic-mini-bar-wrap">
                                <div class="lic-mini-bar-track">
                                    <div class="lic-mini-bar-fill" id="budget-mini-bar" style="width:0%;background:linear-gradient(90deg,#fbbf24,#f59e0b)"></div>
                                </div>
                                <span class="lic-mini-bar-pct" id="budget-mini-pct">0% used</span>
                            </div>
                        </div>

                        <!-- PROD PIPELINE -->
                        <div class="lux-intel-card" data-accent="#a78bfa" onclick="Core.navigate('prod-pipeline')">
                            <div class="lic-corner-glow" style="--glow:#a78bfa"></div>
                            <div class="lic-top">
                                <div class="lic-icon-wrap" style="--c:#a78bfa">
                                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M3 17l4-8 4 4 4-6 4 3"/><circle cx="7" cy="9" r="1" fill="currentColor"/><circle cx="11" cy="13" r="1" fill="currentColor"/><circle cx="15" cy="7" r="1" fill="currentColor"/><circle cx="19" cy="10" r="1" fill="currentColor"/></svg>
                                </div>
                                <div class="lic-badge" style="--c:#a78bfa">PIPELINE</div>
                            </div>
                            <div class="lic-value" id="stat-prod-pipeline" style="color:#a78bfa">$0</div>
                            <div class="lic-label">PRODUCTION CRM</div>
                            <div class="lic-sub-row">
                                <span class="lic-sub-item"><span class="lic-dot" style="--c:#a78bfa"></span><span id="stat-crm-leads">0</span> active leads</span>
                                <span class="lic-sub-item"><span id="stat-crm-closed">0</span> closed</span>
                            </div>
                            <div class="lic-sparkline">
                                <svg width="100%" height="28" viewBox="0 0 120 28" preserveAspectRatio="none">
                                    <polyline points="0,22 20,18 40,20 60,12 80,14 100,8 120,6" fill="none" stroke="#a78bfa" stroke-width="1.5" opacity="0.5"/>
                                    <polyline points="0,22 20,18 40,20 60,12 80,14 100,8 120,6 120,28 0,28" fill="url(#grad-pipe)" opacity="0.12"/>
                                    <defs><linearGradient id="grad-pipe" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#a78bfa"/><stop offset="100%" stop-color="#a78bfa" stop-opacity="0"/></linearGradient></defs>
                                </svg>
                            </div>
                        </div>

                        <!-- VAULT ASSETS -->
                        <div class="lux-intel-card" data-accent="#10b981" onclick="Core.navigate('vault')">
                            <div class="lic-corner-glow" style="--glow:#10b981"></div>
                            <div class="lic-top">
                                <div class="lic-icon-wrap" style="--c:#10b981">
                                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M3 5v6c0 1.66 4.03 3 9 3s9-1.34 9-3V5"/><path d="M3 11v6c0 1.66 4.03 3 9 3s9-1.34 9-3v-6"/></svg>
                                </div>
                                <div class="lic-badge" style="--c:#10b981">VAULT</div>
                            </div>
                            <div class="lic-value" id="stat-vault" style="color:#10b981">0</div>
                            <div class="lic-label">VAULT ASSETS</div>
                            <div class="lic-sub-row">
                                <span class="lic-sub-item"><span class="lic-dot" style="--c:#10b981"></span>Files logged</span>
                                <span class="lic-sub-item" id="stat-vault-size">0 GB stored</span>
                            </div>
                            <div class="lic-sparkline">
                                <svg width="100%" height="28" viewBox="0 0 120 28" preserveAspectRatio="none">
                                    <polyline points="0,26 20,22 40,18 60,16 80,12 100,10 120,6" fill="none" stroke="#10b981" stroke-width="1.5" opacity="0.5"/>
                                    <polyline points="0,26 20,22 40,18 60,16 80,12 100,10 120,6 120,28 0,28" fill="url(#grad-vault)" opacity="0.12"/>
                                    <defs><linearGradient id="grad-vault" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#10b981"/><stop offset="100%" stop-color="#10b981" stop-opacity="0"/></linearGradient></defs>
                                </svg>
                            </div>
                        </div>

                        <!-- TECH ITEMS -->
                        <div class="lux-intel-card" data-accent="#fb923c" onclick="Core.navigate('tech')">
                            <div class="lic-corner-glow" style="--glow:#fb923c"></div>
                            <div class="lic-top">
                                <div class="lic-icon-wrap" style="--c:#fb923c">
                                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><rect x="2" y="6" width="20" height="12" rx="2"/><path d="M8 12h.01M12 12h.01M16 12h.01"/><path d="M6 6V4a1 1 0 011-1h10a1 1 0 011 1v2"/></svg>
                                </div>
                                <div class="lic-badge" style="--c:#fb923c">EQUIPMENT</div>
                            </div>
                            <div class="lic-value" id="stat-tech" style="color:#fb923c">0</div>
                            <div class="lic-label">TECH ITEMS</div>
                            <div class="lic-sub-row">
                                <span class="lic-sub-item"><span class="lic-dot" style="--c:#fb923c"></span><span id="stat-tech-checked">0</span> checked out</span>
                                <span class="lic-sub-item"><span id="stat-tech-avail">0</span> available</span>
                            </div>
                            <div class="lic-mini-bar-wrap">
                                <div class="lic-mini-bar-track">
                                    <div class="lic-mini-bar-fill" id="tech-mini-bar" style="width:0%;background:linear-gradient(90deg,#fb923c,#f97316)"></div>
                                </div>
                                <span class="lic-mini-bar-pct" id="tech-mini-pct">0% in use</span>
                            </div>
                        </div>

                        <!-- OVER BUDGET (hidden by default) -->
                        <div class="lux-intel-card lux-danger" id="over-budget-card" style="display:none" data-accent="#f43f5e">
                            <div class="lic-corner-glow" style="--glow:#f43f5e"></div>
                            <div class="lic-top">
                                <div class="lic-icon-wrap" style="--c:#f43f5e">
                                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M12 2L2 20h20L12 2z"/><path d="M12 9v5M12 17v.5"/></svg>
                                </div>
                                <div class="lic-badge lic-badge-danger" style="--c:#f43f5e">ALERT</div>
                            </div>
                            <div class="lic-value" id="stat-over" style="color:#f43f5e">$0</div>
                            <div class="lic-label">OVER BUDGET</div>
                            <div class="lic-sub-row">
                                <span class="lic-sub-item" style="color:#f43f5e"><span class="lic-dot" style="--c:#f43f5e"></span>Excess spend</span>
                            </div>
                        </div>

                    </div>

                    <!-- â•â•â• HOT COST COMMAND PANEL + CRM (2 col) â•â•â• -->
                    <div class="grid grid-2 mb-lg">
                        <div class="lux-cost-panel" id="hot-cost-card">
                            <div class="lcp-header">
                                <div class="lcp-title-row">
                                    <div class="lcp-eyebrow">LIVE FINANCIAL INTELLIGENCE</div>
                                    <div class="lcp-title">HOT COST SUMMARY</div>
                                </div>
                                <span id="hot-cost-badge" class="lcp-status-badge"></span>
                            </div>
                            <div class="lcp-metrics">
                                <div class="lcp-metric">
                                    <div class="lcp-metric-label">TOTAL BUDGET</div>
                                    <div class="lcp-metric-value" id="hot-budget">$0</div>
                                    <div class="lcp-metric-icon">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#22d3ee" stroke-width="2"><rect x="2" y="7" width="20" height="14" rx="2"/><path d="M16 7V5a2 2 0 00-4 0v2M12 12v4m-2-2h4"/></svg>
                                    </div>
                                </div>
                                <div class="lcp-metric lcp-metric-warn">
                                    <div class="lcp-metric-label">SPENT + COMMITTED</div>
                                    <div class="lcp-metric-value text-gold" id="hot-spent">$0</div>
                                    <div class="lcp-metric-icon">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#fbbf24" stroke-width="2"><path d="M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"/></svg>
                                    </div>
                                </div>
                                <div class="lcp-metric">
                                    <div class="lcp-metric-label">PAYROLL COST</div>
                                    <div class="lcp-metric-value text-violet" id="hot-payroll">$0</div>
                                    <div class="lcp-metric-icon">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#a78bfa" stroke-width="2"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"/></svg>
                                    </div>
                                </div>
                            </div>
                            <div class="lcp-bar-section">
                                <div class="lcp-bar-track">
                                    <div class="lcp-bar-fill-remaining" id="lcp-bar-remaining"></div>
                                    <div class="lcp-bar-fill-spent" id="lcp-bar-spent"></div>
                                </div>
                                <div class="lcp-bar-labels">
                                    <span id="lcp-pct-label">0% utilized</span>
                                    <span id="lcp-remaining-label">$0 remaining</span>
                                </div>
                            </div>
                        </div>
                        <div class="card business-crm-header">
                            <div class="card-header">
                                <div class="card-title">Business CRM <span class="business-crm-badge">GLOBAL</span></div>
                            </div>
                            <div class="card-body">
                                <div class="grid grid-3">
                                    <div>
                                        <div class="stat-label">Active Leads</div>
                                        <div class="stat-value text-cyan" style="font-size: 24px;" id="biz-leads-count">0</div>
                                    </div>
                                    <div>
                                        <div class="stat-label">Pipeline Value</div>
                                        <div class="stat-value text-gold" style="font-size: 24px;" id="biz-pipeline-value">$0</div>
                                    </div>
                                    <div>
                                        <div class="stat-label">Total Revenue</div>
                                        <div class="stat-value text-emerald" style="font-size: 24px;" id="biz-revenue-value">$0</div>
                                    </div>
                                </div>
                                <div class="progress-bar-container" style="margin-top: 24px; position: relative;">
                                    <div id="biz-progress-bar" class="progress-bar" style="width: 0%;"></div>
                                </div>
                                <div id="biz-progress-labels" style="display: flex; justify-content: space-between; margin-top: 8px; font-size: 10px; color: var(--text-50); font-family: var(--font-mono);">
                                    <span class="progress-label" id="label-leads" title="New leads">LEADS</span>
                                    <span class="progress-label" id="label-pipeline" title="Active pipeline">PIPELINE</span>
                                    <span class="progress-label" id="label-negotiating" title="Negotiating deals">NEGOTIATING</span>
                                    <span class="progress-label" id="label-closed" title="Closed/Won">CLOSED</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Activity Log</div>
                        </div>
                        <div class="card-body">
                            <div class="log-container" id="activity-log">
                                <div class="log-entry">
                                    <span class="log-time">--:--</span>
                                    <span class="log-msg">System initialized</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PRODUCTION LIBRARY VIEW -->
                <div id="view-production-library" class="view">
                    <div class="dashboard-hero hero-production-library">
                        <div class="dashboard-hero-content">
                            <h1 class="dashboard-hero-title">ğŸ“š PRODUCTION LIBRARY</h1>
                            <p class="dashboard-hero-subtitle">Manage all your productions in one place</p>
                        </div>
                    </div>

                    <!-- Toolbar -->
                    <div class="card mb-lg">
                        <div class="card-body" style="padding: 20px;">
                            <div style="display: flex; gap: 16px; align-items: center; flex-wrap: wrap;">
                                <div style="flex: 1; min-width: 250px; position: relative;">
                                    <input 
                                        type="text" 
                                        id="production-library-search" 
                                        placeholder="ğŸ” Search productions..." 
                                        oninput="ProductionLibrary.filterProductions()"
                                        style="width: 100%; padding: 12px 16px; background: rgba(10, 10, 10, 0.6); border: 1px solid rgba(34, 211, 238, 0.3); border-radius: 10px; color: var(--text-100); font-size: 14px;"
                                    >
                                </div>
                                
                                <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                                    <button class="filter-btn active" data-filter="all" onclick="ProductionLibrary.setFilter('all')">All</button>
                                    <button class="filter-btn" data-filter="Film" onclick="ProductionLibrary.setFilter('Film')">Films</button>
                                    <button class="filter-btn" data-filter="Commercial" onclick="ProductionLibrary.setFilter('Commercial')">Commercials</button>
                                    <button class="filter-btn" data-filter="Music Video" onclick="ProductionLibrary.setFilter('Music Video')">Music Videos</button>
                                </div>
                                
                                <div class="production-storage-indicator">
                                    <span id="storage-mode-icon">ğŸ’¾</span>
                                    <strong id="production-library-count">0 Productions</strong>
                                </div>
                                
                                <button class="btn btn-primary" onclick="Core.newProduction()">
                                    + New Production
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Cloud Upload Section (shown only when offline productions exist and user is logged in) -->
                    <div id="cloud-upload-section" class="card mb-lg" style="display: none;">
                        <div class="card-header">
                            <div class="card-title">â˜ï¸ Cloud Sync Available</div>
                        </div>
                        <div class="card-body">
                            <p style="color: var(--text-70); margin-bottom: 16px;">
                                You have offline productions that can be uploaded to the cloud for backup and sync across devices.
                            </p>
                            <div id="offline-productions-list" style="margin-bottom: 16px;"></div>
                            <button class="btn btn-primary" onclick="ProductionLibrary.uploadAllOfflineToCloud()">
                                â˜ï¸ Upload All to Cloud
                            </button>
                            <button class="btn btn-secondary" onclick="ProductionLibrary.showIndividualUpload()">
                                Select Individual Productions
                            </button>
                        </div>
                    </div>

                    <!-- Productions Grid -->
                    <div id="production-library-grid" class="production-grid">
                        <!-- Productions will be rendered here -->
                    </div>
                </div>


                <!-- CALENDAR VIEW -->
                <div id="view-calendar" class="view">
                    <!-- CALENDAR HEADER WITH CONTROLS -->
                    <div class="calendar-command-bar">
                        <div class="calendar-nav">
                            <button class="btn btn-icon" onclick="Calendar.prevMonth()" title="Previous Month">â—€</button>
                            <button class="btn btn-sm" onclick="Calendar.today()">Today</button>
                            <button class="btn btn-icon" onclick="Calendar.nextMonth()" title="Next Month">â–¶</button>
                            <h2 class="calendar-month-title" id="calendar-month-year">Loading...</h2>
                        </div>
                        <div class="calendar-actions">
                            <div class="view-toggle">
                                <button class="view-toggle-btn active" onclick="Calendar.setView('month')" id="view-month-btn">Month</button>
                                <button class="view-toggle-btn" onclick="Calendar.setView('week')" id="view-week-btn">Week</button>
                            </div>
                            <button class="btn btn-sm btn-primary" onclick="openShootPopup()">+ Quick Add Shoot</button>
                            <button class="btn btn-sm" onclick="Calendar.showFilters()">ğŸ” Filters</button>
                        </div>
                    </div>

                    <!-- STATS & COUNTDOWN PANEL -->
                    <div class="calendar-stats-panel">
                        <div class="cal-stat-card">
                            <div class="cal-stat-icon">ğŸ¬</div>
                            <div class="cal-stat-content">
                                <div class="cal-stat-value" id="cal-shoots-count">0</div>
                                <div class="cal-stat-label">Shoots This Month</div>
                            </div>
                        </div>
                        <div class="cal-stat-card">
                            <div class="cal-stat-icon">â±ï¸</div>
                            <div class="cal-stat-content">
                                <div class="cal-stat-value" id="cal-days-until">--</div>
                                <div class="cal-stat-label">Days Until Next Shoot</div>
                            </div>
                        </div>
                        <div class="cal-stat-card">
                            <div class="cal-stat-icon">ğŸ¯</div>
                            <div class="cal-stat-content">
                                <div class="cal-stat-value" id="cal-milestones-count">0</div>
                                <div class="cal-stat-label">Upcoming Milestones</div>
                            </div>
                        </div>
                        <div class="cal-stat-card">
                            <div class="cal-stat-icon">âš ï¸</div>
                            <div class="cal-stat-content">
                                <div class="cal-stat-value" id="cal-risks-count">0</div>
                                <div class="cal-stat-label">Active Risks</div>
                            </div>
                        </div>
                    </div>

                    <!-- LEGEND & FILTERS -->
                    <div class="calendar-legend">
                        <div class="legend-title">CALENDAR LEGEND</div>
                        <div class="legend-items">
                            <label class="legend-item">
                                <input type="checkbox" checked onchange="Calendar.toggleFilter('shoots')" id="filter-shoots">
                                <span class="legend-color shoot-day-color"></span>
                                <span class="legend-text">Shoot Days</span>
                            </label>
                            <label class="legend-item">
                                <input type="checkbox" checked onchange="Calendar.toggleFilter('milestones')" id="filter-milestones">
                                <span class="legend-color milestone-color"></span>
                                <span class="legend-text">Milestones</span>
                            </label>
                            <label class="legend-item">
                                <input type="checkbox" checked onchange="Calendar.toggleFilter('risks')" id="filter-risks">
                                <span class="legend-color risk-color"></span>
                                <span class="legend-text">Risks</span>
                            </label>
                            <label class="legend-item">
                                <input type="checkbox" checked onchange="Calendar.toggleFilter('gantt')" id="filter-gantt">
                                <span class="legend-color gantt-color"></span>
                                <span class="legend-text">Production Phases</span>
                            </label>
                        </div>
                    </div>

                    <!-- MAIN CALENDAR GRID -->
                    <div class="calendar-container">
                        <div class="calendar-main">
                            <!-- Day Headers -->
                            <div class="calendar-weekday-headers">
                                <div class="weekday-header">SUN</div>
                                <div class="weekday-header">MON</div>
                                <div class="weekday-header">TUE</div>
                                <div class="weekday-header">WED</div>
                                <div class="weekday-header">THU</div>
                                <div class="weekday-header">FRI</div>
                                <div class="weekday-header">SAT</div>
                            </div>
                            <!-- Calendar Days Grid -->
                            <div class="calendar-days-grid" id="calendar-grid"></div>
                        </div>

                        <!-- DAY DETAILS SIDEBAR -->
                        <div class="calendar-sidebar" id="calendar-sidebar">
                            <div class="sidebar-header">
                                <h3 class="sidebar-title" id="sidebar-title">Select a day</h3>
                                <button class="sidebar-close" onclick="Calendar.closeSidebar()">Ã—</button>
                            </div>
                            <div class="sidebar-content" id="sidebar-content">
                                <div class="sidebar-empty">
                                    Click on any day to view or add events
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SCHEDULE VIEW -->
                <div id="view-schedule" class="view">
                    <div class="dashboard-hero hero-schedule">
                        <div class="dashboard-hero-content">
                            <h1 class="dashboard-hero-title">SCHEDULE</h1>
                            <p class="dashboard-hero-subtitle">Strip Board & Shooting Order</p>
                        </div>
                    </div>
                    
                    <div class="mb-lg" style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="display: flex; gap: var(--space-md); align-items: center;">
                            <span class="tag tag-cyan">INT/DAY</span>
                            <span class="tag tag-gold">EXT/DAY</span>
                            <span class="tag" style="background: rgba(59, 130, 246, 0.15); color: #3b82f6;">INT/NIGHT</span>
                            <span class="tag tag-emerald">EXT/NIGHT</span>
                            <span id="schedule-total-pages" style="font-family: var(--font-mono); color: var(--text-50);">0 pages</span>
                        </div>
                        <div style="display: flex; gap: var(--space-sm);">
                            <button class="btn btn-sm" onclick="Schedule.addScene()">+ Scene</button>
                            <button class="btn btn-sm" onclick="Schedule.addDayBreak()">+ Day Break</button>
                            <button class="btn btn-sm" onclick="Schedule.addBanner()">+ Banner</button>
                            <button class="btn btn-sm btn-export" onclick="PDFExport.shootingSchedule()">ğŸ“„ Export PDF</button>
                        </div>
                    </div>
                    <div class="stripboard" id="stripboard"></div>
                </div>

                <!-- BREAKDOWN VIEW -->
                <div id="view-breakdown" class="view">
                    <div class="dashboard-hero hero-breakdown">
                        <div class="dashboard-hero-content">
                            <h1 class="dashboard-hero-title">BREAKDOWN</h1>
                            <p class="dashboard-hero-subtitle">Scene Analysis & Element Tracking</p>
                        </div>
                        <div style="position: absolute; top: 20px; right: 20px;">
                            <button class="btn btn-sm" onclick="Core.navigate('shopping')" style="background: rgba(245,158,11,0.2); border-color: rgba(245,158,11,0.5); color: #f59e0b; font-weight: 700;">ğŸ›’ View Shopping List</button>
                        </div>
                    </div>
                    
                    <div class="print-header mb-lg" style="display: flex; justify-content: space-between; align-items: center;">
                        <h2 style="font-family: var(--font-display); letter-spacing: 2px;">BREAKDOWN SHEET</h2>
                    </div>
                    <div id="bd-nav-controls"></div>
                    <div class="card mb-lg">
                        <div class="card-body">
                            <div class="form-row mb-md">
                                <div class="form-group">
                                    <label class="form-label">Sheet #</label>
                                    <input type="text" class="form-input" id="bd-sheet" onchange="Breakdown.saveCurrentState()">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Pages</label>
                                    <input type="text" class="form-input" id="bd-pages" onchange="Breakdown.saveCurrentState()">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Date</label>
                                    <input type="text" class="form-input" id="bd-date" onchange="Breakdown.saveCurrentState()">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Project</label>
                                    <input type="text" class="form-input" id="bd-project" onchange="Breakdown.saveCurrentState()">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Scene #</label>
                                    <input type="text" class="form-input" id="bd-scene" onchange="Breakdown.saveCurrentState()">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">INT/EXT</label>
                                    <select class="form-select" id="bd-intext" onchange="Breakdown.saveCurrentState()">
                                        <option value="INT">INT</option>
                                        <option value="EXT">EXT</option>
                                        <option value="INT/EXT">INT/EXT</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">DAY/NIGHT</label>
                                    <select class="form-select" id="bd-daynight" onchange="Breakdown.saveCurrentState()">
                                        <option value="DAY">DAY</option>
                                        <option value="NIGHT">NIGHT</option>
                                        <option value="DAWN">DAWN</option>
                                        <option value="DUSK">DUSK</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Location</label>
                                    <input type="text" class="form-input" id="bd-location" onchange="Breakdown.saveCurrentState()">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Scene Description</label>
                                <textarea class="form-textarea" id="bd-description" onchange="Breakdown.saveCurrentState()"></textarea>
                            </div>
                            <!-- COMPLEXITY CONTROL -->
                            <div style="display:flex;align-items:center;gap:14px;padding:12px 0 4px;border-top:1px solid rgba(34,211,238,0.12);margin-top:8px;">
                                <div style="font-family:var(--font-mono);font-size:10px;letter-spacing:1.5px;color:var(--text-50);text-transform:uppercase;white-space:nowrap;flex-shrink:0;">Scene Complexity</div>
                                <div style="display:flex;gap:6px;flex-shrink:0;" id="bd-complexity-btns">
                                    <button onclick="Breakdown.setComplexity('LOW')" id="bd-cx-low"
                                        style="padding:5px 14px;border-radius:6px;font-size:11px;font-weight:700;cursor:pointer;transition:all 0.2s;border:1.5px solid rgba(16,185,129,0.35);background:transparent;color:rgba(16,185,129,0.55);">LOW</button>
                                    <button onclick="Breakdown.setComplexity('MEDIUM')" id="bd-cx-med"
                                        style="padding:5px 14px;border-radius:6px;font-size:11px;font-weight:700;cursor:pointer;transition:all 0.2s;border:1.5px solid rgba(245,158,11,0.35);background:transparent;color:rgba(245,158,11,0.55);">MEDIUM</button>
                                    <button onclick="Breakdown.setComplexity('HIGH')" id="bd-cx-high"
                                        style="padding:5px 14px;border-radius:6px;font-size:11px;font-weight:700;cursor:pointer;transition:all 0.2s;border:1.5px solid rgba(244,63,94,0.35);background:transparent;color:rgba(244,63,94,0.55);">HIGH</button>
                                </div>
                                <div style="font-size:10px;color:var(--text-40);flex-shrink:0;">Score: <span id="bd-cx-score" style="color:var(--text-70);font-weight:700;font-family:var(--font-mono);">â€”</span></div>
                                <div style="font-size:10px;color:var(--text-40);" id="bd-cx-override-note"></div>
                            </div>
                        </div>
                    </div>
                    <div class="breakdown-grid" id="breakdown-categories"></div>
                </div>

                <!-- CAST & CREW VIEW -->
                <div id="view-cast-crew" class="view">
                    <div class="dashboard-hero hero-cast">
                        <div class="dashboard-hero-content">
                            <h1 class="dashboard-hero-title">CAST & CREW</h1>
                            <p class="dashboard-hero-subtitle">Team Directory & Contact Management</p>
                        </div>
                    </div>
                    
                    <!-- Tab Navigation -->
                    <div style="display: flex; gap: 8px; margin-bottom: 24px; border-bottom: 2px solid var(--border-subtle);">
                        <button class="cast-crew-tab active" data-tab="cast" onclick="CastCrew.switchTab('cast')" style="padding: 12px 24px; background: transparent; border: none; color: var(--text-60); font-size: 14px; font-weight: 600; cursor: pointer; position: relative; transition: all 0.3s;">
                            <span>ğŸ‘¥ Cast</span>
                        </button>
                        <button class="cast-crew-tab" data-tab="crew" onclick="CastCrew.switchTab('crew')" style="padding: 12px 24px; background: transparent; border: none; color: var(--text-60); font-size: 14px; font-weight: 600; cursor: pointer; position: relative; transition: all 0.3s;">
                            <span>ğŸ¬ Crew</span>
                        </button>
                    </div>
                    
                    <style>
                        .cast-crew-tab {
                            border-bottom: 2px solid transparent;
                            margin-bottom: -2px;
                        }
                        .cast-crew-tab:hover {
                            color: var(--text-90);
                        }
                        .cast-crew-tab.active {
                            color: var(--neon-cyan);
                            border-bottom-color: var(--neon-cyan);
                        }
                    </style>
                    
                    <!-- Cast Content -->
                    <div id="cast-content" style="display: block;">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-title">Cast Members</div>
                                <button class="btn btn-sm btn-primary" onclick="CastCrew.addMember('cast')">+ Add Cast</button>
                            </div>
                            <div class="card-body" id="cast-list"></div>
                            <div class="card-footer">
                                <button class="btn btn-sm btn-export" onclick="PDFExport.castAndCrew()">ğŸ“„ Export Cast & Crew PDF</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Crew Content -->
                    <div id="crew-content" style="display: none;">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-title">Crew Members</div>
                                <button class="btn btn-sm btn-primary" onclick="CastCrew.addMember('crew')">+ Add Crew</button>
                            </div>
                            <div class="card-body" id="crew-list"></div>
                        </div>
                    </div>
                </div>

                <!-- SHOOT DAYS VIEW -->
                <div id="view-days" class="view">
                    <div class="card mb-lg">
                        <div class="card-header">
                            <div class="card-title">Add Shoot Day</div>
                        </div>
                        <div class="card-body">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Date</label>
                                    <input type="date" class="form-input" id="day-date">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Call Time</label>
                                    <input type="time" class="form-input" id="day-call" value="06:00">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Wrap Time</label>
                                    <input type="time" class="form-input" id="day-wrap" value="18:00">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Location</label>
                                    <input type="text" class="form-input" id="day-location" placeholder="Shoot location">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Notes</label>
                                <input type="text" class="form-input" id="day-notes" placeholder="Special notes">
                            </div>
                        </div>
                        <div class="card-footer">
                            <button class="btn btn-primary" onclick="Days.add()">Add Shoot Day</button>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Scheduled Days</div>
                            <button class="btn btn-sm" onclick="Days.exportCSV()">Export CSV</button>
                        </div>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Call</th>
                                        <th>Wrap</th>
                                        <th>Location</th>
                                        <th>Notes</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody id="table-days"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- EQUIPMENT VIEW -->
                <div id="view-tech" class="view">
                    <div class="dashboard-hero hero-tech">
                        <div class="dashboard-hero-content">
                            <h1 class="dashboard-hero-title">EQUIPMENT</h1>
                            <p class="dashboard-hero-subtitle">Gear Inventory & Asset Tracking</p>
                        </div>
                    </div>
                    
                    <div class="card mb-lg">
                        <div class="card-header">
                            <div class="card-title">Add Equipment</div>
                        </div>
                        <div class="card-body">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Item Name</label>
                                    <input type="text" class="form-input" id="tech-name" placeholder="Equipment name">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Category</label>
                                    <select class="form-select" id="tech-category">
                                        <option value="Camera">Camera</option>
                                        <option value="Lens">Lens</option>
                                        <option value="Lighting">Lighting</option>
                                        <option value="Audio">Audio</option>
                                        <option value="Grip">Grip</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Serial #</label>
                                    <input type="text" class="form-input" id="tech-serial" placeholder="Serial number">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Owner</label>
                                    <select class="form-select" id="tech-owner">
                                        <option value="Production">Production</option>
                                        <option value="Rental">Rental</option>
                                        <option value="Personal">Personal</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer">
                            <button class="btn btn-primary" onclick="Tech.add()">Add Equipment</button>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Equipment Inventory</div>
                            <button class="btn btn-sm" onclick="Tech.exportCSV()">Export CSV</button>
                        </div>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Item</th>
                                        <th>Category</th>
                                        <th>Serial</th>
                                        <th>Owner</th>
                                        <th>Status</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody id="table-tech"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- MEDIA VAULT VIEW -->
                <div id="view-vault" class="view">
                    <div class="dashboard-hero hero-vault">
                        <div class="dashboard-hero-content">
                            <h1 class="dashboard-hero-title">MEDIA VAULT</h1>
                            <p class="dashboard-hero-subtitle">Digital Asset Management & Logs</p>
                        </div>
                    </div>
                    
                    <div class="card mb-lg">
                        <div class="card-header">
                            <div class="card-title">Log Media Asset</div>
                        </div>
                        <div class="card-body">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Filename</label>
                                    <input type="text" class="form-input" id="vault-filename" placeholder="A001_C001.mov">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Scene</label>
                                    <input type="text" class="form-input" id="vault-scene" placeholder="Scene number">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Camera</label>
                                    <input type="text" class="form-input" id="vault-camera" placeholder="A-Cam">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Storage</label>
                                    <input type="text" class="form-input" id="vault-storage" placeholder="SSD-01">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Notes</label>
                                <input type="text" class="form-input" id="vault-notes" placeholder="Notes about this asset">
                            </div>
                        </div>
                        <div class="card-footer">
                            <button class="btn btn-primary" onclick="Vault.add()">Log Asset</button>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Media Assets</div>
                            <button class="btn btn-sm" onclick="Vault.exportCSV()">Export CSV</button>
                        </div>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Filename</th>
                                        <th>Scene</th>
                                        <th>Camera</th>
                                        <th>Storage</th>
                                        <th>Notes</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody id="table-vault"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- PRODUCTION DOCUMENTS VIEW -->
                <div id="view-documents" class="view">
                    <h2 style="font-family: var(--font-display); letter-spacing: 2px; margin-bottom: var(--space-lg);">PRODUCTION DOCUMENTS</h2>
                    <div class="doc-grid">
                        <div class="doc-card" onclick="PDFExport.scriptBreakdown()">
                            <div class="doc-icon">ğŸ“‹</div>
                            <div class="doc-title">Script Breakdown</div>
                            <div class="doc-desc">Complete scene-by-scene breakdown with all elements</div>
                        </div>
                        <div class="doc-card" onclick="PDFExport.shootingSchedule()">
                            <div class="doc-icon">ğŸ¬</div>
                            <div class="doc-title">Shooting Schedule</div>
                            <div class="doc-desc">Full stripboard schedule with day breaks</div>
                        </div>
                        <div class="doc-card" onclick="PDFExport.castAndCrew()">
                            <div class="doc-icon">ğŸ‘¥</div>
                            <div class="doc-title">Cast & Crew List</div>
                            <div class="doc-desc">Complete cast and crew contact sheet</div>
                        </div>
                        <div class="doc-card" onclick="PDFExport.callSheet()">
                            <div class="doc-icon">ğŸ“</div>
                            <div class="doc-title">Call Sheet</div>
                            <div class="doc-desc">Daily call sheet with all details</div>
                        </div>
                        <div class="doc-card" onclick="PDFExport.talentRelease()">
                            <div class="doc-icon">âœï¸</div>
                            <div class="doc-title">Talent Release Form</div>
                            <div class="doc-desc">Customized acting release agreement</div>
                        </div>
                        <div class="doc-card" onclick="PDFExport.locationRelease()">
                            <div class="doc-icon">ğŸ“</div>
                            <div class="doc-title">Location Release Form</div>
                            <div class="doc-desc">Customized location agreement</div>
                        </div>
                        <div class="doc-card" onclick="Core.navigate('gantt')">
                            <div class="doc-icon">ğŸ“ˆ</div>
                            <div class="doc-title">Gantt Charts</div>
                            <div class="doc-desc">Production & Global timeline charts</div>
                        </div>
                        <div class="doc-card" onclick="PDFExport.dailyReport()">
                            <div class="doc-icon">ğŸ“Š</div>
                            <div class="doc-title">Daily Production Report</div>
                            <div class="doc-desc">End-of-day summary report</div>
                        </div>
                        <div class="doc-card" id="doc-annotated-script-card" onclick="V10.openAnnotatedScript()" style="border-color:rgba(255,255,255,0.07);">
                            <div class="doc-icon" id="doc-script-icon">ğŸ“„</div>
                            <div class="doc-title">Annotated Script</div>
                            <div class="doc-desc" id="doc-script-desc">No script imported yet â€” import a script first</div>
                            <div id="doc-script-status" style="margin-top:10px;font-size:10px;font-family:var(--font-mono,monospace);min-height:16px;"></div>
                        </div>
                        <div class="doc-card" onclick="PDFExport.musicAgreement()" style="border-color:rgba(255,255,255,0.07);">
                            <div class="doc-icon">ğŸµ</div>
                            <div class="doc-title">Music Sync Agreement</div>
                            <div class="doc-desc">Customisable music licensing &amp; sync rights contract</div>
                            <div style="margin-top:10px;display:flex;gap:5px;justify-content:center;flex-wrap:wrap;">
                                <span style="font-size:9px;padding:2px 8px;background:rgba(34,211,238,0.1);border:1px solid rgba(34,211,238,0.2);border-radius:4px;color:#22d3ee;font-family:var(--font-mono,monospace);font-weight:600;">PAID</span>
                                <span style="font-size:9px;padding:2px 8px;background:rgba(16,185,129,0.1);border:1px solid rgba(16,185,129,0.2);border-radius:4px;color:#10b981;font-family:var(--font-mono,monospace);font-weight:600;">FREE</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- GANTT CHART VIEW -->
                <div id="view-gantt" class="view">
                    <div class="dashboard-hero hero-gantt">
                        <div class="dashboard-hero-content">
                            <h1 class="dashboard-hero-title">TIMELINE</h1>
                            <p class="dashboard-hero-subtitle">Project Phases & Task Management</p>
                        </div>
                    </div>
                    
                    <div class="mb-lg" style="display: flex; justify-content: space-between; align-items: center;">
                        <h2 style="font-family: var(--font-display); letter-spacing: 2px;">GANTT CHARTS</h2>
                        <div style="display: flex; gap: var(--space-sm);">
                            <button class="btn btn-sm" onclick="Gantt.switchView('production')" id="gantt-btn-production">Production Gantt</button>
                            <button class="btn btn-sm" onclick="Gantt.switchView('global')" id="gantt-btn-global">Global Gantt</button>
                            <button class="btn btn-sm btn-export" onclick="PDFExport.ganttChart()">ğŸ“„ Export PDF</button>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title" id="gantt-title">Production Timeline</div>
                            <button class="btn btn-sm" onclick="openTaskPopup()">+ Add Task</button>
                        </div>
                        <div class="card-body">
                            <div class="gantt-container" id="gantt-container"></div>
                        </div>
                    </div>
                </div>

                <!-- PRODUCTION CRM VIEWS -->
                <div id="view-prod-pipeline" class="view">
                    <div class="dashboard-hero hero-crm">
                        <div class="dashboard-hero-content">
                            <h1 class="dashboard-hero-title">PRODUCTION CRM</h1>
                            <p class="dashboard-hero-subtitle">Talent Â· Vendors Â· Sponsors Â· Investors</p>
                        </div>
                    </div>
                    
                    <div class="mb-lg" style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <span class="tag tag-cyan">PRODUCTION CRM</span>
                            <span class="text-muted ml-md">Talent, Vendors, Sponsors, Investors</span>
                        </div>
                        <button class="btn btn-primary" onclick="openContactPopup()">+ Add Contact</button>
                    </div>
                    <div class="kanban-wrapper" id="prod-kanban-board"></div>
                </div>

                <div id="view-prod-dialer" class="view">
                    <div class="mb-lg">
                        <span class="tag tag-cyan">PRODUCTION CRM</span>
                        <span class="text-muted ml-md">Dialer HUD</span>
                    </div>
                    <div class="dialer-grid">
                        <div class="dialer-main" id="prod-dialer-main">
                            <div class="dialer-waiting">
                                <div class="dialer-waiting-icon">ğŸ“</div>
                                <div>SELECT A CONTACT</div>
                                <div class="text-muted mt-md">Click a contact from the queue to begin</div>
                            </div>
                        </div>
                        <div class="dialer-queue-panel">
                            <div class="dialer-queue-header">Contact Queue</div>
                            <div class="dialer-queue" id="prod-dialer-queue"></div>
                        </div>
                    </div>
                </div>

                <div id="view-prod-intel" class="view">
                    <div class="mb-lg" style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <span class="tag tag-cyan">PRODUCTION CRM</span>
                            <span class="text-muted ml-md">Intel Dashboard</span>
                        </div>
                        <button class="btn btn-primary" onclick="ProdCRM.showIncomeModal()">+ Add Transaction</button>
                    </div>

                    <div class="grid grid-3 mb-lg">
                        <div class="card stat-card gold">
                            <div class="stat-label">Pipeline Value</div>
                            <div class="stat-value" id="prod-intel-pipeline">$0</div>
                            <div class="stat-sub">Potential Revenue</div>
                        </div>
                        <div class="card stat-card emerald">
                            <div class="stat-label">Total Revenue</div>
                            <div class="stat-value" id="prod-intel-revenue">$0</div>
                            <div class="stat-sub">Confirmed</div>
                        </div>
                        <div class="card stat-card violet">
                            <div class="stat-label">Conversion Rate</div>
                            <div class="stat-value" id="prod-intel-conversion">0%</div>
                            <div class="stat-sub">Closed / Total</div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Revenue Ledger</div>
                        </div>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Source</th>
                                        <th>Type</th>
                                        <th>Amount</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody id="prod-table-ledger"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- BUSINESS CRM VIEWS -->
                <div id="view-biz-pipeline" class="view">
                    <div class="dashboard-hero hero-crm">
                        <div class="dashboard-hero-content">
                            <h1 class="dashboard-hero-title">BUSINESS CRM</h1>
                            <p class="dashboard-hero-subtitle">Lead Generation & Client Pipeline</p>
                        </div>
                    </div>
                    
                    <div class="mb-lg" style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <span class="tag tag-violet">BUSINESS CRM</span>
                            <span class="text-muted ml-md">Cinema, VR, General Video, Cyber</span>
                        </div>
                        <button class="btn" style="background: var(--neon-cyan); color: var(--void-pure); font-weight: 600; box-shadow: 0 2px 8px rgba(34, 211, 238, 0.3);" onclick="BizCRM.showLeadModal()">+ Add Lead</button>
                    </div>
                    <div class="kanban-wrapper" id="biz-kanban-board"></div>
                </div>

                <div id="view-biz-dialer" class="view">
                    <div class="mb-lg">
                        <span class="business-crm-badge">BUSINESS CRM</span>
                        <span class="text-muted ml-md">Dialer HUD</span>
                    </div>
                    <div class="dialer-grid">
                        <div class="dialer-main" id="biz-dialer-main">
                            <div class="dialer-waiting">
                                <div class="dialer-waiting-icon">ğŸ“</div>
                                <div>SELECT A LEAD</div>
                                <div class="text-muted mt-md">Click a lead from the queue to begin</div>
                            </div>
                        </div>
                        <div class="dialer-queue-panel">
                            <div class="dialer-queue-header">Lead Queue</div>
                            <div class="dialer-queue" id="biz-dialer-queue"></div>
                        </div>
                    </div>
                </div>

                <div id="view-biz-intel" class="view">
                    <div class="mb-lg" style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <span class="business-crm-badge">BUSINESS CRM</span>
                            <span class="text-muted ml-md">Intel Dashboard</span>
                        </div>
                        <button class="btn btn-gold" onclick="BizCRM.showIncomeModal()">+ Add Transaction</button>
                    </div>

                    <div class="grid grid-3 mb-lg">
                        <div class="card stat-card gold">
                            <div class="stat-label">Pipeline Value</div>
                            <div class="stat-value" id="biz-intel-pipeline">$0</div>
                            <div class="stat-sub">Potential Revenue</div>
                        </div>
                        <div class="card stat-card emerald">
                            <div class="stat-label">Total Revenue</div>
                            <div class="stat-value" id="biz-intel-revenue">$0</div>
                            <div class="stat-sub">Confirmed</div>
                        </div>
                        <div class="card stat-card violet">
                            <div class="stat-label">Conversion Rate</div>
                            <div class="stat-value" id="biz-intel-conversion">0%</div>
                            <div class="stat-sub">Closed / Total</div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Revenue Ledger</div>
                        </div>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Source</th>
                                        <th>Type</th>
                                        <th>Amount</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody id="biz-table-ledger"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- SCRIPT IMPORT VIEW -->
                <div id="view-script-import" class="view">
                    <style>
                        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                           SCRIPT IMPORTER â€” v3 ELITE
                        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
                        .si-wrap { display:flex; flex-direction:column; gap:20px; max-width:1100px; }

                        /* â”€â”€ DROP ZONE â”€â”€ */
                        .si-drop {
                            border: 2px dashed rgba(34,211,238,0.35);
                            border-radius: 16px;
                            padding: 52px 32px;
                            text-align: center;
                            cursor: pointer;
                            transition: all 0.25s;
                            background: linear-gradient(145deg,rgba(34,211,238,0.025),transparent);
                            position: relative;
                        }
                        .si-drop:hover, .si-drop.drag-over {
                            border-color: var(--neon-cyan);
                            background: rgba(34,211,238,0.06);
                            box-shadow: 0 0 40px rgba(34,211,238,0.12);
                        }
                        .si-drop-icon { font-size:52px; display:block; margin-bottom:14px; line-height:1; }
                        .si-drop-title { font-family:var(--font-display); font-size:20px; font-weight:700; color:var(--text-90); margin-bottom:6px; letter-spacing:1px; }
                        .si-drop-sub { font-size:12px; color:var(--text-40); font-family:var(--font-mono); margin-bottom:22px; }
                        .si-drop-btns { display:flex; gap:10px; justify-content:center; flex-wrap:wrap; }
                        .si-btn {
                            padding:10px 24px; border-radius:8px; font-size:12px;
                            font-family:var(--font-mono); font-weight:700; letter-spacing:1px;
                            cursor:pointer; transition:all 0.2s; border:none; text-transform:uppercase;
                        }
                        .si-btn-cyan { background:linear-gradient(135deg,var(--neon-cyan),#0891b2); color:#000; }
                        .si-btn-cyan:hover { box-shadow:0 4px 20px rgba(34,211,238,0.5); transform:translateY(-2px); }
                        .si-btn-ghost { background:var(--surface-3); border:1px solid var(--border-default); color:var(--text-80); }
                        .si-btn-ghost:hover { border-color:var(--neon-cyan); color:var(--neon-cyan); }

                        /* â”€â”€ FILE BADGE â”€â”€ */
                        .si-badge {
                            display:none; align-items:center; gap:12px;
                            background:rgba(34,211,238,0.07); border:1px solid rgba(34,211,238,0.25);
                            border-radius:10px; padding:14px 18px;
                        }
                        .si-badge.on { display:flex; }
                        .si-badge-name { font-weight:700; color:var(--neon-cyan); font-size:14px; }
                        .si-badge-meta { font-size:11px; color:var(--text-50); font-family:var(--font-mono); margin-top:2px; }
                        .si-badge-clear { margin-left:auto; background:none; border:none; color:var(--text-40); font-size:22px; cursor:pointer; padding:2px 8px; border-radius:4px; line-height:1; }
                        .si-badge-clear:hover { color:#f87171; }

                        /* â”€â”€ PASTE AREA â”€â”€ */
                        .si-paste-area { display:none; flex-direction:column; gap:10px; }
                        .si-paste-area.on { display:flex; }
                        .si-paste-divider {
                            display:flex; align-items:center; gap:14px;
                            font-size:10px; font-family:var(--font-mono); letter-spacing:2px;
                            color:var(--text-30); text-transform:uppercase;
                        }
                        .si-paste-divider::before,.si-paste-divider::after { content:''; flex:1; height:1px; background:var(--border-subtle); }
                        .si-textarea {
                            width:100%; min-height:180px; background:var(--void-deep);
                            border:1px solid var(--border-subtle); border-radius:8px;
                            padding:14px 16px; color:var(--text-90); font-family:var(--font-mono);
                            font-size:13px; line-height:1.8; resize:vertical; box-sizing:border-box;
                        }
                        .si-textarea:focus { outline:none; border-color:var(--neon-cyan); }
                        .si-textarea::placeholder { color:var(--text-25); }

                        /* â”€â”€ OPTION CHIPS â”€â”€ */
                        .si-chips { display:flex; gap:8px; flex-wrap:wrap; }
                        .si-chip {
                            display:flex; align-items:center; gap:7px; padding:7px 13px;
                            background:var(--surface-3); border:1px solid var(--border-default);
                            border-radius:20px; font-size:12px; color:var(--text-60);
                            cursor:pointer; transition:all 0.2s; user-select:none;
                        }
                        .si-chip.on { border-color:var(--neon-cyan); color:var(--neon-cyan); background:rgba(34,211,238,0.08); }
                        .si-chip input { display:none; }

                        /* â”€â”€ ANALYZE BTN â”€â”€ */
                        .si-run-btn {
                            width:100%; padding:17px; border-radius:10px; border:none;
                            background:linear-gradient(135deg,var(--neon-cyan),#0891b2);
                            color:#000; font-family:var(--font-display); font-size:16px;
                            font-weight:700; letter-spacing:2px; text-transform:uppercase;
                            cursor:pointer; transition:all 0.3s;
                        }
                        .si-run-btn:hover:not(:disabled) { box-shadow:0 6px 28px rgba(34,211,238,0.5); transform:translateY(-2px); }
                        .si-run-btn:disabled { opacity:0.45; cursor:not-allowed; transform:none !important; }

                        /* â”€â”€ PROGRESS â”€â”€ */
                        .si-progress { display:none; background:var(--surface-2); border:1px solid rgba(34,211,238,0.2); border-radius:12px; padding:24px; }
                        .si-progress.on { display:block; }
                        .si-progress-title { font-family:var(--font-mono); font-size:10px; text-transform:uppercase; letter-spacing:2px; color:var(--neon-cyan); margin-bottom:18px; }
                        .si-steps { display:flex; flex-direction:column; gap:10px; }
                        .si-step {
                            display:flex; align-items:center; gap:12px; padding:11px 15px;
                            border-radius:8px; background:var(--void-deep); border:1px solid transparent;
                            transition:all 0.35s;
                        }
                        .si-step.active { background:rgba(34,211,238,0.05); border-color:rgba(34,211,238,0.2); }
                        .si-step.done  { background:rgba(16,185,129,0.05); border-color:rgba(16,185,129,0.2); }
                        .si-step.error { background:rgba(244,63,94,0.05); border-color:rgba(244,63,94,0.2); }
                        .si-step-ico { font-size:18px; width:24px; text-align:center; flex-shrink:0; }
                        .si-step-txt { font-size:13px; color:var(--text-60); flex:1; }
                        .si-step.active .si-step-txt { color:var(--neon-cyan); }
                        .si-step.done  .si-step-txt { color:#10b981; }
                        .si-step.error .si-step-txt { color:#f87171; }
                        .si-step-badge {
                            font-size:10px; font-family:var(--font-mono); padding:2px 8px;
                            border-radius:4px; background:rgba(255,255,255,0.05); color:var(--text-40);
                        }
                        .si-step.active .si-step-badge { background:rgba(34,211,238,0.12); color:var(--neon-cyan); }
                        .si-step.done   .si-step-badge { background:rgba(16,185,129,0.15); color:#10b981; }
                        @keyframes si-spin { to { transform:rotate(360deg); } }
                        .si-spin { display:inline-block; animation:si-spin 0.7s linear infinite; }

                        /* â”€â”€ RESULTS â”€â”€ */
                        .si-results { display:none; }
                        .si-results.on { display:flex; flex-direction:column; gap:20px; }

                        .si-stats {
                            display:grid;
                            grid-template-columns:repeat(auto-fit,minmax(110px,1fr));
                            gap:12px;
                        }
                        .si-stat {
                            background:var(--surface-2); border:1px solid rgba(34,211,238,0.12);
                            border-radius:10px; padding:18px 14px; text-align:center;
                        }
                        .si-stat-n { font-family:var(--font-display); font-size:36px; font-weight:700; color:var(--neon-cyan); line-height:1; }
                        .si-stat-l { font-size:10px; font-family:var(--font-mono); text-transform:uppercase; letter-spacing:1.5px; color:var(--text-40); margin-top:5px; }

                        .si-lbl { font-family:var(--font-mono); font-size:10px; text-transform:uppercase; letter-spacing:2px; color:var(--text-40); margin-bottom:8px; }

                        /* insights grid */
                        .si-insights { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:12px; }
                        .si-ins-card { background:var(--surface-2); border:1px solid var(--border-default); border-radius:10px; padding:14px 16px; }
                        .si-ins-label { font-size:10px; font-family:var(--font-mono); text-transform:uppercase; letter-spacing:1.5px; color:var(--text-40); margin-bottom:6px; }
                        .si-ins-value { font-size:13px; color:var(--text-80); line-height:1.5; }

                        /* cast chips */
                        .si-cast-chips { display:flex; flex-wrap:wrap; gap:7px; }
                        .si-cast-chip {
                            padding:5px 13px; background:rgba(34,211,238,0.08);
                            border:1px solid rgba(34,211,238,0.22); border-radius:20px;
                            font-size:12px; color:var(--neon-cyan); font-weight:600;
                            cursor:default; transition:background 0.2s;
                        }
                        .si-cast-chip:hover { background:rgba(34,211,238,0.15); }

                        /* scene table */
                        .si-scene-table {
                            background:var(--surface-2); border:1px solid var(--border-default);
                            border-radius:10px; overflow:hidden; max-height:400px; overflow-y:auto;
                        }
                        .si-scene-hdr, .si-scene-row {
                            display:grid;
                            grid-template-columns: 44px 56px 1fr 72px 72px 72px 130px;
                            gap:6px; padding:11px 16px; align-items:center; font-size:12px;
                        }
                        .si-scene-hdr {
                            background:var(--void-deep); border-bottom:1px solid var(--border-subtle);
                            font-family:var(--font-mono); font-size:9px; text-transform:uppercase;
                            letter-spacing:1.5px; color:var(--text-40); position:sticky; top:0; z-index:1;
                        }
                        .si-scene-row { border-bottom:1px solid rgba(255,255,255,0.03); transition:background 0.15s; }
                        .si-scene-row:hover { background:rgba(34,211,238,0.04); }
                        .si-scene-row:last-child { border-bottom:none; }
                        .si-sn { font-family:var(--font-mono); color:var(--neon-cyan); font-weight:700; }
                        .si-tag {
                            display:inline-block; padding:2px 7px; border-radius:4px;
                            font-size:10px; font-weight:700; font-family:var(--font-mono);
                        }
                        .si-int   { background:rgba(139,92,246,0.18); color:#a78bfa; }
                        .si-ext   { background:rgba(16,185,129,0.18); color:#34d399; }
                        .si-intex { background:rgba(251,191,36,0.18); color:#fbbf24; }
                        .si-day   { background:rgba(251,191,36,0.18); color:#fbbf24; }
                        .si-night { background:rgba(99,102,241,0.18); color:#818cf8; }
                        .si-cont  { background:rgba(148,163,184,0.15); color:#94a3b8; }
                        .si-loc   { color:var(--text-80); font-weight:600; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
                        .si-pages { font-family:var(--font-mono); font-size:11px; }
                        .si-cx-high   { color:#f87171; font-weight:700; font-size:10px; font-family:var(--font-mono); }
                        .si-cx-medium { color:#fbbf24; font-weight:700; font-size:10px; font-family:var(--font-mono); }
                        .si-cx-low    { color:#34d399; font-size:10px; font-family:var(--font-mono); }
                        .si-cast-cell { color:var(--text-45); font-size:11px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

                        /* elements pills inside scene table expand */
                        .si-elements-row {
                            grid-column: 1/-1; padding:6px 0 10px 44px;
                            display:flex; flex-wrap:wrap; gap:5px;
                        }
                        .si-el-pill {
                            padding:2px 8px; border-radius:10px; font-size:10px;
                            font-family:var(--font-mono); background:var(--surface-3);
                            border:1px solid var(--border-subtle); color:var(--text-50);
                        }
                        .si-el-prop    { border-color:rgba(139,92,246,0.3); color:#c4b5fd; }
                        .si-el-vehicle { border-color:rgba(251,191,36,0.3); color:#fcd34d; }
                        .si-el-sfx     { border-color:rgba(244,63,94,0.3); color:#fca5a5; }
                        .si-el-animal  { border-color:rgba(16,185,129,0.3); color:#6ee7b7; }
                        .si-el-stunt   { border-color:rgba(249,115,22,0.3); color:#fdba74; }
                        .si-el-mk      { border-color:rgba(236,72,153,0.3); color:#f9a8d4; }

                        /* import btn */
                        .si-import-btn {
                            width:100%; padding:17px; background:linear-gradient(135deg,#10b981,#059669);
                            color:#fff; font-family:var(--font-display); font-size:16px; font-weight:700;
                            letter-spacing:2px; text-transform:uppercase; border:none; border-radius:10px;
                            cursor:pointer; transition:all 0.3s;
                        }
                        .si-import-btn:hover { box-shadow:0 6px 28px rgba(16,185,129,0.45); transform:translateY(-2px); }

                        /* mobile responsiveness */
                        @media(max-width:640px){
                            .si-scene-hdr,.si-scene-row { grid-template-columns:36px 48px 1fr 60px 60px; }
                            .si-scene-hdr span:nth-child(6),
                            .si-scene-hdr span:nth-child(7),
                            .si-scene-row>*:nth-child(6),
                            .si-scene-row>*:nth-child(7) { display:none; }
                            .si-stats { grid-template-columns:repeat(3,1fr); }
                        }
                    </style>

                    <div style="margin-bottom:28px;">
                        <h1 class="view-title">SCRIPT IMPORT</h1>
                        <div style="font-size:12px;color:var(--text-40);font-family:var(--font-mono);margin-top:4px;letter-spacing:1px;">
                            DROP A PDF Â· DEEP PARSE Â· AUTO-POPULATE PRODUCTION
                        </div>
                    </div>

                    <div class="si-wrap">

                        <!-- FILE BADGE (shown after file loads) -->
                        <div class="si-badge" id="si-badge">
                            <span style="font-size:26px;">ğŸ“„</span>
                            <div>
                                <div class="si-badge-name" id="si-badge-name">â€”</div>
                                <div class="si-badge-meta" id="si-badge-meta">â€”</div>
                            </div>
                            <button class="si-badge-clear" onclick="ScriptImport.clearFile()">Ã—</button>
                        </div>

                        <!-- DROP ZONE -->
                        <div class="si-drop" id="si-drop"
                             ondragover="ScriptImport.onDragOver(event)"
                             ondragleave="ScriptImport.onDragLeave(event)"
                             ondrop="ScriptImport.onDrop(event)"
                             onclick="ScriptImport.triggerFilePick()">
                            <span class="si-drop-icon">ğŸ¬</span>
                            <div class="si-drop-title">DROP YOUR SCRIPT HERE</div>
                            <div class="si-drop-sub">PDF Â· FDX Â· FOUNTAIN Â· TXT &nbsp;â€”&nbsp; or click to browse</div>
                            <div class="si-drop-btns">
                                <button class="si-btn si-btn-cyan" onclick="event.stopPropagation();ScriptImport.triggerFilePick()">ğŸ“‚ Browse Files</button>
                                <button class="si-btn si-btn-ghost" onclick="event.stopPropagation();ScriptImport.usePasteMode()">ğŸ“‹ Paste Text</button>
                            </div>
                            <input type="file" id="si-file-input" accept=".pdf,.fdx,.fountain,.txt" style="display:none" onchange="ScriptImport.onFileSelect(event)">
                        </div>

                        <!-- PASTE AREA -->
                        <div class="si-paste-area" id="si-paste">
                            <div class="si-paste-divider">or paste script text</div>
                            <textarea class="si-textarea" id="si-text"
                                placeholder="INT. COFFEE SHOP - DAY&#10;&#10;MARCUS enters, scanning the room...&#10;&#10;EXT. CITY STREET - NIGHT&#10;&#10;Rain pours as SARAH runs..."></textarea>
                        </div>

                        <!-- ANALYSIS OPTIONS -->
                        <div>
                            <div class="si-lbl">Analysis Options</div>
                            <div class="si-chips">
                                <label class="si-chip on" id="chip-scenes"><input type="checkbox" checked onchange="ScriptImport.toggleChip(this,'chip-scenes')">ğŸ¬ Scenes</label>
                                <label class="si-chip on" id="chip-cast"><input type="checkbox" checked onchange="ScriptImport.toggleChip(this,'chip-cast')">ğŸ‘¥ Cast</label>
                                <label class="si-chip on" id="chip-props"><input type="checkbox" checked onchange="ScriptImport.toggleChip(this,'chip-props')">ğŸ­ Props & Elements</label>
                                <label class="si-chip on" id="chip-locations"><input type="checkbox" checked onchange="ScriptImport.toggleChip(this,'chip-locations')">ğŸ“ Locations</label>
                                <label class="si-chip on" id="chip-insights"><input type="checkbox" checked onchange="ScriptImport.toggleChip(this,'chip-insights')">ğŸ§  Insights</label>
                                <label class="si-chip on" id="chip-elements"><input type="checkbox" checked onchange="ScriptImport.toggleChip(this,'chip-elements')">âš™ï¸ All Elements</label>
                            </div>
                        </div>

                        <!-- ANALYZE -->
                        <button class="si-run-btn" id="si-run-btn" onclick="ScriptImport.analyze()">
                            âš¡ ANALYZE SCRIPT
                        </button>

                        <!-- PROGRESS -->
                        <div class="si-progress" id="si-progress">
                            <div class="si-progress-title">âš™ï¸ ANALYZING SCRIPT</div>
                            <div class="si-steps" id="si-steps"></div>
                        </div>

                        <!-- RESULTS -->
                        <div class="si-results" id="si-results">

                            <div class="si-lbl" style="font-size:11px;color:var(--neon-cyan);">âœ“ ANALYSIS COMPLETE</div>

                            <!-- stats -->
                            <div class="si-stats">
                                <div class="si-stat"><div class="si-stat-n" id="r-scenes">â€”</div><div class="si-stat-l">Scenes</div></div>
                                <div class="si-stat"><div class="si-stat-n" id="r-cast">â€”</div><div class="si-stat-l">Cast</div></div>
                                <div class="si-stat"><div class="si-stat-n" id="r-locs">â€”</div><div class="si-stat-l">Locations</div></div>
                                <div class="si-stat"><div class="si-stat-n" id="r-pages">â€”</div><div class="si-stat-l">Pages</div></div>
                                <div class="si-stat"><div class="si-stat-n" id="r-days">â€”</div><div class="si-stat-l">Shoot Days</div></div>
                                <div class="si-stat"><div class="si-stat-n" id="r-night">â€”</div><div class="si-stat-l">Night Sc.</div></div>
                                <div class="si-stat"><div class="si-stat-n" id="r-high">â€”</div><div class="si-stat-l">High CX</div></div>
                                <div class="si-stat"><div class="si-stat-n" id="r-int">â€”</div><div class="si-stat-l">INT</div></div>
                                <div class="si-stat"><div class="si-stat-n" id="r-ext">â€”</div><div class="si-stat-l">EXT</div></div>
                            </div>

                            <!-- insights -->
                            <div class="si-lbl">Production Intelligence</div>
                            <div class="si-insights" id="r-insights"></div>

                            <!-- cast -->
                            <div class="si-lbl">Detected Cast</div>
                            <div class="si-cast-chips" id="r-cast-chips"></div>

                            <!-- scene table -->
                            <div class="si-lbl">Scene Breakdown <span style="color:var(--text-30);font-size:9px;margin-left:8px;">CLICK ROW FOR ELEMENTS</span></div>
                            <div class="si-scene-table">
                                <div class="si-scene-hdr">
                                    <span>#</span><span>INT/EXT</span><span>Location</span>
                                    <span>Time</span><span>Pages</span><span>CX</span><span>Cast</span>
                                </div>
                                <div id="r-scene-rows"></div>
                            </div>

                            <!-- import -->
                            <div style="display:flex;gap:12px;flex-wrap:wrap;">
                            <button class="si-import-btn" onclick="ScriptImport.commitImport()">
                                âœ… IMPORT INTO PRODUCTION SYSTEM
                            </button>
                            <button class="si-import-btn" style="background:linear-gradient(135deg,#f43f5e,#be123c);box-shadow:0 4px 20px rgba(244,63,94,.25);" onclick="ScriptImport.exportAnnotatedPDF()">
                                ğŸ“„ EXPORT ANNOTATED BREAKDOWN PDF
                            </button>
                            </div>

                        </div>
                    </div>
                </div>

                <!-- WEATHER VIEW -->
                <!-- WEATHER VIEW -->
                <!-- NOTES VIEW -->
                <div id="view-notes" class="view">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Production Notes</div>
                            <button class="btn btn-sm" onclick="Notes.save()">Save Notes</button>
                        </div>
                        <div class="card-body">
                            <textarea class="form-textarea" id="production-notes" style="min-height: 500px;" placeholder="Enter production notes here..."></textarea>
                        </div>
                    </div>
                </div>

                <!-- EXPORT & BACKUP VIEW -->
                <div id="view-export" class="view">
                    <!-- EXPORT & BACKUP COMMAND CENTER -->
                    <div class="eb-header">
                        <div class="eb-header-left">
                            <div class="eb-title">EXPORT & BACKUP</div>
                            <div class="eb-subtitle">Command Center â€” Full Data Sovereignty</div>
                        </div>
                        <div class="eb-header-stats" id="eb-header-stats">
                            <div class="eb-stat-pill" id="eb-stat-prods"><span class="eb-stat-num">â€”</span><span class="eb-stat-label">Productions</span></div>
                            <div class="eb-stat-pill" id="eb-stat-saves"><span class="eb-stat-num">â€”</span><span class="eb-stat-label">Save States</span></div>
                            <div class="eb-stat-pill" id="eb-stat-size"><span class="eb-stat-num">â€”</span><span class="eb-stat-label">KB Stored</span></div>
                        </div>
                    </div>

                    <!-- QUICK ACTION STRIP -->
                    <div class="eb-quickstrip">
                        <button class="eb-quick-btn eb-quick-primary" onclick="DataManager.exportEverything()">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                            FULL SYSTEM BACKUP
                        </button>
                        <button class="eb-quick-btn eb-quick-save" onclick="DataManager.createSaveState()">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>
                            SAVE STATE
                        </button>
                        <button class="eb-quick-btn eb-quick-import" onclick="DataManager.importData()">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                            IMPORT / RESTORE
                        </button>
                    </div>

                    <!-- DRAG & DROP IMPORT ZONE -->
                    <div class="eb-dropzone" id="eb-dropzone" onclick="DataManager.importData()">
                        <div class="eb-dropzone-inner">
                            <div class="eb-dropzone-icon">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                            </div>
                            <div class="eb-dropzone-text">Drop a backup file here to import</div>
                            <div class="eb-dropzone-sub">Accepts .json (backup / CRM / production) Â· Click anywhere to browse</div>
                            <div class="eb-dropzone-formats">
                                <span class="eb-format-tag">Full Backup</span>
                                <span class="eb-format-tag">Production JSON</span>
                                <span class="eb-format-tag">Global CRM</span>
                            </div>
                        </div>
                    </div>

                    <!-- THREE COLUMN GRID -->
                    <div class="eb-grid">

                        <!-- COLUMN 1: SYSTEM EXPORTS -->
                        <div class="eb-card">
                            <div class="eb-card-header">
                                <div class="eb-card-icon eb-icon-system">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                                </div>
                                <div>
                                    <div class="eb-card-title">System Exports</div>
                                    <div class="eb-card-sub">Full workspace & CRM data</div>
                                </div>
                            </div>
                            <div class="eb-card-body">
                                <div class="eb-action-row" onclick="DataManager.exportEverything()">
                                    <div class="eb-action-info">
                                        <div class="eb-action-name">Full System Backup <span class="eb-badge eb-badge-primary">JSON</span></div>
                                        <div class="eb-action-desc">All productions + Global CRM â€” complete restore point</div>
                                    </div>
                                    <div class="eb-action-arrow">â†’</div>
                                </div>
                                <div class="eb-action-row" onclick="DataManager.exportSystemReadable()">
                                    <div class="eb-action-info">
                                        <div class="eb-action-name">System Intelligence Report <span class="eb-badge eb-badge-txt">TXT</span></div>
                                        <div class="eb-action-desc">Human-readable report â€” every module, every field</div>
                                    </div>
                                    <div class="eb-action-arrow">â†’</div>
                                </div>
                                <div class="eb-action-row" onclick="DataManager.exportGlobalCRM()">
                                    <div class="eb-action-info">
                                        <div class="eb-action-name">Global CRM Only <span class="eb-badge eb-badge-primary">JSON</span></div>
                                        <div class="eb-action-desc">Cast, crew, leads, contacts â€” production-independent</div>
                                    </div>
                                    <div class="eb-action-arrow">â†’</div>
                                </div>
                                <div class="eb-action-row" onclick="DataManager.exportToCSV('cast')">
                                    <div class="eb-action-info">
                                        <div class="eb-action-name">Cast List <span class="eb-badge eb-badge-csv">CSV</span></div>
                                        <div class="eb-action-desc">All cast members with contact info</div>
                                    </div>
                                    <div class="eb-action-arrow">â†’</div>
                                </div>
                                <div class="eb-action-row" onclick="DataManager.exportToCSV('crew')">
                                    <div class="eb-action-info">
                                        <div class="eb-action-name">Crew List <span class="eb-badge eb-badge-csv">CSV</span></div>
                                        <div class="eb-action-desc">All crew members with departments and rates</div>
                                    </div>
                                    <div class="eb-action-arrow">â†’</div>
                                </div>
                            </div>
                        </div>

                        <!-- COLUMN 2: PRODUCTION EXPORTS -->
                        <div class="eb-card">
                            <div class="eb-card-header">
                                <div class="eb-card-icon eb-icon-prod">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="23 7 16 12 23 17 23 7"/><rect x="1" y="5" width="15" height="14" rx="2" ry="2"/></svg>
                                </div>
                                <div>
                                    <div class="eb-card-title">Production Exports</div>
                                    <div class="eb-card-sub" id="eb-prod-sub">Select a production above</div>
                                </div>
                            </div>
                            <div class="eb-card-body">
                                <div class="eb-action-row" onclick="DataManager.exportProductionData()">
                                    <div class="eb-action-info">
                                        <div class="eb-action-name">Current Production <span class="eb-badge eb-badge-primary">JSON</span></div>
                                        <div class="eb-action-desc">All production data â€” re-importable standalone</div>
                                    </div>
                                    <div class="eb-action-arrow">â†’</div>
                                </div>
                                <div class="eb-action-row" onclick="DataManager.exportProductionReadable()">
                                    <div class="eb-action-info">
                                        <div class="eb-action-name">Production Report <span class="eb-badge eb-badge-txt">TXT</span></div>
                                        <div class="eb-action-desc">Full readable intel report for current production</div>
                                    </div>
                                    <div class="eb-action-arrow">â†’</div>
                                </div>
                                <div class="eb-action-row" onclick="DataManager.exportToCSV('schedule')">
                                    <div class="eb-action-info">
                                        <div class="eb-action-name">Shooting Schedule <span class="eb-badge eb-badge-csv">CSV</span></div>
                                        <div class="eb-action-desc">Stripboard scenes with all scene metadata</div>
                                    </div>
                                    <div class="eb-action-arrow">â†’</div>
                                </div>
                                <div class="eb-action-row" onclick="DataManager.exportToCSV('budget')">
                                    <div class="eb-action-info">
                                        <div class="eb-action-name">Budget Lines <span class="eb-badge eb-badge-csv">CSV</span></div>
                                        <div class="eb-action-desc">Estimated vs actual spend with PO list</div>
                                    </div>
                                    <div class="eb-action-arrow">â†’</div>
                                </div>
                                <div class="eb-action-row" onclick="DataManager.exportToCSV('shotlist')">
                                    <div class="eb-action-info">
                                        <div class="eb-action-name">Shot List <span class="eb-badge eb-badge-csv">CSV</span></div>
                                        <div class="eb-action-desc">All shots with type, size, angle, status</div>
                                    </div>
                                    <div class="eb-action-arrow">â†’</div>
                                </div>
                                <div class="eb-action-row" onclick="DataManager.exportToCSV('contacts')">
                                    <div class="eb-action-info">
                                        <div class="eb-action-name">Contact Directory <span class="eb-badge eb-badge-csv">CSV</span></div>
                                        <div class="eb-action-desc">Production contacts by department</div>
                                    </div>
                                    <div class="eb-action-arrow">â†’</div>
                                </div>
                                <div class="eb-action-row" onclick="DataManager.exportToCSV('risks')">
                                    <div class="eb-action-info">
                                        <div class="eb-action-name">Risk Register <span class="eb-badge eb-badge-csv">CSV</span></div>
                                        <div class="eb-action-desc">All risks with severity and mitigation</div>
                                    </div>
                                    <div class="eb-action-arrow">â†’</div>
                                </div>
                                <div class="eb-action-row" onclick="DataManager.exportToCSV('milestones')">
                                    <div class="eb-action-info">
                                        <div class="eb-action-name">Milestones <span class="eb-badge eb-badge-csv">CSV</span></div>
                                        <div class="eb-action-desc">All milestones with dates and completion status</div>
                                    </div>
                                    <div class="eb-action-arrow">â†’</div>
                                </div>
                            </div>
                        </div>

                        <!-- COLUMN 3: SAVE STATES -->
                        <div class="eb-card">
                            <div class="eb-card-header">
                                <div class="eb-card-icon eb-icon-saves">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>
                                </div>
                                <div>
                                    <div class="eb-card-title">Save States</div>
                                    <div class="eb-card-sub">Local snapshots â€” restore anytime</div>
                                </div>
                                <button class="eb-new-save-btn" onclick="DataManager.createSaveState()" title="Create new save state">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                                    NEW
                                </button>
                            </div>
                            <div class="eb-card-body eb-saves-body" id="eb-saves-list">
                                <div class="eb-saves-empty">
                                    <div class="eb-saves-empty-icon">ğŸ•¹ï¸</div>
                                    <div class="eb-saves-empty-text">No save states yet</div>
                                    <div class="eb-saves-empty-sub">Click NEW above to snapshot the current system state</div>
                                </div>
                            </div>
                        </div>

                    </div><!-- /eb-grid -->

                    <!-- IMPORT SECTION (bottom) -->
                    <div class="eb-import-section">
                        <div class="eb-import-header">
                            <div class="eb-card-icon eb-icon-import">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                            </div>
                            <div>
                                <div class="eb-card-title">Import & Restore</div>
                                <div class="eb-card-sub">Bring back any exported data â€” smart merge or full replace</div>
                            </div>
                            <button class="eb-import-main-btn" onclick="DataManager.importData()">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                                SELECT FILE
                            </button>
                        </div>
                        <div class="eb-import-types">
                            <div class="eb-import-type">
                                <div class="eb-import-type-icon">ğŸŒ</div>
                                <div class="eb-import-type-name">Global CRM</div>
                                <div class="eb-import-type-desc">Merges leads, cast, crew, contacts</div>
                            </div>
                            <div class="eb-import-type">
                                <div class="eb-import-type-icon">ğŸ¬</div>
                                <div class="eb-import-type-name">Single Production</div>
                                <div class="eb-import-type-desc">Adds production to your library</div>
                            </div>
                            <div class="eb-import-type">
                                <div class="eb-import-type-icon">ğŸŒŸ</div>
                                <div class="eb-import-type-name">Full Backup</div>
                                <div class="eb-import-type-desc">Restores complete system state</div>
                            </div>
                            <div class="eb-import-type">
                                <div class="eb-import-type-icon">ğŸ•¹ï¸</div>
                                <div class="eb-import-type-name">Save State</div>
                                <div class="eb-import-type-desc">Restore a named snapshot</div>
                            </div>
                        </div>
                    </div>

                    <!-- TOAST NOTIFICATION -->
                    <div class="eb-toast" id="eb-toast"></div>

                    <!-- Legacy Cloud History (hidden unless cloud mode) -->
                    <div id="export-history-section" style="display: none;">
                        <div id="export-history-timeline" class="timeline"></div>
                    </div>
                </div>

                <!-- BUDGET TRACKER VIEW -->
                <div id="view-financials" class="view"></div>

                <!-- SHOT LIST VIEW -->
                <div id="view-shotlist" class="view"></div>

                <!-- CONTINUITY LOG VIEW -->
                <div id="view-continuity" class="view"></div>

                <!-- RISK ASSESSMENT VIEW -->
                <div id="view-risk" class="view"></div>

                <!-- CONTACT DIRECTORY VIEW -->
                <div id="view-contacts" class="view"></div>

                <!-- MILESTONES VIEW -->
                <div id="view-milestones" class="view"></div>

                <!-- SHOPPING LIST VIEW -->
                <div id="view-shopping" class="view"></div>

            </div>
        </main>
    </div>


    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         MODALS
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

    <!-- New Production Modal -->
    <div class="modal-overlay" id="modal-new-production">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">New Production</div>
                <button class="modal-close" onclick="Productions.hideModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Production Name</label>
                    <input type="text" class="form-input" id="new-production-name" placeholder="Enter production name">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="Productions.hideModal()">Cancel</button>
                <button class="btn btn-primary" onclick="Productions.create()">Create</button>
            </div>
        </div>
    </div>

    <!-- Rename Production Modal -->
    <div class="modal-overlay" id="modal-rename-production">
        <div class="modal" style="max-width:440px;">
            <div class="modal-header">
                <div class="modal-title">âœï¸ Rename Production</div>
                <button class="modal-close" onclick="Productions.hideRenameModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Current Name</label>
                    <div id="rename-current-name" style="font-family:var(--font-mono);font-size:13px;color:var(--neon-cyan);padding:10px 14px;background:rgba(34,211,238,.06);border:1px solid rgba(34,211,238,.2);border-radius:8px;"></div>
                </div>
                <div class="form-group">
                    <label class="form-label">New Name</label>
                    <input type="text" class="form-input" id="rename-new-name" placeholder="Enter new production name"
                           onkeydown="if(event.key==='Enter')Productions.confirmRename()">
                    <div id="rename-error" style="color:#f87171;font-size:12px;margin-top:6px;display:none;"></div>
                </div>
                <div style="font-size:11px;color:var(--text-40);font-family:var(--font-mono);background:rgba(251,191,36,.06);border:1px solid rgba(251,191,36,.15);border-radius:6px;padding:10px 12px;line-height:1.7;">
                    âš  All production data, schedules, breakdowns, and logs will be preserved.<br>
                    This action is logged and cannot be undone automatically.
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="Productions.hideRenameModal()">Cancel</button>
                <button class="btn btn-primary" onclick="Productions.confirmRename()">âœï¸ Rename</button>
            </div>
        </div>
    </div>

    <!-- Scene Modal -->
    <div class="modal-overlay" id="modal-scene">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title" id="scene-modal-title">Add Scene</div>
                <button class="modal-close" onclick="Schedule.hideModals()">Ã—</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="scene-id">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Scene #</label>
                        <input type="text" class="form-input" id="scene-number" placeholder="1">
                    </div>
                    <div class="form-group">
                        <label class="form-label">INT/EXT</label>
                        <select class="form-select" id="scene-intext">
                            <option value="INT">INT</option>
                            <option value="EXT">EXT</option>
                            <option value="INT/EXT">INT/EXT</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">DAY/NIGHT</label>
                        <select class="form-select" id="scene-daynight">
                            <option value="DAY">DAY</option>
                            <option value="NIGHT">NIGHT</option>
                            <option value="DAWN">DAWN</option>
                            <option value="DUSK">DUSK</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Script Location</label>
                    <input type="text" class="form-input" id="scene-location" placeholder="COFFEE SHOP">
                </div>
                <div class="form-group">
                    <label class="form-label">Shoot Location</label>
                    <input type="text" class="form-input" id="scene-shoot-location" placeholder="123 Main St">
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea class="form-textarea" id="scene-description" placeholder="Scene description..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Cast (comma separated)</label>
                    <input type="text" class="form-input" id="scene-cast" placeholder="John, Sarah, C001">
                </div>
                <div class="form-group">
                    <label class="form-label">Pages</label>
                    <input type="text" class="form-input" id="scene-pages" placeholder="1 2/8">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="Schedule.hideModals()">Cancel</button>
                <button class="btn btn-primary" onclick="Schedule.saveScene()">Save</button>
            </div>
        </div>
    </div>

    <!-- Banner Modal -->
    <div class="modal-overlay" id="modal-banner">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">Add Banner</div>
                <button class="modal-close" onclick="Schedule.hideModals()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Banner Type</label>
                    <select class="form-select" id="banner-type" onchange="Schedule.toggleCustomBanner()">
                        <option value="COMPANY MOVE">COMPANY MOVE</option>
                        <option value="LUNCH">LUNCH</option>
                        <option value="MEAL BREAK">MEAL BREAK</option>
                        <option value="TURNAROUND">TURNAROUND</option>
                        <option value="TRAVEL">TRAVEL</option>
                        <option value="Custom">Custom...</option>
                    </select>
                </div>
                <div class="form-group hidden" id="banner-custom-group">
                    <label class="form-label">Custom Text</label>
                    <input type="text" class="form-input" id="banner-custom" placeholder="Enter custom banner text">
                </div>
                <div class="form-group">
                    <label class="form-label">Duration (minutes)</label>
                    <input type="number" class="form-input" id="banner-time" value="30">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="Schedule.hideModals()">Cancel</button>
                <button class="btn btn-primary" onclick="Schedule.saveBanner()">Add Banner</button>
            </div>
        </div>
    </div>

    <!-- Production CRM Lead Modal -->
    <div class="modal-overlay" id="modal-prod-lead">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title" id="prod-lead-modal-title">Add Contact</div>
                <button class="modal-close" onclick="ProdCRM.hideModals()">Ã—</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="prod-lead-id">
                <div class="form-group">
                    <label class="form-label">Name</label>
                    <input type="text" class="form-input" id="prod-lead-name" placeholder="Contact name">
                </div>
                <div class="form-group">
                    <label class="form-label">Phone</label>
                    <input type="tel" class="form-input" id="prod-lead-phone" placeholder="(555) 123-4567">
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" id="prod-lead-email" placeholder="email@example.com">
                </div>
                <div class="form-group">
                    <label class="form-label">Type</label>
                    <select class="form-select" id="prod-lead-interest" onchange="ProdCRM.toggleCustomInterest()">
                        <option value="Talent">Talent</option>
                        <option value="Vendor">Vendor</option>
                        <option value="Sponsor">Sponsor</option>
                        <option value="Investor">Investor</option>
                        <option value="Custom">Custom...</option>
                    </select>
                </div>
                <div class="form-group hidden" id="prod-custom-interest-group">
                    <label class="form-label">Custom Type</label>
                    <input type="text" class="form-input" id="prod-lead-custom-interest" placeholder="Enter custom type">
                </div>
                <div class="form-group">
                    <label class="form-label">Value ($)</label>
                    <input type="number" class="form-input" id="prod-lead-value" placeholder="Potential value">
                </div>
                <div class="form-group">
                    <label class="form-label">Notes / Script</label>
                    <textarea class="form-textarea" id="prod-lead-notes" placeholder="Call script, notes, context..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="ProdCRM.hideModals()">Cancel</button>
                <button class="btn btn-primary" onclick="ProdCRM.saveLead()">Save</button>
            </div>
        </div>
    </div>

    <!-- Production CRM Income Modal -->
    <div class="modal-overlay" id="modal-prod-income">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">Add Transaction</div>
                <button class="modal-close" onclick="ProdCRM.hideModals()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Source</label>
                    <input type="text" class="form-input" id="prod-income-source" placeholder="Client name, project...">
                </div>
                <div class="form-group">
                    <label class="form-label">Amount ($)</label>
                    <input type="number" class="form-input" id="prod-income-amount" placeholder="0.00">
                </div>
                <div class="form-group">
                    <label class="form-label">Date</label>
                    <input type="date" class="form-input" id="prod-income-date">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="ProdCRM.hideModals()">Cancel</button>
                <button class="btn btn-primary" onclick="ProdCRM.saveIncome()">Save</button>
            </div>
        </div>
    </div>

    <!-- Business CRM Lead Modal -->
    <div class="modal-overlay" id="modal-biz-lead">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title" id="biz-lead-modal-title">Add Lead</div>
                <button class="modal-close" onclick="BizCRM.hideModals()">Ã—</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="biz-lead-id">
                <div class="form-group">
                    <label class="form-label">Name</label>
                    <input type="text" class="form-input" id="biz-lead-name" placeholder="Lead name">
                </div>
                <div class="form-group">
                    <label class="form-label">Phone</label>
                    <input type="tel" class="form-input" id="biz-lead-phone" placeholder="(555) 123-4567">
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" id="biz-lead-email" placeholder="email@example.com">
                </div>
                <div class="form-group">
                    <label class="form-label">Interest</label>
                    <select class="form-select" id="biz-lead-interest" onchange="BizCRM.toggleCustomInterest()">
                        <option value="Cinema">Cinema</option>
                        <option value="VR">VR</option>
                        <option value="General Video">General Video</option>
                        <option value="Cyber">Cyber</option>
                        <option value="Custom">Custom...</option>
                    </select>
                </div>
                <div class="form-group hidden" id="biz-custom-interest-group">
                    <label class="form-label">Custom Interest</label>
                    <input type="text" class="form-input" id="biz-lead-custom-interest" placeholder="Enter custom interest">
                </div>
                <div class="form-group">
                    <label class="form-label">Value ($)</label>
                    <input type="number" class="form-input" id="biz-lead-value" placeholder="Potential value">
                </div>
                <div class="form-group">
                    <label class="form-label">Notes / Script</label>
                    <textarea class="form-textarea" id="biz-lead-notes" placeholder="Call script, notes, context..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="BizCRM.hideModals()">Cancel</button>
                <button class="btn btn-gold" onclick="BizCRM.saveLead()">Save</button>
            </div>
        </div>
    </div>

    <!-- Business CRM Income Modal -->
    <div class="modal-overlay" id="modal-biz-income">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">Add Transaction</div>
                <button class="modal-close" onclick="BizCRM.hideModals()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Source</label>
                    <input type="text" class="form-input" id="biz-income-source" placeholder="Client name, project...">
                </div>
                <div class="form-group">
                    <label class="form-label">Amount ($)</label>
                    <input type="number" class="form-input" id="biz-income-amount" placeholder="0.00">
                </div>
                <div class="form-group">
                    <label class="form-label">Date</label>
                    <input type="date" class="form-input" id="biz-income-date">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="BizCRM.hideModals()">Cancel</button>
                <button class="btn btn-gold" onclick="BizCRM.saveIncome()">Save</button>
            </div>
        </div>
    </div>

    <!-- Call Sheet Modal -->
    <div class="modal-overlay" id="modal-callsheet">
        <div class="modal" style="max-width: 800px;">
            <div class="modal-header">
                <div class="modal-title">Generate Call Sheet</div>
                <button class="modal-close" onclick="PDFExport.hideCallSheetModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Shoot Day #</label>
                        <input type="number" class="form-input" id="cs-day-number" value="1">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Date</label>
                        <input type="date" class="form-input" id="cs-date">
                    </div>
                    <div class="form-group">
                        <label class="form-label">General Call Time</label>
                        <input type="time" class="form-input" id="cs-call-time" value="06:00">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Director</label>
                        <input type="text" class="form-input" id="cs-director" placeholder="Director name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">1st AD</label>
                        <input type="text" class="form-input" id="cs-ad" placeholder="1st AD name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Producer</label>
                        <input type="text" class="form-input" id="cs-producer" placeholder="Producer name">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Location Name</label>
                        <input type="text" class="form-input" id="cs-location" placeholder="Main location">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Location Address</label>
                        <input type="text" class="form-input" id="cs-address" placeholder="Full address">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Weather Forecast</label>
                    <input type="text" class="form-input" id="cs-weather" placeholder="Sunny, 72Â°F">
                </div>
                <div class="form-group">
                    <label class="form-label">Special Notes</label>
                    <textarea class="form-textarea" id="cs-notes" placeholder="Special instructions, safety notes, etc."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="PDFExport.hideCallSheetModal()">Cancel</button>
                <button class="btn btn-primary" onclick="PDFExport.generateCallSheet()">Generate PDF</button>
            </div>
        </div>
    </div>

    <!-- Talent Release Modal -->
    <div class="modal-overlay" id="modal-talent-release">
        <div class="modal" style="max-width: 700px;">
            <div class="modal-header">
                <div class="modal-title">Generate Talent Release Form</div>
                <button class="modal-close" onclick="PDFExport.hideTalentReleaseModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Performer Name</label>
                        <input type="text" class="form-input" id="tr-performer-name" placeholder="Full legal name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Role/Character</label>
                        <input type="text" class="form-input" id="tr-role" placeholder="Character name">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Production Company</label>
                        <input type="text" class="form-input" id="tr-company" placeholder="Company name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Project Title</label>
                        <input type="text" class="form-input" id="tr-project" placeholder="Film/Project title">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Compensation</label>
                        <input type="text" class="form-input" id="tr-compensation" placeholder="$0.00 or Deferred">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Shoot Date(s)</label>
                        <input type="text" class="form-input" id="tr-dates" placeholder="Date range">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Performer Address</label>
                    <input type="text" class="form-input" id="tr-address" placeholder="Full address">
                </div>
                <div class="form-group">
                    <label class="form-label">Additional Terms</label>
                    <textarea class="form-textarea" id="tr-terms" placeholder="Any additional terms or conditions..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="PDFExport.hideTalentReleaseModal()">Cancel</button>
                <button class="btn btn-primary" onclick="PDFExport.generateTalentRelease()">Generate PDF</button>
            </div>
        </div>
    </div>

    <!-- Location Release Modal -->
    <div class="modal-overlay" id="modal-location-release">
        <div class="modal" style="max-width: 700px;">
            <div class="modal-header">
                <div class="modal-title">Generate Location Release Form</div>
                <button class="modal-close" onclick="PDFExport.hideLocationReleaseModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Property Owner Name</label>
                        <input type="text" class="form-input" id="lr-owner-name" placeholder="Full legal name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Production Company</label>
                        <input type="text" class="form-input" id="lr-company" placeholder="Company name">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Location Address</label>
                    <input type="text" class="form-input" id="lr-address" placeholder="Full property address">
                </div>
                <div class="form-group">
                    <label class="form-label">Location Description</label>
                    <input type="text" class="form-input" id="lr-description" placeholder="Brief description of the location">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Project Title</label>
                        <input type="text" class="form-input" id="lr-project" placeholder="Film/Project title">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Fee/Compensation</label>
                        <input type="text" class="form-input" id="lr-fee" placeholder="$0.00 or In-kind">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Start Date</label>
                        <input type="date" class="form-input" id="lr-start-date">
                    </div>
                    <div class="form-group">
                        <label class="form-label">End Date</label>
                        <input type="date" class="form-input" id="lr-end-date">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Access Hours</label>
                        <input type="text" class="form-input" id="lr-hours" placeholder="6:00 AM - 10:00 PM">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Crew Size (approx)</label>
                        <input type="number" class="form-input" id="lr-crew-size" placeholder="25">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Special Conditions</label>
                    <textarea class="form-textarea" id="lr-conditions" placeholder="Parking arrangements, restricted areas, special requirements..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="PDFExport.hideLocationReleaseModal()">Cancel</button>
                <button class="btn btn-primary" onclick="PDFExport.generateLocationRelease()">Generate PDF</button>
            </div>
        </div>
    </div>

    <!-- Gantt Task Modal -->
    <div class="modal-overlay" id="modal-gantt-task">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">Add Task</div>
                <button class="modal-close" onclick="Gantt.hideModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Task Name</label>
                    <input type="text" class="form-input" id="gantt-task-name" placeholder="Task name">
                </div>
                <div class="form-group">
                    <label class="form-label">Owner/Assignee</label>
                    <input type="text" class="form-input" id="gantt-task-owner" placeholder="Person responsible">
                </div>
                <div class="form-group">
                    <label class="form-label">Phase</label>
                    <select class="form-select" id="gantt-task-phase">
                        <option value="development">Development</option>
                        <option value="preproduction">Pre-Production</option>
                        <option value="production">Production</option>
                        <option value="postproduction">Post-Production</option>
                        <option value="distribution">Distribution</option>
                    </select>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Start Date</label>
                        <input type="date" class="form-input" id="gantt-task-start">
                    </div>
                    <div class="form-group">
                        <label class="form-label">End Date</label>
                        <input type="date" class="form-input" id="gantt-task-end">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="Gantt.hideModal()">Cancel</button>
                <button class="btn btn-primary" onclick="Gantt.saveTask()">Add Task</button>
            </div>
        </div>
    </div>

    <!-- Daily Report Modal -->
    <div class="modal-overlay" id="modal-daily-report">
        <div class="modal" style="max-width: 800px;">
            <div class="modal-header">
                <div class="modal-title">Generate Daily Production Report</div>
                <button class="modal-close" onclick="PDFExport.hideDailyReportModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Report Date</label>
                        <input type="date" class="form-input" id="dr-date">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Day # of #</label>
                        <input type="text" class="form-input" id="dr-day-of" placeholder="1 of 20">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Call Time</label>
                        <input type="time" class="form-input" id="dr-call">
                    </div>
                    <div class="form-group">
                        <label class="form-label">First Shot</label>
                        <input type="time" class="form-input" id="dr-first-shot">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Lunch</label>
                        <input type="text" class="form-input" id="dr-lunch" placeholder="12:00-12:30">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Wrap</label>
                        <input type="time" class="form-input" id="dr-wrap">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Scenes Shot Today</label>
                        <input type="text" class="form-input" id="dr-scenes" placeholder="1, 2, 3A">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Pages Shot Today</label>
                        <input type="text" class="form-input" id="dr-pages" placeholder="3 2/8">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Notes / Issues</label>
                    <textarea class="form-textarea" id="dr-notes" placeholder="Any issues, delays, or notable events..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="PDFExport.hideDailyReportModal()">Cancel</button>
                <button class="btn btn-primary" onclick="PDFExport.generateDailyReport()">Generate PDF</button>
            </div>
        </div>
    </div>

    <!-- Cast Info Popup -->
    <div class="modal-overlay" id="modal-cast-info">
        <div class="modal" style="max-width: 400px;">
            <div class="modal-header">
                <div class="modal-title">Cast Member Info</div>
                <button class="modal-close" onclick="Schedule.hideCastInfo()">Ã—</button>
            </div>
            <div class="modal-body" id="cast-info-content"></div>
        </div>
    </div>


    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         FIREBASE SDK - Using Realtime Database
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      <script type="module">
    // 1. IMPORTS: Standard Firebase + App Check Security
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
    import { getDatabase, ref, set, get, onValue } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";
    import { initializeAppCheck, ReCaptchaEnterpriseProvider } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app-check.js";

    // 2. CONFIGURATION
    const firebaseConfig = {
        apiKey: "AIzaSyC80xtHEQ1rDd9meozTsPQTm-MuLA7eRkc",
        authDomain: "alacrity-hub.firebaseapp.com",
        databaseURL: "https://alacrity-hub-default-rtdb.firebaseio.com",
        projectId: "alacrity-hub",
        storageBucket: "alacrity-hub.firebasestorage.app",
        messagingSenderId: "17649437105",
        appId: "1:17649437105:web:ed206fa2f2de373ac1d590"
    };

    // 3. INITIALIZATION
    const app = initializeApp(firebaseConfig);

    // 4. APP CHECK (The New Security Layer)
    // CRITICAL: You must replace 'YOUR_RECAPTCHA_SITE_KEY' with the actual key 
    // you generate in the Firebase Console -> App Check -> Register.
    const appCheck = initializeAppCheck(app, {
        provider: new ReCaptchaEnterpriseProvider('6Lcodl4sAAAAAIRBhjZ17Fo5gPxRliFDKTqW4fY0'),
        isTokenAutoRefreshEnabled: true 
    });

    const auth = getAuth(app);
    const db = getDatabase(app);
    const provider = new GoogleAuthProvider();

    // 5. EXPOSE TO GLOBAL SCOPE (Restored from V1)
    // This ensures your other scripts can actually "see" and use Firebase.
    window.firebaseAuth = auth;
    window.firebaseDb = db;
    window.firebaseProvider = provider;
    window.firebaseSignInWithPopup = signInWithPopup;
    window.firebaseOnAuthStateChanged = onAuthStateChanged;
    window.firebaseSignOut = signOut;
    window.firebaseRef = ref;
    window.firebaseSet = set;
    window.firebaseGet = get;
    window.firebaseOnValue = onValue;

    // Signal that Firebase is ready
    window.firebaseReady = true;
    document.dispatchEvent(new Event('firebaseReady'));
    
    console.log("Firebase V3 (Secured + Connected) Initialized");
</script>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         MAIN APPLICATION JAVASCRIPT
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <script>
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           XSS PROTECTION - SECURITY FUNCTION
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        // SAFETY TOOL: Converts dangerous code into safe text
        const clean = (text) => {
            if (!text) return '';
            return String(text)
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           DOM SAFETY UTILITIES - Prevent null reference errors
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const DOM = {
            // Safe get element - returns element or null without throwing
            get(id) {
                try {
                    return document.getElementById(id);
                } catch (e) {
                    console.warn(`Element not found: ${id}`);
                    return null;
                }
            },
            
            // Safe set text content
            setText(id, value) {
                const el = this.get(id);
                if (el) el.textContent = value;
                return !!el;
            },
            
            // Safe set HTML
            setHTML(id, html) {
                const el = this.get(id);
                if (el) el.innerHTML = html;
                return !!el;
            },
            
            // Safe set value (for inputs)
            setValue(id, value) {
                const el = this.get(id);
                if (el) el.value = value;
                return !!el;
            },
            
            // Safe get value
            getValue(id, defaultValue = '') {
                const el = this.get(id);
                return el ? el.value : defaultValue;
            },
            
            // Safe add class
            addClass(id, className) {
                const el = this.get(id);
                if (el) el.classList.add(className);
                return !!el;
            },
            
            // Safe remove class
            removeClass(id, className) {
                const el = this.get(id);
                if (el) el.classList.remove(className);
                return !!el;
            },
            
            // Safe toggle class
            toggleClass(id, className) {
                const el = this.get(id);
                if (el) el.classList.toggle(className);
                return !!el;
            },
            
            // Safe show element
            show(id) {
                const el = this.get(id);
                if (el) el.style.display = '';
                return !!el;
            },
            
            // Safe hide element
            hide(id) {
                const el = this.get(id);
                if (el) el.style.display = 'none';
                return !!el;
            },
            
            // Safe focus
            focus(id) {
                const el = this.get(id);
                if (el) {
                    try {
                        el.focus();
                    } catch (e) {
                        console.warn(`Could not focus element: ${id}`);
                    }
                }
                return !!el;
            },
            
            // Check if element exists
            exists(id) {
                return !!this.get(id);
            }
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           BREAKDOWN CATEGORIES CONFIGURATION
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const BREAKDOWN_CATEGORIES = [
            { id: 'cast', name: 'Cast', icon: 'ğŸ‘¤', color: 'cast' },
            { id: 'extras', name: 'Extras', icon: 'ğŸ‘¥', color: 'extras' },
            { id: 'stunts', name: 'Stunts', icon: 'ğŸ­', color: 'stunts' },
            { id: 'vehicles', name: 'Vehicles', icon: 'ğŸš—', color: 'vehicles' },
            { id: 'props', name: 'Props', icon: 'ğŸ¬', color: 'props' },
            { id: 'sfx', name: 'Special Effects', icon: 'âœ¨', color: 'sfx' },
            { id: 'costumes', name: 'Wardrobe', icon: 'ğŸ‘”', color: 'costumes' },
            { id: 'makeup', name: 'Makeup/Hair', icon: 'ğŸ’„', color: 'makeup' },
            { id: 'animals', name: 'Animals', icon: 'ğŸ•', color: 'cast' },
            { id: 'greenery', name: 'Greenery', icon: 'ğŸŒ¿', color: 'extras' },
            { id: 'security', name: 'Security', icon: 'ğŸ”’', color: 'stunts' },
            { id: 'notes', name: 'Notes', icon: 'ğŸ“', color: 'vehicles' }
        ];

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CRM STAGES CONFIGURATION
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const CRM_STAGES = [
            { id: 'new', name: 'New' },
            { id: 'contacted', name: 'Contacted' },
            { id: 'pitched', name: 'Pitched' },
            { id: 'negotiating', name: 'Negotiating' },
            { id: 'done', name: 'Closed' }
        ];

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           AUTHENTICATION MODULE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const Auth = {
            user: null,
            unsubscribe: null,
            isDemoMode: false,

            async init() {
                console.log('ğŸš€ DC ALACRITY Starting...');
                
                // Check if user is already logged in (page reload)
                if (!window.firebaseReady) {
                    console.log('Waiting for Firebase...');
                    await new Promise((resolve) => {
                        if (window.firebaseReady) {
                            resolve();
                        } else {
                            document.addEventListener('firebaseReady', resolve, { once: true });
                        }
                    });
                }
                
                // Check for existing auth state
                window.firebaseOnAuthStateChanged(window.firebaseAuth, async (user) => {
                    if (user) {
                        console.log('Found existing session for:', user.email);
                        const statusEl = document.getElementById('login-status');
                        statusEl.textContent = 'Restoring your session...';
                        statusEl.className = 'lstatus';
                        
                        this.user = user;
                        this.isDemoMode = false;
                        await this.onLogin();
                    } else {
                        console.log('No existing session - showing login screen');
                        // Show login overlay
                        document.getElementById('login-overlay').classList.remove('hidden');
                    }
                });
            },

            async login() {
                const statusEl = document.getElementById('login-status');
                const btn = document.querySelector('.lbtn-cloud');
                
                try {
                    if (btn) btn.disabled = true;
                    
                    // Check if Firebase is ready
                    if (!window.firebaseReady) {
                        statusEl.textContent = 'Loading Firebase SDK...';
                        statusEl.className = 'lstatus loading';
                        
                        // Wait for Firebase to be ready
                        await new Promise((resolve) => {
                            if (window.firebaseReady) {
                                resolve();
                            } else {
                                document.addEventListener('firebaseReady', resolve, { once: true });
                            }
                        });
                    }
                    
                    statusEl.textContent = 'Opening authentication popup...';
                    statusEl.className = 'lstatus loading';
                    
                    // Step 1: Open popup
                    console.log('Opening Google Sign-In popup...');
                    const result = await window.firebaseSignInWithPopup(window.firebaseAuth, window.firebaseProvider);
                    
                    // Step 2: Authentication successful
                    statusEl.textContent = 'Authentication successful! Loading your data...';
                    statusEl.className = 'lstatus loading';
                    console.log('User authenticated:', result.user.email);
                    
                    this.user = result.user;
                    this.isDemoMode = false;
                    
                    // Step 3: Call onLogin to initialize the app
                    statusEl.textContent = 'Initializing application...';
                    statusEl.className = 'lstatus loading';
                    await this.onLogin();
                    
                    statusEl.textContent = 'Welcome! Starting your session...';
                    statusEl.className = 'lstatus success';
                    
                } catch (error) {
                    console.error('Login error:', error);
                    
                    // Better error messages
                    let errorMessage = 'Authentication failed';
                    if (error.code === 'auth/popup-closed-by-user') {
                        errorMessage = 'Sign-in cancelled - Please try again';
                    } else if (error.code === 'auth/popup-blocked') {
                        errorMessage = 'Popup blocked - Please allow popups for this site';
                    } else if (error.code === 'auth/network-request-failed') {
                        errorMessage = 'Network error - Please check your connection';
                    } else if (error.code === 'auth/unauthorized-domain') {
                        errorMessage = 'Unauthorized domain - Check Firebase configuration';
                    } else if (error.message) {
                        errorMessage = error.message;
                    }
                    
                    statusEl.textContent = errorMessage;
                    statusEl.className = 'lstatus error';
                    if (btn) btn.disabled = false;
                }
            },

            async onLogin() {
                // Hide login overlay, show app
                document.getElementById('login-overlay').classList.add('hidden');
                document.getElementById('app').style.display = 'grid';
                
                // Update user display
                document.getElementById('user-email').textContent = this.user.email || this.user.displayName;
                
                // Show/hide logout button based on mode
                const logoutBtn = document.getElementById('logout-btn');
                if (logoutBtn) {
                    logoutBtn.style.display = this.isDemoMode ? 'none' : 'flex';
                }
                
                // Update mode banner
                this.updateModeBanner();
                
                // Initialize Core with user data
                await Core.init();
            },

            updateModeBanner() {
                const banner = document.getElementById('mode-banner');
                const badge = document.getElementById('mode-badge');
                const syncStatus = document.getElementById('mode-sync-status');
                
                if (this.isDemoMode) {
                    banner.className = 'mode-banner demo-mode';
                    badge.className = 'mode-badge demo';
                    badge.innerHTML = 'ğŸ’¾ DEMO MODE';
                    if (syncStatus) syncStatus.textContent = 'Saving locally';
                } else {
                    banner.className = 'mode-banner cloud-mode';
                    badge.className = 'mode-badge cloud';
                    badge.innerHTML = 'â˜ï¸ CLOUD MODE';
                    if (syncStatus) syncStatus.textContent = 'Synced to cloud';
                }
            },

            async logout() {
                if (this.unsubscribe) {
                    this.unsubscribe();
                }
                if (!this.isDemoMode) {
                    await window.firebaseSignOut(window.firebaseAuth);
                }
                this.isDemoMode = false;
                location.reload();
            },

            demoMode() {
                // Enter demo mode without authentication
                this.isDemoMode = true;
                this.user = {
                    uid: 'demo_user',
                    email: 'demo@local',
                    displayName: 'Demo User'
                };
                
                const statusEl = document.getElementById('login-status');
                statusEl.textContent = 'Entering Demo Mode - All data saved locally';
                statusEl.className = 'lstatus success';
                
                setTimeout(() => {
                    this.onLogin();
                }, 500);
            }
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           DEFAULT BUDGET STRUCTURE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const DEFAULT_BUDGET = {
            lines: [
                { code: '100', name: 'Pre-Production', est: 5000, act: 0 },
                { code: '200', name: 'Production Staff', est: 25000, act: 0 },
                { code: '300', name: 'Talent', est: 15000, act: 0 },
                { code: '400', name: 'Travel & Living', est: 8000, act: 0 },
                { code: '500', name: 'Location', est: 10000, act: 0 },
                { code: '600', name: 'Props & Wardrobe', est: 5000, act: 0 },
                { code: '700', name: 'Studio & Set', est: 12000, act: 0 },
                { code: '800', name: 'Equipment', est: 15000, act: 0 },
                { code: '900', name: 'Film & Lab', est: 3000, act: 0 },
                { code: '1000', name: 'Post Production', est: 20000, act: 0 },
                { code: '1100', name: 'Insurance', est: 5000, act: 0 },
                { code: '1200', name: 'Contingency', est: 10000, act: 0 },
                { code: '1300', name: 'Other', est: 2000, act: 0 }
            ],
            pos: []
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CORE MODULE - Data Management & Navigation
           
           ğŸ” CLOUD SYNC DIAGNOSTICS:
           If experiencing cloud sync issues, open browser console and run:
           > Core.runCloudSyncDiagnostics()
           
           This provides detailed information about authentication, data status,
           localStorage, and cloud sync state to help troubleshoot sync issues.
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const Core = {
            currentProduction: 'Default Production',
            data: {
                // Initialize with defaults to prevent undefined errors
                cast: {},
                crew: {},
                schedule: { strips: [] },
                breakdowns: [],
                tech: [],
                vault: [],
                days: [],
                crm: { leads: [], ledger: [] },
                gantt: { production: [], global: [] },
                notes: '',
                shotlist: [],
                continuity: [],
                risks: [],
                milestones: [],
                tasks: [],
                financials: {
                    categories: {},
                    budget: 0,
                    spent: 0,
                    remaining: 0
                }
            },
            bizData: { leads: [], ledger: [], income: [] },
            activityLog: [],
            syncTimeout: null,

                        async init() {
                console.log('ğŸš€ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
                console.log('ğŸš€ DC ALACRITY Production Command System Initializing...');
                console.log('ğŸš€ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
                
                // Ensure data structure exists before any operations
                if (!this.data) {
                    console.log('âš ï¸ Data structure missing, initializing defaults...');
                    this.data = this.getDefaultData();
                }
                if (!this.bizData) {
                    console.log('âš ï¸ BizData structure missing, initializing defaults...');
                    this.bizData = { leads: [], ledger: [], income: [] };
                }
                
                // Step 1: Load productions list
                console.log('ğŸ“‹ STEP 1: Loading productions list...');
                await this.loadProductionsList();
                
                // Step 2: Render production dropdown
                console.log('ğŸ¬ STEP 2: Rendering production dropdown...');
                this.renderProductionDropdown();
                
                // Step 3: Load current production data
                console.log(`ğŸ“‚ STEP 3: Loading production data for "${this.currentProduction}"...`);
                await this.loadProduction(this.currentProduction);
                
                // Step 4: Load business CRM data
                console.log('ğŸ’¼ STEP 4: Loading business CRM data...');
                await this.loadBizData();
                
                // Step 5: Render all views
                console.log('ğŸ¨ STEP 5: Rendering all views...');
                this.renderAll();
                
                // Step 6: Setup real-time sync
                console.log('ğŸ”„ STEP 6: Setting up real-time sync...');
                this.setupRealtimeSync();
                
                console.log('âœ… â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
                console.log('âœ… System initialized successfully!');
                console.log('âœ… â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
                this.log('System initialized');
            },

            async loadProductionsList() {
                console.log('ğŸ“‹ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
                console.log('ğŸ“‹ Loading Productions List');
                console.log('ğŸ“‹ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
                
                let productionsList = [];
                
                // In cloud mode: Load from Firebase first
                if (Auth.user && !Auth.isDemoMode) {
                    try {
                        console.log('â˜ï¸ Attempting to load productions list from Firebase...');
                        const dbRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productionsList`);
                        const snapshot = await window.firebaseGet(dbRef);
                        
                        if (snapshot.exists()) {
                            productionsList = snapshot.val();
                            console.log(`âœ… Loaded ${productionsList.length} productions from cloud:`, productionsList);
                            
                            // Sync to localStorage as backup
                            localStorage.setItem('dc_alacrity_productions', JSON.stringify(productionsList));
                            this.log(`Loaded ${productionsList.length} productions from cloud`);
                            return productionsList;
                        } else {
                            console.log('â„¹ï¸ No productions list in cloud yet');
                            
                            // Check if we have local productions to upload
                            const localStored = localStorage.getItem('dc_alacrity_productions');
                            if (localStored) {
                                productionsList = JSON.parse(localStored);
                                console.log(`ğŸ“¤ Found ${productionsList.length} local productions, uploading to cloud...`);
                                
                                // Upload local list to cloud
                                await window.firebaseSet(dbRef, productionsList);
                                console.log('âœ… Local productions list uploaded to cloud');
                                this.log(`Uploaded ${productionsList.length} productions to cloud`);
                                return productionsList;
                            }
                        }
                    } catch (e) {
                        console.error('âŒ Firebase productions list error:', e);
                        console.log('âš ï¸ Falling back to localStorage...');
                        this.log('Warning: Cloud sync unavailable, using local data');
                    }
                }
                
                // Fall back to localStorage or create default
                const stored = localStorage.getItem('dc_alacrity_productions');
                if (stored) {
                    productionsList = JSON.parse(stored);
                    console.log(`ğŸ“‚ Loaded ${productionsList.length} productions from localStorage:`, productionsList);
                } else {
                    productionsList = ['Default Production'];
                    console.log('ğŸ†• No productions found, creating default production');
                    localStorage.setItem('dc_alacrity_productions', JSON.stringify(productionsList));
                    
                    // If in cloud mode, also create in Firebase
                    if (Auth.user && !Auth.isDemoMode) {
                        try {
                            const dbRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productionsList`);
                            await window.firebaseSet(dbRef, productionsList);
                            console.log('âœ… Default production list created in cloud');
                        } catch (e) {
                            console.error('âŒ Could not create default in cloud:', e);
                        }
                    }
                }
                
                console.log('âœ… Productions list loaded successfully');
                return productionsList;
            },

            getProductions() {
                const stored = localStorage.getItem('dc_alacrity_productions');
                return stored ? JSON.parse(stored) : ['Default Production'];
            },

            async createProduction(name) {
                console.log(`â• Creating/Adding production: "${name}"`);
                
                const productions = this.getProductions();
                
                // Check if already exists in list
                if (productions.includes(name)) {
                    console.log(`â„¹ï¸ Production "${name}" already exists in list`);
                    
                    // CRITICAL: Even if it exists in list, verify it has data in cloud
                    if (Auth.user && !Auth.isDemoMode) {
                        try {
                            const dbRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productions/${name}`);
                            const snapshot = await window.firebaseGet(dbRef);
                            
                            if (!snapshot.exists()) {
                                console.log(`âš ï¸ Production "${name}" in list but missing cloud data - creating now`);
                                const defaultData = this.getDefaultData();
                                await window.firebaseSet(dbRef, defaultData);
                                console.log(`âœ… Created missing cloud data for "${name}"`);
                            }
                        } catch (e) {
                            console.error(`âŒ Error verifying cloud data:`, e);
                        }
                    }
                    return;
                }
                
                // Add to list
                productions.push(name);
                console.log(`âœ… Added "${name}" to productions list. Total: ${productions.length}`);
                
                // Save to localStorage
                localStorage.setItem('dc_alacrity_productions', JSON.stringify(productions));
                
                // Save to Firebase if cloud mode
                if (Auth.user && !Auth.isDemoMode) {
                    try {
                        // Update productions list
                        const listRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productionsList`);
                        await window.firebaseSet(listRef, productions);
                        console.log(`â˜ï¸ Productions list synced to cloud (${productions.length} items)`);
                        
                        // CRITICAL: Create the production data structure in cloud immediately
                        const prodRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productions/${name}`);
                        const snapshot = await window.firebaseGet(prodRef);
                        
                        if (!snapshot.exists()) {
                            console.log(`ğŸ†• Creating complete data structure for "${name}" in cloud...`);
                            const defaultData = this.getDefaultData();
                            await window.firebaseSet(prodRef, defaultData);
                            console.log(`âœ… Complete production structure created in cloud`);
                            
                            // Also save to localStorage
                            localStorage.setItem('dc_alacrity_prod_' + name, JSON.stringify(defaultData));
                            console.log(`ğŸ’¾ Production data cached locally`);
                        } else {
                            console.log(`â„¹ï¸ Production data already exists in cloud`);
                        }
                        
                        this.log(`Added production: ${name}`);
                    } catch (e) {
                        console.error('âŒ Failed to create production in cloud:', e);
                        this.log('Warning: Could not create production in cloud - ' + e.message);
                    }
                }
            },

            async deleteProduction(name) {
                console.log(`ğŸ—‘ï¸ Deleting production: "${name}"`);
                
                const productions = this.getProductions();
                const index = productions.indexOf(name);
                
                if (index === -1) {
                    console.log(`âš ï¸ Production "${name}" not found in list`);
                    return;
                }
                
                // Remove from list
                productions.splice(index, 1);
                console.log(`âœ… Removed "${name}" from list. Remaining: ${productions.length}`);
                
                // Save updated list to localStorage
                localStorage.setItem('dc_alacrity_productions', JSON.stringify(productions));
                
                // Delete production data from localStorage
                localStorage.removeItem('dc_alacrity_prod_' + name);
                console.log(`ğŸ—‘ï¸ Deleted local data for "${name}"`);
                
                // Delete from Firebase if cloud mode
                if (Auth.user && !Auth.isDemoMode) {
                    try {
                        // Update productions list
                        const listRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productionsList`);
                        await window.firebaseSet(listRef, productions);
                        
                        // Delete production data
                        const prodRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productions/${name}`);
                        await window.firebaseSet(prodRef, null);
                        
                        console.log(`â˜ï¸ Deleted "${name}" from cloud`);
                        this.log(`Deleted production: ${name}`);
                    } catch (e) {
                        console.error('âŒ Failed to delete from cloud:', e);
                    }
                }
            },

                        async loadProduction(name) {
                console.log(`ğŸ“‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`);
                console.log(`ğŸ“‚ Loading Production: "${name}"`);
                console.log(`ğŸ“‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`);
                
                // Update current production reference
                this.currentProduction = name;
                let productionData = null;
                let dataSource = 'none';
                
                // PHASE 1: Try to load from cloud (if available)
                if (Auth.user && !Auth.isDemoMode) {
                    try {
                        console.log(`â˜ï¸ Checking Firebase for "${name}"...`);
                        const dbRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productions/${name}`);
                        const snapshot = await window.firebaseGet(dbRef);
                        
                        if (snapshot.exists()) {
                            productionData = snapshot.val();
                            dataSource = 'cloud';
                            console.log(`âœ… Loaded "${name}" from cloud`);
                            console.log(`   Properties: ${Object.keys(productionData || {}).length}`);
                            
                            // Update localStorage as backup
                            localStorage.setItem('dc_alacrity_prod_' + name, JSON.stringify(productionData));
                            console.log(`ğŸ’¾ Cached to localStorage`);
                        } else {
                            console.log(`â„¹ï¸ "${name}" not found in cloud, checking local...`);
                        }
                    } catch (e) {
                        console.error(`âŒ Firebase error loading "${name}":`, e);
                        console.log(`âš ï¸ Will try localStorage...`);
                    }
                }
                
                // PHASE 2: Try localStorage if no cloud data
                if (!productionData) {
                    const stored = localStorage.getItem('dc_alacrity_prod_' + name);
                    if (stored) {
                        try {
                            productionData = JSON.parse(stored);
                            dataSource = 'localStorage';
                            console.log(`ğŸ“‚ Loaded "${name}" from localStorage`);
                            console.log(`   Properties: ${Object.keys(productionData || {}).length}`);
                            
                            // Upload to cloud if we're in cloud mode
                            if (Auth.user && !Auth.isDemoMode) {
                                console.log(`ğŸ“¤ Uploading local data to cloud...`);
                                try {
                                    const dbRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productions/${name}`);
                                    await window.firebaseSet(dbRef, productionData);
                                    console.log(`âœ… Uploaded "${name}" to cloud`);
                                    this.log(`Uploaded local production "${name}" to cloud`);
                                    dataSource = 'localStorageâ†’cloud';
                                } catch (uploadError) {
                                    console.error(`âŒ Failed to upload to cloud:`, uploadError);
                                }
                            }
                        } catch (parseError) {
                            console.error(`âŒ Error parsing local data for "${name}":`, parseError);
                            productionData = null;
                        }
                    } else {
                        console.log(`â„¹ï¸ No local data found for "${name}"`);
                    }
                }
                
                // PHASE 3: Create new production with defaults if nothing found
                if (!productionData) {
                    console.log(`ğŸ†• Creating new production "${name}" with default data`);
                    productionData = this.getDefaultData();
                    dataSource = 'defaults';
                    
                    // Save new production to localStorage
                    localStorage.setItem('dc_alacrity_prod_' + name, JSON.stringify(productionData));
                    console.log(`ğŸ’¾ Saved new production to localStorage`);
                    
                    // Save to cloud if available
                    if (Auth.user && !Auth.isDemoMode) {
                        try {
                            const dbRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productions/${name}`);
                            await window.firebaseSet(dbRef, productionData);
                            console.log(`â˜ï¸ Created "${name}" in cloud with full default data`);
                            this.log(`Created new production: ${name}`);
                            dataSource = 'defaultsâ†’cloud';
                        } catch (e) {
                            console.error(`âŒ Failed to create in cloud:`, e);
                        }
                    }
                }
                
                // PHASE 4: Merge with defaults to ensure ALL fields exist
                console.log(`ğŸ”„ Merging with defaults to ensure data integrity...`);
                const defaults = this.getDefaultData();
                
                // CRITICAL: Deep merge that ensures EVERY default field exists
                this.data = this.deepMergeComplete(defaults, productionData);
                
                // PHASE 5: Migrate old property names to new ones (for backward compatibility)
                console.log(`ğŸ”„ Migrating legacy property names...`);
                const hadMigrations = this.migrateOldPropertyNames();
                
                // PHASE 6: Verify data integrity in cloud sync mode
                if (Auth.user && !Auth.isDemoMode) {
                    console.log(`ğŸ” Verifying cloud sync data integrity...`);
                    const missingFields = this.verifyDataIntegrity();
                    if (missingFields.length > 0) {
                        console.warn(`âš ï¸ Missing fields detected:`, missingFields);
                        console.log(`ğŸ”§ Re-initializing missing fields...`);
                        hadMigrations = true; // Force save to fix
                    }
                }
                
                // If migrations occurred OR we created new data, save immediately
                if (hadMigrations || dataSource.includes('defaults')) {
                    console.log(`ğŸ’¾ Saving complete data structure...`);
                    localStorage.setItem('dc_alacrity_prod_' + name, JSON.stringify(this.data));
                    
                    // CRITICAL: For cloud mode, immediately sync the complete structure
                    if (Auth.user && !Auth.isDemoMode) {
                        try {
                            const dbRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productions/${name}`);
                            await window.firebaseSet(dbRef, this.data);
                            console.log(`â˜ï¸ Complete data structure synced to cloud`);
                        } catch (e) {
                            console.error(`âŒ Failed to sync complete structure:`, e);
                        }
                    }
                }
                
                // Debug data verification
                console.log(`ğŸ­ Cast members loaded: ${Object.keys(this.data.cast || {}).length}`);
                console.log(`ğŸ¬ Crew members loaded: ${Object.keys(this.data.crew || {}).length}`);
                console.log(`ğŸ¯ Shot list items: ${(this.data.shotlist || []).length}`);
                console.log(`ğŸ“‹ Breakdown sheets: ${(this.data.breakdowns || []).length}`);
                console.log(`ğŸ“… Schedule strips: ${(this.data.schedule?.strips || []).length}`);
                
                // Ensure the production is in the productions list
                await this.createProduction(name);
                
                // Log final status
                console.log(`âœ… â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`);
                console.log(`âœ… Production "${name}" ready`);
                console.log(`âœ… Source: ${dataSource}`);
                console.log(`âœ… Data properties: ${Object.keys(this.data).length}`);
                console.log(`âœ… All required fields verified: âœ“`);
                console.log(`âœ… â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`);
                
                this.log(`Loaded production: ${name} (${dataSource})`);
            },
            
            migrateOldPropertyNames() {
                let hadMigrations = false;
                
                // Migrate shotList (old camelCase) to shotlist (new lowercase)
                if (this.data.shotList && !this.data.shotlist) {
                    console.log(`ğŸ“¦ Migrating shotList â†’ shotlist (${this.data.shotList.length} shots)`);
                    this.data.shotlist = this.data.shotList;
                    delete this.data.shotList;
                    hadMigrations = true;
                }
                
                // Ensure shotlist exists
                if (!this.data.shotlist) {
                    this.data.shotlist = [];
                }
                
                // Ensure budget structure exists with proper format
                if (!this.data.budget || !this.data.budget.lines) {
                    console.log(`ğŸ“¦ Initializing budget structure`);
                    this.data.budget = JSON.parse(JSON.stringify(DEFAULT_BUDGET));
                    hadMigrations = true;
                }
                
                // Ensure budget.pos exists
                if (!this.data.budget.pos) {
                    this.data.budget.pos = [];
                    hadMigrations = true;
                }
                
                // Ensure all required arrays exist
                if (!this.data.milestones) {
                    this.data.milestones = [];
                    hadMigrations = true;
                }
                if (!this.data.risks) {
                    this.data.risks = [];
                    hadMigrations = true;
                }
                if (!this.data.continuity) {
                    this.data.continuity = [];
                    hadMigrations = true;
                }
                if (!this.data.tasks) {
                    this.data.tasks = [];
                    hadMigrations = true;
                }
                
                // Ensure financials structure exists
                if (!this.data.financials) {
                    this.data.financials = {
                        categories: {},
                        budget: 0,
                        spent: 0,
                        remaining: 0
                    };
                    hadMigrations = true;
                }
                
                // Ensure gantt structure exists
                if (!this.data.gantt) {
                    this.data.gantt = { production: [], global: [] };
                    hadMigrations = true;
                } else {
                    // Ensure both production and global arrays exist
                    if (!this.data.gantt.production) {
                        this.data.gantt.production = [];
                        hadMigrations = true;
                    }
                    if (!this.data.gantt.global) {
                        this.data.gantt.global = [];
                        hadMigrations = true;
                    }
                }
                
                // Ensure schedule structure exists
                if (!this.data.schedule) {
                    this.data.schedule = { strips: [] };
                    hadMigrations = true;
                } else if (!this.data.schedule.strips) {
                    this.data.schedule.strips = [];
                    hadMigrations = true;
                }
                
                console.log(`âœ… Migration complete (had changes: ${hadMigrations})`);
                return hadMigrations;
            },

            async loadBizData() {
                const defaultBizData = { leads: [], ledger: [], income: [] };
                
                if (Auth.user && !Auth.isDemoMode) {
                    try {
                        const dbRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/business/crm`);
                        const snapshot = await window.firebaseGet(dbRef);
                        if (snapshot.exists()) {
                            const cloudBizData = snapshot.val();
                            // Merge with defaults to ensure all fields exist
                            this.bizData = {...defaultBizData, ...cloudBizData};
                            console.log('ğŸ“¥ Business data loaded from cloud');
                            return;
                        }
                    } catch (e) {
                        console.warn('Firebase biz load failed:', e);
                    }
                }
                
                const stored = localStorage.getItem('dc_alacrity_biz');
                if (stored) {
                    const localBizData = JSON.parse(stored);
                    // Merge with defaults to ensure all fields exist
                    this.bizData = {...defaultBizData, ...localBizData};
                } else {
                    this.bizData = defaultBizData;
                }
            },

            getDefaultData() {
                return {
                    days: [],
                    tech: [],
                    vault: [],
                    schedule: { strips: [] },
                    breakdowns: [],
                    cast: {},
                    crew: {},
                    crm: { leads: [], ledger: [] },
                    gantt: { production: [], global: [] },
                    notes: '',
                    budget: JSON.parse(JSON.stringify(DEFAULT_BUDGET)),
                    shotlist: [],
                    continuity: [],
                    risks: [],
                    contacts: [],
                    milestones: [],
                    tasks: [],
                    financials: {
                        categories: {},
                        budget: 0,
                        spent: 0,
                        remaining: 0
                    }
                };
            },

            getDefaultBreakdown() {
                return {
                    sheet: '1',
                    pages: '1',
                    date: new Date().toLocaleDateString(),
                    project: this.currentProduction,
                    scene: '1',
                    intext: 'INT',
                    daynight: 'DAY',
                    location: '',
                    description: '',
                    elements: {},
                    complexity: 'MEDIUM',
                    complexityScore: null,
                    complexityOverride: false
                };
            },

            deepMerge(defaults, loaded) {
                // Deep merge that prioritizes loaded data to prevent data loss
                const result = {};
                
                // First, add all default keys
                for (const key in defaults) {
                    result[key] = defaults[key];
                }
                
                // Then, override with loaded data
                for (const key in loaded) {
                    if (loaded[key] !== null && loaded[key] !== undefined) {
                        // For objects (but not arrays), check if we need deep merge
                        if (typeof loaded[key] === 'object' && !Array.isArray(loaded[key]) && loaded[key] !== null) {
                            // If loaded object has content, use it entirely
                            if (Object.keys(loaded[key]).length > 0) {
                                result[key] = loaded[key];
                            } else if (!result[key]) {
                                // If no default exists, use empty loaded object
                                result[key] = loaded[key];
                            }
                            // Otherwise keep the default
                        } else {
                            // For arrays and primitives, use loaded value
                            result[key] = loaded[key];
                        }
                    }
                }
                
                return result;
            },

            deepMergeComplete(defaults, loaded) {
                // Enhanced deep merge that ENSURES all default fields exist
                const result = JSON.parse(JSON.stringify(defaults)); // Deep clone defaults
                
                if (!loaded || typeof loaded !== 'object') {
                    return result;
                }
                
                // Recursively merge loaded data over defaults
                function merge(target, source) {
                    for (const key in source) {
                        if (source[key] === null || source[key] === undefined) {
                            continue; // Skip null/undefined
                        }
                        
                        if (Array.isArray(source[key])) {
                            // For arrays, use source if it exists
                            target[key] = source[key];
                        } else if (typeof source[key] === 'object') {
                            // For objects, recursively merge
                            if (!target[key] || typeof target[key] !== 'object') {
                                target[key] = {};
                            }
                            // Only merge if both are objects (not one being array)
                            if (!Array.isArray(target[key])) {
                                merge(target[key], source[key]);
                            } else {
                                target[key] = source[key];
                            }
                        } else {
                            // For primitives, use source
                            target[key] = source[key];
                        }
                    }
                }
                
                merge(result, loaded);
                return result;
            },

            verifyDataIntegrity() {
                // Verify all critical fields exist
                const missingFields = [];
                const requiredFields = {
                    'days': Array,
                    'tech': Array,
                    'vault': Array,
                    'schedule': Object,
                    'schedule.strips': Array,
                    'breakdowns': Array,
                    'cast': Object,
                    'crew': Object,
                    'crm': Object,
                    'gantt': Object,
                    'gantt.production': Array,
                    'gantt.global': Array,
                    'notes': String,
                    'budget': Object,
                    'budget.lines': Array,
                    'budget.pos': Array,
                    'shotlist': Array,
                    'continuity': Array,
                    'risks': Array,
                    'contacts': Array,
                    'milestones': Array,
                    'tasks': Array,
                    'financials': Object
                };
                
                for (const [field, type] of Object.entries(requiredFields)) {
                    const parts = field.split('.');
                    let current = this.data;
                    let exists = true;
                    
                    for (const part of parts) {
                        if (!current || current[part] === undefined) {
                            exists = false;
                            break;
                        }
                        current = current[part];
                    }
                    
                    if (!exists) {
                        missingFields.push(field);
                        // Auto-fix by ensuring it exists
                        let target = this.data;
                        for (let i = 0; i < parts.length - 1; i++) {
                            if (!target[parts[i]]) {
                                target[parts[i]] = {};
                            }
                            target = target[parts[i]];
                        }
                        const lastPart = parts[parts.length - 1];
                        if (type === Array) {
                            target[lastPart] = [];
                        } else if (type === Object) {
                            target[lastPart] = {};
                        } else {
                            target[lastPart] = '';
                        }
                    }
                }
                
                return missingFields;
            },

            save() {
                try {
                    // Validate data exists
                    if (!this.data) {
                        console.error('âŒ Cannot save: data is undefined');
                        this.data = this.getDefaultData();
                        this.log('WARNING: Data was undefined, reset to defaults');
                    }
                    
                    if (!this.currentProduction) {
                        console.error('âŒ Cannot save: no current production selected');
                        return;
                    }
                    
                    // Verify data integrity before saving
                    const missingFields = this.verifyDataIntegrity();
                    if (missingFields.length > 0) {
                        console.warn(`âš ï¸ Auto-fixed ${missingFields.length} missing fields before save:`, missingFields);
                    }
                    
                    // Save to localStorage immediately (synchronous backup)
                    const dataString = JSON.stringify(this.data);
                    localStorage.setItem('dc_alacrity_prod_' + this.currentProduction, dataString);
                    console.log(`ğŸ’¾ Saved "${this.currentProduction}" to localStorage (${dataString.length} bytes)`);
                    console.log(`   Fields: ${Object.keys(this.data).length}`);
                    
                    // Update sync status
                    this.updateSyncStatus('saving');
                    
                    // Debounce cloud sync to avoid excessive writes
                    if (this.syncTimeout) {
                        clearTimeout(this.syncTimeout);
                    }
                    
                    this.syncTimeout = setTimeout(() => {
                        this.syncToCloud();
                    }, 2000); // 2 second debounce
                    
                } catch (error) {
                    console.error('âŒ Save failed:', error);
                    console.error('   Error details:', error.message);
                    console.error('   Stack:', error.stack);
                    this.log('ERROR: Save failed - ' + error.message);
                    this.updateSyncStatus('error');
                }
            },

            async syncToCloud() {
                // Skip if not in cloud mode
                if (!Auth.user || Auth.isDemoMode) {
                    console.log('â­ï¸ Skipping cloud sync (not in cloud mode)');
                    return;
                }
                
                // Skip if no production selected
                if (!this.currentProduction) {
                    console.error('âŒ Cannot sync: no current production');
                    return;
                }
                
                // Skip if already syncing
                if (this.isSyncing) {
                    console.log('â¸ï¸ Already syncing, skipping...');
                    return;
                }
                
                // Verify data integrity before syncing
                if (!this.data) {
                    console.error('âŒ Cannot sync: data is undefined');
                    this.updateSyncStatus('error');
                    return;
                }
                
                try {
                    this.isSyncing = true;
                    this.updateSyncStatus('saving');
                    console.log(`â˜ï¸ Syncing "${this.currentProduction}" to cloud...`);
                    
                    // Verify all required fields exist before syncing
                    const missingFields = this.verifyDataIntegrity();
                    if (missingFields.length > 0) {
                        console.warn(`âš ï¸ Auto-fixed ${missingFields.length} missing fields before sync`);
                    }
                    
                    // Create deep clone to avoid reference issues
                    const dataToSync = JSON.parse(JSON.stringify(this.data));
                    
                    const dbRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productions/${this.currentProduction}`);
                    await window.firebaseSet(dbRef, dataToSync);
                    
                    const dataSize = JSON.stringify(dataToSync).length;
                    console.log(`âœ… Synced "${this.currentProduction}" to cloud (${dataSize} bytes)`);
                    console.log(`   Fields synced: ${Object.keys(dataToSync).length}`);
                    console.log(`   Cast: ${Object.keys(dataToSync.cast || {}).length}, Crew: ${Object.keys(dataToSync.crew || {}).length}`);
                    console.log(`   Shots: ${(dataToSync.shotlist || []).length}, Breakdowns: ${(dataToSync.breakdowns || []).length}`);
                    
                    this.updateSyncStatus('synced');
                    this.log(`Synced to cloud: ${this.currentProduction}`);
                    
                    // Clear syncing flag after a brief delay
                    setTimeout(() => {
                        this.isSyncing = false;
                    }, 1000);
                    
                } catch (e) {
                    console.error('âŒ Cloud sync failed:', e);
                    console.error('   Error details:', e.message);
                    this.updateSyncStatus('error');
                    this.log('ERROR: Cloud sync failed - ' + e.message);
                    this.isSyncing = false;
                    
                    // Attempt to save to localStorage as fallback
                    try {
                        localStorage.setItem('dc_alacrity_prod_' + this.currentProduction, JSON.stringify(this.data));
                        console.log('ğŸ’¾ Fallback: Saved to localStorage successfully');
                    } catch (localError) {
                        console.error('âŒ Even localStorage save failed:', localError);
                    }
                }
            },

            saveBizData() {
                try {
                    // Validate bizData exists
                    if (!this.bizData) {
                        console.error('âŒ Cannot save: bizData is undefined');
                        this.bizData = { leads: [], ledger: [], income: [] };
                        return;
                    }
                    
                    // Save to localStorage immediately
                    const dataString = JSON.stringify(this.bizData);
                    localStorage.setItem('dc_alacrity_biz', dataString);
                    console.log(`ğŸ’¾ Saved business data to localStorage (${dataString.length} bytes)`);
                    
                    // Debounce cloud sync
                    if (this.bizSyncTimeout) {
                        clearTimeout(this.bizSyncTimeout);
                    }
                    
                    this.bizSyncTimeout = setTimeout(() => {
                        this.syncBizToCloud();
                    }, 2000);
                    
                } catch (error) {
                    console.error('âŒ BizData save failed:', error);
                    this.log('ERROR: Business data save failed - ' + error.message);
                }
            },

            async syncBizToCloud() {
                // Skip if not in cloud mode
                if (!Auth.user || Auth.isDemoMode) {
                    return;
                }
                
                try {
                    console.log('â˜ï¸ Syncing business data to cloud...');
                    const dbRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/business/crm`);
                    await window.firebaseSet(dbRef, this.bizData);
                    
                    const dataSize = JSON.stringify(this.bizData).length;
                    console.log(`âœ… Synced business data to cloud (${dataSize} bytes)`);
                    this.log('Business data synced to cloud');
                    
                } catch (e) {
                    console.error('âŒ Business data sync failed:', e);
                    this.log('ERROR: Business data sync failed - ' + e.message);
                }
            },

                        setupRealtimeSync() {
                if (!Auth.user || Auth.isDemoMode) {
                    console.log('â­ï¸ Skipping real-time sync (demo mode or not authenticated)');
                    return;
                }
                
                console.log(`ğŸ”„ Setting up real-time sync for "${this.currentProduction}"...`);
                
                // Cleanup existing listener if any
                if (this.unsubscribeProduction) {
                    console.log('ğŸ§¹ Cleaning up previous production listener...');
                    this.unsubscribeProduction();
                }
                
                // Flag to prevent sync loop
                this.isSyncing = false;
                
                // Listen for changes to current production
                const productionRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productions/${this.currentProduction}`);
                console.log(`ğŸ‘‚ Listening to: users/${Auth.user.uid}/productions/${this.currentProduction}`);
                
                this.unsubscribeProduction = window.firebaseOnValue(productionRef, (snapshot) => {
                    if (!snapshot.exists()) {
                        // No cloud data yet - this is the first time, push local data up
                        console.log(`â˜ï¸ No cloud data for "${this.currentProduction}", pushing local data...`);
                        this.syncToCloud();
                        return;
                    }
                    
                    // Don't update if we're currently syncing
                    if (this.isSyncing) {
                        console.log('â¸ï¸ Skipping sync (already syncing)');
                        return;
                    }
                    
                    const cloudData = snapshot.val();
                    const currentDataStr = JSON.stringify(this.data);
                    const cloudDataStr = JSON.stringify(cloudData);
                    
                    // Only update if cloud data is different
                    if (cloudDataStr !== currentDataStr) {
                        console.log(`ğŸ“¥ Received update from cloud for "${this.currentProduction}"`);
                        console.log(`   Cloud data fields: ${Object.keys(cloudData || {}).length}`);
                        
                        // Merge with defaults to ensure integrity
                        const defaults = this.getDefaultData();
                        this.data = this.deepMergeComplete(defaults, cloudData);
                        
                        localStorage.setItem('dc_alacrity_prod_' + this.currentProduction, JSON.stringify(this.data));
                        this.renderAll();
                        this.log('Synced from cloud');
                    }
                }, (error) => {
                    console.error('âŒ Firebase sync error:', error);
                    this.log('Sync error: ' + error.message);
                });
                
                // Also listen to business CRM data (only need to set up once)
                if (this.unsubscribeBiz) {
                    this.unsubscribeBiz();
                }
                
                const bizRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/business/crm`);
                this.unsubscribeBiz = window.firebaseOnValue(bizRef, (snapshot) => {
                    if (!snapshot.exists()) {
                        this.syncBizToCloud();
                        return;
                    }
                    
                    if (this.isSyncing) return;
                    
                    const cloudBizData = snapshot.val();
                    const currentBizStr = JSON.stringify(this.bizData);
                    const cloudBizStr = JSON.stringify(cloudBizData);
                    
                    if (cloudBizStr !== currentBizStr) {
                        console.log('ğŸ“¥ Received business data update from cloud');
                        this.bizData = cloudBizData;
                        localStorage.setItem('dc_alacrity_biz', cloudBizStr);
                        this.renderAll();
                        this.log('Business data synced from cloud');
                    }
                }, (error) => {
                    console.error('âŒ Firebase business sync error:', error);
                });
                
                console.log(`âœ… Real-time sync enabled for "${this.currentProduction}"`);
                this.log('Real-time sync enabled');
            },

            async runCloudSyncDiagnostics() {
                console.log(`\n${'â•'.repeat(60)}`);
                console.log(`ğŸ” CLOUD SYNC DIAGNOSTICS`);
                console.log(`${'â•'.repeat(60)}\n`);
                
                // Check authentication
                console.log(`1. Authentication Status:`);
                console.log(`   User: ${Auth.user ? 'âœ… Logged in' : 'âŒ Not logged in'}`);
                console.log(`   Demo Mode: ${Auth.isDemoMode ? 'âš ï¸ Yes (cloud disabled)' : 'âœ… No'}`);
                console.log(`   User ID: ${Auth.user?.uid || 'N/A'}`);
                
                // Check current production
                console.log(`\n2. Current Production:`);
                console.log(`   Name: "${this.currentProduction || 'NONE'}"`);
                console.log(`   Data loaded: ${this.data ? 'âœ… Yes' : 'âŒ No'}`);
                
                if (this.data) {
                    console.log(`   Data fields: ${Object.keys(this.data).length}`);
                    console.log(`   Cast: ${Object.keys(this.data.cast || {}).length}`);
                    console.log(`   Crew: ${Object.keys(this.data.crew || {}).length}`);
                    console.log(`   Shots: ${(this.data.shotlist || []).length}`);
                    console.log(`   Breakdowns: ${(this.data.breakdowns || []).length}`);
                    console.log(`   Days: ${(this.data.days || []).length}`);
                    console.log(`   Tech: ${(this.data.tech || []).length}`);
                }
                
                // Check productions list
                console.log(`\n3. Productions List:`);
                const productions = this.getProductions();
                console.log(`   Total: ${productions.length}`);
                console.log(`   List: ${JSON.stringify(productions)}`);
                
                // Check localStorage
                console.log(`\n4. LocalStorage:`);
                const localProd = localStorage.getItem('dc_alacrity_prod_' + this.currentProduction);
                console.log(`   Production data: ${localProd ? 'âœ… Found' : 'âŒ Missing'}`);
                if (localProd) {
                    try {
                        const parsed = JSON.parse(localProd);
                        console.log(`   Fields: ${Object.keys(parsed).length}`);
                    } catch (e) {
                        console.log(`   âŒ Parse error: ${e.message}`);
                    }
                }
                
                // Check cloud sync
                if (Auth.user && !Auth.isDemoMode) {
                    console.log(`\n5. Cloud Sync Status:`);
                    try {
                        const prodRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productions/${this.currentProduction}`);
                        const snapshot = await window.firebaseGet(prodRef);
                        
                        console.log(`   Cloud data: ${snapshot.exists() ? 'âœ… Found' : 'âŒ Missing'}`);
                        
                        if (snapshot.exists()) {
                            const cloudData = snapshot.val();
                            console.log(`   Fields: ${Object.keys(cloudData || {}).length}`);
                            console.log(`   Cast: ${Object.keys(cloudData.cast || {}).length}`);
                            console.log(`   Crew: ${Object.keys(cloudData.crew || {}).length}`);
                            console.log(`   Shots: ${(cloudData.shotlist || []).length}`);
                            console.log(`   Breakdowns: ${(cloudData.breakdowns || []).length}`);
                            
                            // Compare with local
                            const localDataStr = JSON.stringify(this.data);
                            const cloudDataStr = JSON.stringify(cloudData);
                            console.log(`   In sync: ${localDataStr === cloudDataStr ? 'âœ… Yes' : 'âš ï¸ No (differences detected)'}`);
                        }
                        
                        // Check productions list in cloud
                        const listRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productionsList`);
                        const listSnapshot = await window.firebaseGet(listRef);
                        
                        console.log(`   Productions list: ${listSnapshot.exists() ? 'âœ… Found' : 'âŒ Missing'}`);
                        if (listSnapshot.exists()) {
                            const cloudList = listSnapshot.val();
                            console.log(`   Cloud productions: ${JSON.stringify(cloudList)}`);
                        }
                        
                    } catch (e) {
                        console.error(`   âŒ Error: ${e.message}`);
                    }
                } else {
                    console.log(`\n5. Cloud Sync: â­ï¸ Skipped (not in cloud mode)`);
                }
                
                console.log(`\n${'â•'.repeat(60)}`);
                console.log(`âœ… Diagnostics Complete`);
                console.log(`${'â•'.repeat(60)}\n`);
                
                return true;
            },

            updateSyncStatus(status) {
                const pill = document.getElementById('sync-status');
                const modeSyncStatus = document.getElementById('mode-sync-status');
                const text = document.getElementById('sync-text');
                const dot = pill ? pill.querySelector('.dot') : null;
                
                switch(status) {
                    case 'saving':
                        if (text) text.textContent = 'SAVING...';
                        if (modeSyncStatus) modeSyncStatus.textContent = Auth.isDemoMode ? 'Saving locally...' : 'Syncing to cloud...';
                        if (pill) pill.classList.add('warning');
                        break;
                    case 'synced':
                        if (text) text.textContent = 'SYNCED';
                        if (modeSyncStatus) modeSyncStatus.textContent = Auth.isDemoMode ? 'Saved locally' : 'Synced to cloud';
                        if (pill) pill.classList.remove('warning');
                        break;
                    case 'error':
                        if (text) text.textContent = 'SYNC ERROR';
                        if (modeSyncStatus) modeSyncStatus.textContent = 'Sync failed - saved locally';
                        if (pill) pill.classList.add('warning');
                        break;
                }
            },

            updateBudgetIndicator(totalBudget, totalSpent) {
                const pill = document.getElementById('budget-status');
                const text = document.getElementById('budget-text');
                
                if (!pill || !text) return;
                
                const isOnBudget = totalSpent <= totalBudget;
                
                // Remove both classes first
                pill.classList.remove('on-budget', 'off-budget');
                
                if (isOnBudget) {
                    pill.classList.add('on-budget');
                    text.textContent = 'ON BUDGET';
                } else {
                    pill.classList.add('off-budget');
                    text.textContent = 'OVER BUDGET';
                }
                
                // Update top banner budget indicator
                this.updateTopBudgetIndicator(totalBudget, totalSpent);
            },
            
            updateTopBudgetIndicator(totalBudget, totalSpent) {
                const indicator = document.getElementById('budget-indicator');
                const statusText = document.getElementById('budget-status-text');
                
                if (!indicator || !statusText) return;
                
                // Remove all budget classes
                indicator.classList.remove('under-budget', 'over-budget', 'on-budget');
                
                const remaining = totalBudget - totalSpent;
                const percentUsed = totalBudget > 0 ? (totalSpent / totalBudget * 100) : 0;
                
                if (totalSpent > totalBudget) {
                    // Over budget
                    indicator.classList.add('over-budget');
                    const overAmount = Math.abs(remaining);
                    statusText.textContent = `OVER BUDGET $${overAmount.toLocaleString()}`;
                } else if (percentUsed >= 90) {
                    // Close to budget (90%+)
                    indicator.classList.add('on-budget');
                    statusText.textContent = `ON BUDGET $${remaining.toLocaleString()} LEFT`;
                } else {
                    // Under budget
                    indicator.classList.add('under-budget');
                    statusText.textContent = `UNDER BUDGET $${remaining.toLocaleString()} LEFT`;
                }
            },

            renderProductionDropdown() {
                const select = DOM.get('project-select');
                if (!select) {
                    console.warn('âš ï¸ project-select element not found, skipping render');
                    return;
                }
                
                const productions = this.getProductions();
                console.log(`ğŸ¬ Rendering ${productions.length} productions in dropdown`);
                
                if (productions.length === 0) {
                    console.warn('âš ï¸ No productions found, creating default');
                    productions.push('Default Production');
                    localStorage.setItem('dc_alacrity_productions', JSON.stringify(productions));
                }
                
                select.innerHTML = productions.map(p => 
                    `<option value="${p}" ${p === this.currentProduction ? 'selected' : ''}>${p}</option>`
                ).join('');
                
                console.log(`âœ… Dropdown rendered with current: "${this.currentProduction}"`);
            },

            renderAll() {
                this.renderDashboard();
                Days.render();
                Tech.render();
                Vault.render();
                Schedule.render();
                Breakdown.render();
                CastCrew.render();
                Financials.render();
                ShotList.render();
                ContinuityLog.render();
                RiskAssessment.render();
                ContactDirectory.render();
                Milestones.render();
                ProdCRM.renderPipeline();
                ProdCRM.renderDialer();
                ProdCRM.renderIntel();
                BizCRM.renderPipeline();
                BizCRM.renderDialer();
                BizCRM.renderIntel();
                Gantt.init();
                Calendar.render();
                Notes.load();
                try { DataManager.initExportTab(); } catch(e) {}
                // Refresh annotated script doc card
                try { if (typeof V10 !== 'undefined' && typeof V10.updateDocCard === 'function') V10.updateDocCard(); } catch(e) {}
            },

            // â”€â”€ Convenience render aliases â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            renderContacts()   { try { ContactDirectory.render(); }  catch(e) { console.warn('ContactDirectory render failed', e); } },
            renderMilestones() { try { Milestones.render(); }        catch(e) { console.warn('Milestones render failed', e); } },
            renderRisks()      { try { RiskAssessment.render(); }    catch(e) { console.warn('RiskAssessment render failed', e); } },
            renderContinuity() { try { ContinuityLog.render(); }     catch(e) { console.warn('ContinuityLog render failed', e); } },
            renderSchedule()   { try { Schedule.render(); }          catch(e) { console.warn('Schedule render failed', e); } },
            renderShotlist()   { try { ShotList.render(); }          catch(e) { console.warn('ShotList render failed', e); } },
            renderCast()       { try { CastCrew.renderList('cast'); } catch(e) { console.warn('CastCrew render failed', e); } },
            renderCrew()       { try { CastCrew.renderList('crew'); } catch(e) { console.warn('CastCrew render failed', e); } },

            renderDashboard() {
                // Use DOM utility for safe updates
                const days  = this.data.days  || [];
                const tech  = this.data.tech  || [];
                const vault = this.data.vault || [];

                DOM.setText('stat-days',  days.length);
                DOM.setText('stat-tech',  tech.length);
                DOM.setText('stat-vault', vault.length);

                // Shoot day sub-stats
                const today = new Date(); today.setHours(0,0,0,0);
                const completeDays  = days.filter(d => { try { return new Date(d.date) < today; } catch(e) { return false; } });
                const upcomingDays  = days.filter(d => { try { return new Date(d.date) >= today; } catch(e) { return false; } });
                DOM.setText('stat-days-complete',  completeDays.length);
                DOM.setText('stat-days-upcoming',  upcomingDays.length);

                // Tech sub-stats
                const checkedOut = tech.filter(t => t.checkedOut || t.status === 'out' || t.status === 'checked-out');
                const techAvail  = tech.length - checkedOut.length;
                DOM.setText('stat-tech-checked', checkedOut.length);
                DOM.setText('stat-tech-avail',   techAvail);
                const techBar = document.getElementById('tech-mini-bar');
                const techPct = document.getElementById('tech-mini-pct');
                if (techBar && tech.length > 0) {
                    const pct = Math.round((checkedOut.length / tech.length) * 100);
                    techBar.style.width = pct + '%';
                    if (techPct) techPct.textContent = pct + '% in use';
                }

                // Vault sub-stats
                const vaultGB = vault.reduce((s,v) => s + parseFloat(v.size || v.fileSize || 0), 0);
                const vaultSizeEl = document.getElementById('stat-vault-size');
                if (vaultSizeEl) vaultSizeEl.textContent = vaultGB > 0 ? vaultGB.toFixed(1) + ' GB stored' : '0 GB stored';

                // Budget calculations
                const totalEst    = this.data.budget?.lines?.reduce((s, l) => s + l.est, 0) || 0;
                const totalAct    = this.data.budget?.lines?.reduce((s, l) => s + l.act, 0) || 0;
                const remaining   = totalEst - totalAct;
                const overBudgetLines = this.data.budget?.lines?.filter(l => l.act > l.est) || [];
                const overAmount  = overBudgetLines.reduce((s, l) => s + (l.act - l.est), 0);
                const usedPct     = totalEst > 0 ? Math.min(100, Math.round((totalAct / totalEst) * 100)) : 0;

                DOM.setText('stat-budget', '$' + remaining.toLocaleString());
                DOM.setText('hot-budget',  '$' + totalEst.toLocaleString());
                DOM.setText('hot-spent',   '$' + totalAct.toLocaleString());
                DOM.setText('hot-payroll', '$0');

                // Inline budget values on the intel card
                const hbi = document.getElementById('hot-budget-inline');
                const hsi = document.getElementById('hot-spent-inline');
                if (hbi) hbi.textContent = '$' + totalEst.toLocaleString();
                if (hsi) hsi.textContent = '$' + totalAct.toLocaleString();

                // Budget mini bar on the intel card
                const budgetBar = document.getElementById('budget-mini-bar');
                const budgetPct = document.getElementById('budget-mini-pct');
                if (budgetBar) budgetBar.style.width = usedPct + '%';
                if (budgetPct) budgetPct.textContent = usedPct + '% used';

                // Luxury hot cost panel bar
                const lcpSpent = document.getElementById('lcp-bar-spent');
                const lcpPctLbl = document.getElementById('lcp-pct-label');
                const lcpRemLbl = document.getElementById('lcp-remaining-label');
                if (lcpSpent) lcpSpent.style.width = usedPct + '%';
                if (lcpPctLbl) lcpPctLbl.textContent = usedPct + '% utilized';
                if (lcpRemLbl) lcpRemLbl.textContent = '$' + remaining.toLocaleString() + ' remaining';

                // Update budget indicator
                this.updateBudgetIndicator(totalEst, totalAct);

                // Over budget handling
                if (overBudgetLines.length > 0) {
                    DOM.addClass('budget-status', 'warning');
                    DOM.setText('budget-text', 'âš  OVER BUDGET');
                    const overCard = DOM.get('over-budget-card');
                    if (overCard) {
                        overCard.style.display = 'block';
                        const overVal = overCard.querySelector('.lic-value') || overCard.querySelector('.stat-value');
                        if (overVal) overVal.textContent = '$' + overAmount.toLocaleString();
                        DOM.setText('stat-over', '$' + overAmount.toLocaleString());
                    }
                } else {
                    DOM.removeClass('budget-status', 'warning');
                    DOM.setText('budget-text', 'ON BUDGET');
                    DOM.hide('over-budget-card');
                }

                // Production CRM pipeline value
                const prodLeads = this.data.crm?.leads || [];
                const prodPipelineValue = prodLeads.reduce((sum, lead) => sum + parseFloat(lead.value || 0), 0);
                const prodClosedLeads   = prodLeads.filter(l => l.status === 'Won' || l.status === 'closed');
                DOM.setText('stat-prod-pipeline', '$' + prodPipelineValue.toLocaleString());
                DOM.setText('stat-crm-leads',  prodLeads.length);
                DOM.setText('stat-crm-closed', prodClosedLeads.length);

                // Business CRM stats (global)
                const bizLeads = this.bizData?.leads || [];
                const bizPipelineValue = bizLeads.reduce((sum, lead) => sum + parseFloat(lead.value || 0), 0);
                const bizWonLeads = bizLeads.filter(l => l.status === 'closed' || l.status === 'Won');
                const bizWonValue = bizWonLeads.reduce((sum, lead) => sum + parseFloat(lead.value || 0), 0);
                const bizLedger = this.bizData?.ledger || [];
                const bizRevenue = bizLedger.reduce((sum, inc) => sum + parseFloat(inc.amount || 0), 0);
                const totalBizRevenue = bizLedger.length > 0 ? bizRevenue : bizWonValue;

                DOM.setText('biz-pipeline-value', '$' + bizPipelineValue.toLocaleString());
                DOM.setText('biz-revenue-value',  '$' + totalBizRevenue.toLocaleString());
                DOM.setText('biz-leads-count',    bizLeads.length);

                this.renderBizProgressBar(bizLeads, bizPipelineValue, totalBizRevenue);
            },

            renderBizProgressBar(leads, pipelineValue, revenue) {
                const progressBar = document.getElementById('biz-progress-bar');
                if (!progressBar) return;

                // Calculate counts and values by status
                const newLeads = leads.filter(l => l.status === 'New');
                const contacted = leads.filter(l => l.status === 'Contacted');
                const pitched = leads.filter(l => l.status === 'Pitched');
                const negotiating = leads.filter(l => l.status === 'Negotiating');
                const won = leads.filter(l => l.status === 'Won' || l.status === 'closed');

                const newValue = newLeads.reduce((sum, l) => sum + parseFloat(l.value || 0), 0);
                const contactedValue = contacted.reduce((sum, l) => sum + parseFloat(l.value || 0), 0);
                const pitchedValue = pitched.reduce((sum, l) => sum + parseFloat(l.value || 0), 0);
                const negotiatingValue = negotiating.reduce((sum, l) => sum + parseFloat(l.value || 0), 0);

                // Total pipeline people (all active leads)
                const totalPipelinePeople = leads.filter(l => l.status !== 'Won' && l.status !== 'closed' && l.status !== 'Lost').length;

                const total = pipelineValue + revenue;

                if (total === 0) {
                    progressBar.style.background = 'var(--surface-3)';
                    progressBar.style.width = '100%';
                    progressBar.title = 'No data yet';
                    return;
                }

                // Calculate percentages for pipeline (gold) vs revenue (green)
                const pipelinePercent = (pipelineValue / total) * 100;
                const revenuePercent = (revenue / total) * 100;

                // Create gradient: gold for pipeline, green for revenue
                let gradient = 'linear-gradient(90deg';

                // Pipeline (gold) - all active pipeline value
                if (pipelinePercent > 0) {
                    gradient += `, #fbbf24 0%, #fbbf24 ${pipelinePercent}%`;
                }

                // Revenue (emerald/green) - closed/won deals
                if (revenuePercent > 0) {
                    gradient += `, #10b981 ${pipelinePercent}%, #10b981 100%`;
                }

                gradient += ')';

                progressBar.style.background = gradient;
                progressBar.style.width = '100%';

                // Add tooltip showing the ratio and pipeline count
                const pipelineRatio = total > 0 ? ((pipelineValue / total) * 100).toFixed(1) : 0;
                const revenueRatio = total > 0 ? ((revenue / total) * 100).toFixed(1) : 0;
                progressBar.title = `Pipeline: ${pipelineRatio}% ($${pipelineValue.toLocaleString()}) | Revenue: ${revenueRatio}% ($${revenue.toLocaleString()}) | ${totalPipelinePeople} people in pipeline`;

                // Update label tooltips
                const labelLeads = document.getElementById('label-leads');
                const labelPipeline = document.getElementById('label-pipeline');
                const labelNegotiating = document.getElementById('label-negotiating');
                const labelClosed = document.getElementById('label-closed');

                if (labelLeads) labelLeads.title = `LEADS: ${newLeads.length + contacted.length} deals ($${(newValue + contactedValue).toLocaleString()})`;
                if (labelPipeline) {
                    labelPipeline.title = `PIPELINE: ${totalPipelinePeople} people in pipeline ($${pipelineValue.toLocaleString()})`;
                }
                if (labelNegotiating) labelNegotiating.title = `NEGOTIATING: ${negotiating.length} deals ($${negotiatingValue.toLocaleString()})`;
                if (labelClosed) labelClosed.title = `CLOSED: ${won.length} deals ($${revenue.toLocaleString()})`;
            },

            navigate(viewId) {
                // Update active nav item
                document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
                const navItem = document.querySelector(`.nav-item[onclick*="${viewId}"]`);
                if (navItem) navItem.classList.add('active');
                
                // Update page title
                const titles = {
                    'dashboard': 'DASHBOARD',
                    'calendar': 'CALENDAR',
                    'schedule': 'SHOOTING SCHEDULE',
                    'breakdown': 'BREAKDOWN SHEETS',
                    'cast-crew': 'CAST & CREW',
                    'days': 'SHOOT DAYS',
                    'tech': 'EQUIPMENT',
                    'vault': 'MEDIA VAULT',
                    'documents': 'PRODUCTION DOCUMENTS',
                    'gantt': 'GANTT CHARTS',
                    'financials': 'FINANCIALS',
                    'shotlist': 'SHOT LIST',
                    'continuity': 'CONTINUITY LOG',
                    'risk': 'RISK ASSESSMENT',
                    'contacts': 'CONTACT DIRECTORY',
                    'milestones': 'MILESTONES',
                    'prod-pipeline': 'PRODUCTION CRM - PIPELINE',
                    'prod-dialer': 'PRODUCTION CRM - DIALER',
                    'prod-intel': 'PRODUCTION CRM - INTEL',
                    'biz-pipeline': 'BUSINESS CRM - PIPELINE',
                    'biz-dialer': 'BUSINESS CRM - DIALER',
                    'biz-intel': 'BUSINESS CRM - INTEL',
                    'script-import': 'SCRIPT IMPORT',
                    'notes': 'PRODUCTION NOTES',
                    'shopping': 'SHOPPING LIST'
                };
                document.getElementById('page-title').textContent = titles[viewId] || viewId.toUpperCase();
                
                // Update view indicator
                const viewIndicator = document.getElementById('view-indicator');
                if (viewIndicator) {
                    if (viewId.startsWith('biz-')) {
                        viewIndicator.className = 'view-indicator global';
                        viewIndicator.textContent = 'ğŸŒ GLOBAL BUSINESS';
                    } else {
                        viewIndicator.className = 'view-indicator production';
                        viewIndicator.textContent = 'ğŸ¬ ' + (this.currentProduction || 'PRODUCTION');
                    }
                }
                
                // Show/hide views
                document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
                const view = document.getElementById('view-' + viewId);
                if (view) view.classList.add('active');
                
                // Close mobile menu after navigation
                if (window.innerWidth <= 1023) {
                    setTimeout(() => {
                        const sidebar = document.querySelector('.sidebar');
                        const overlay = document.getElementById('sidebar-overlay');
                        if (sidebar && overlay) {
                            sidebar.classList.remove('mobile-open');
                            overlay.classList.remove('active');
                            document.body.style.overflow = '';
                        }
                    }, 250);
                }

                // Refresh doc card when navigating to documents tab
                if (viewId === 'documents') {
                    setTimeout(function() {
                        try { if (typeof V10 !== 'undefined' && typeof V10.updateDocCard === 'function') V10.updateDocCard(); } catch(e) {}
                    }, 50);
                }
            },

            log(message) {
                const time = new Date().toLocaleTimeString('en-US', { hour12: false });
                this.activityLog.unshift({ time, message });
                if (this.activityLog.length > 50) this.activityLog.pop();
                
                const container = document.getElementById('activity-log');
                if (container) {
                    container.innerHTML = this.activityLog.slice(0, 10).map(entry => `
                        <div class="log-entry">
                            <span class="log-time">${entry.time}</span>
                            <span class="log-msg">${entry.message}</span>
                        </div>
                    `).join('');
                }
            },

            download(content, filename) {
                const blob = new Blob([content], { type: 'text/csv' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                a.click();
                URL.revokeObjectURL(url);
            }
        };


        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           PRODUCTIONS MODULE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const Productions = {
            async load() {
                const select = DOM.get('project-select');
                if (!select) {
                    console.error('project-select element not found');
                    return;
                }
                const prodName = select.value;
                console.log('ğŸ”„ Switching to production:', prodName);
                try {
                    // First, cleanup existing real-time listeners for old production
                    if (Core.unsubscribeProduction) {
                        console.log('ğŸ§¹ Cleaning up old production listener...');
                        Core.unsubscribeProduction();
                        Core.unsubscribeProduction = null;
                    }
                    
                    // Load the new production data
                    await Core.loadProduction(prodName);
                    console.log('âœ… Production data loaded:', prodName);
                    console.log('ğŸ“Š Data structure:', Core.data);
                    
                    // Re-render everything
                    Core.renderProductionDropdown();
                    Core.renderAll();
                    console.log('ğŸ¨ All views rendered');
                    
                    // Sync any migrated data to cloud immediately
                    if (Auth.user && !Auth.isDemoMode) {
                        console.log('â˜ï¸ Syncing migrated data to cloud...');
                        await Core.syncToCloud();
                    }
                    
                    // Setup real-time sync for the NEW production
                    if (Auth.user && !Auth.isDemoMode) {
                        console.log('ğŸ”„ Setting up real-time sync for new production...');
                        Core.setupRealtimeSync();
                    }
                    
                    Core.log(`Switched to production: ${prodName}`);
                } catch (error) {
                    console.error('âŒ Error loading production:', error);
                    alert('Failed to load production: ' + error.message);
                }
            },
            showNew() {
                DOM.addClass('modal-new-production', 'active');
                DOM.setValue('new-production-name', '');
                DOM.focus('new-production-name');
            },
            hideModal() {
                DOM.removeClass('modal-new-production', 'active');
            },
            async create() {
                const name = DOM.getValue('new-production-name').trim();
                if (!name) {
                    const _t=document.createElement('div');_t.style.cssText='position:fixed;top:28px;left:50%;transform:translateX(-50%);background:rgba(251,191,36,0.15);border:1.5px solid rgba(251,191,36,0.5);color:#fbbf24;font-family:var(--font-mono,monospace);font-size:13px;font-weight:600;padding:13px 28px;border-radius:10px;z-index:99999999;pointer-events:none;backdrop-filter:blur(12px);white-space:nowrap;';_t.textContent='Please enter a production name';document.body.appendChild(_t);setTimeout(()=>{_t.style.opacity='0';setTimeout(()=>_t.remove(),400);},2800);
                    return;
                }
                const productions = Core.getProductions();
                if (productions.includes(name)) {
                    const _t=document.createElement('div');_t.style.cssText='position:fixed;top:28px;left:50%;transform:translateX(-50%);background:rgba(251,191,36,0.15);border:1.5px solid rgba(251,191,36,0.5);color:#fbbf24;font-family:var(--font-mono,monospace);font-size:13px;font-weight:600;padding:13px 28px;border-radius:10px;z-index:99999999;pointer-events:none;backdrop-filter:blur(12px);white-space:nowrap;';_t.textContent='A production with that name already exists';document.body.appendChild(_t);setTimeout(()=>{_t.style.opacity='0';setTimeout(()=>_t.remove(),400);},2800);
                    return;
                }
                
                console.log(`ğŸ†• Creating new production: "${name}"`);
                
                try {
                    // Cleanup old production listener
                    if (Core.unsubscribeProduction) {
                        console.log('ğŸ§¹ Cleaning up old production listener...');
                        Core.unsubscribeProduction();
                        Core.unsubscribeProduction = null;
                    }
                    
                    // CRITICAL: Await both operations to ensure proper cloud sync
                    await Core.createProduction(name);
                    await Core.loadProduction(name);
                    
                    // Update UI
                    Core.renderProductionDropdown();
                    Core.renderAll();
                    
                    // Setup sync for the new production
                    if (Auth.user && !Auth.isDemoMode) {
                        console.log('ğŸ”„ Setting up sync for new production...');
                        Core.setupRealtimeSync();
                    }
                    
                    // Show success notification
                    this.showSuccessNotification(name);
                    
                    // Clear input but keep modal open
                    DOM.setValue('new-production-name', '');
                    DOM.focus('new-production-name');
                    
                    Core.log(`Created production: ${name}`);
                    console.log(`âœ… Production "${name}" created and loaded successfully`);
                    
                } catch (error) {
                    console.error('âŒ Failed to create production:', error);
                    const _et=document.createElement('div');_et.style.cssText='position:fixed;top:28px;left:50%;transform:translateX(-50%);background:rgba(244,63,94,0.15);border:1.5px solid rgba(244,63,94,0.5);color:#f43f5e;font-family:var(--font-mono,monospace);font-size:13px;font-weight:600;padding:13px 28px;border-radius:10px;z-index:99999999;pointer-events:none;backdrop-filter:blur(12px);white-space:nowrap;';_et.textContent='Failed to create production: '+error.message;document.body.appendChild(_et);setTimeout(()=>{_et.style.opacity='0';setTimeout(()=>_et.remove(),400);},3500);
                }
            },
            showSuccessNotification(prodName) {
                // Custom styled popup â€” no chrome UI, pure DOM creation
                var ov = document.createElement('div');
                ov.style.cssText = 'position:fixed;inset:0;background:rgba(3,5,8,0.85);backdrop-filter:blur(18px);display:flex;align-items:center;justify-content:center;z-index:9999998;opacity:0;transition:opacity .3s;';
                var box = document.createElement('div');
                box.style.cssText = 'background:linear-gradient(145deg,#0a1628,#060d1a);border:2px solid rgba(34,211,238,0.45);border-radius:20px;width:min(480px,92vw);padding:40px;box-shadow:0 40px 80px rgba(0,0,0,0.9),0 0 60px rgba(34,211,238,0.15);text-align:center;';
                var icon = document.createElement('div'); icon.style.cssText = 'font-size:54px;margin-bottom:16px;'; icon.textContent = '\uD83C\uDFAC';
                var eyebrow = document.createElement('div'); eyebrow.style.cssText = 'font-family:var(--font-mono,monospace);font-size:10px;letter-spacing:3px;color:#22d3ee;text-transform:uppercase;margin-bottom:8px;opacity:.7;'; eyebrow.textContent = 'Production Created';
                var title = document.createElement('div'); title.style.cssText = 'font-family:var(--font-display,sans-serif);font-size:32px;letter-spacing:2px;color:#fff;margin-bottom:10px;'; title.textContent = 'READY TO PRODUCE';
                var subtitle = document.createElement('div'); subtitle.style.cssText = 'font-size:14px;color:rgba(255,255,255,0.5);margin-bottom:24px;font-style:italic;'; subtitle.textContent = '\u201C' + prodName + '\u201D';
                var hint = document.createElement('div'); hint.style.cssText = 'background:rgba(34,211,238,0.07);border:1px solid rgba(34,211,238,0.2);border-radius:10px;padding:14px 18px;margin-bottom:24px;font-size:13px;color:rgba(255,255,255,0.6);line-height:1.6;text-align:left;'; hint.innerHTML = '\uD83D\uDCA1 <strong style="color:#22d3ee;">Next step:</strong> Import a script to auto-populate breakdowns, schedule, shot list, milestones, tasks, risks, and budget.';
                var btn = document.createElement('button'); btn.style.cssText = 'padding:14px 40px;background:linear-gradient(135deg,#22d3ee,#0891b2);border:none;border-radius:11px;color:#000;font-size:14px;font-weight:800;text-transform:uppercase;letter-spacing:1.5px;cursor:pointer;'; btn.textContent = "Let\u2019s Go \u2192";
                btn.onmouseover = function() { this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 30px rgba(34,211,238,0.5)'; };
                btn.onmouseout  = function() { this.style.transform=''; this.style.boxShadow=''; };
                btn.onclick = function() {
                    ov.style.opacity='0';
                    setTimeout(function(){ ov.remove(); }, 300);
                    // Show BSP after the "Ready to Produce" modal closes
                    setTimeout(function(){ try { showBudgetScalePopup(); } catch(e){} }, 380);
                };
                box.appendChild(icon); box.appendChild(eyebrow); box.appendChild(title); box.appendChild(subtitle); box.appendChild(hint); box.appendChild(btn);
                ov.appendChild(box);
                document.body.appendChild(ov);
                requestAnimationFrame(function() { ov.style.opacity = '1'; });
                ov.addEventListener('click', function(e) { if (e.target === ov) { ov.style.opacity='0'; setTimeout(function(){ov.remove();},300); } });
            },
            showRenameModal() {
                if (Core.currentProduction === 'GLOBAL') {
                    alert('Cannot rename the global workspace.');
                    return;
                }
                document.getElementById('rename-current-name').textContent = Core.currentProduction;
                const inp = document.getElementById('rename-new-name');
                inp.value = Core.currentProduction;
                document.getElementById('rename-error').style.display = 'none';
                document.getElementById('modal-rename-production').classList.add('active');
                setTimeout(() => { inp.select(); }, 80);
            },
            hideRenameModal() {
                document.getElementById('modal-rename-production').classList.remove('active');
            },
            async confirmRename() {
                const oldName = Core.currentProduction;
                const newName = (document.getElementById('rename-new-name').value || '').trim();
                const errEl = document.getElementById('rename-error');
                errEl.style.display = 'none';

                if (!newName) { errEl.textContent = 'Please enter a name.'; errEl.style.display = 'block'; return; }
                if (newName === oldName) { this.hideRenameModal(); return; }
                if (newName.length > 80) { errEl.textContent = 'Name too long (max 80 characters).'; errEl.style.display = 'block'; return; }

                const productions = Core.getProductions();
                if (productions.includes(newName)) {
                    errEl.textContent = `"${newName}" already exists.`;
                    errEl.style.display = 'block';
                    return;
                }

                // Log the rename in the current data before moving
                Core.log(`Renamed production: "${oldName}" â†’ "${newName}"`);

                // Stamp a rename_log entry inside the production data for audit trail
                if (!Core.data.rename_log) Core.data.rename_log = [];
                Core.data.rename_log.push({
                    from: oldName,
                    to:   newName,
                    ts:   new Date().toISOString(),
                    user: (Auth.user && Auth.user.email) ? Auth.user.email : 'local'
                });

                // Save the updated data (with rename_log) under the NEW name locally
                const snapshot = JSON.stringify(Core.data);
                localStorage.setItem('dc_alacrity_prod_' + newName, snapshot);
                localStorage.removeItem('dc_alacrity_prod_' + oldName);

                // Update productions list
                const idx = productions.indexOf(oldName);
                if (idx !== -1) productions[idx] = newName; else productions.push(newName);
                localStorage.setItem('dc_alacrity_productions', JSON.stringify(productions));

                // Cloud sync
                if (Auth.user && !Auth.isDemoMode) {
                    try {
                        const uid = Auth.user.uid;
                        // Write new key
                        const newRef = window.firebaseRef(window.firebaseDb, `users/${uid}/productions/${newName}`);
                        await window.firebaseSet(newRef, Core.data);
                        // Delete old key
                        const oldRef = window.firebaseRef(window.firebaseDb, `users/${uid}/productions/${oldName}`);
                        await window.firebaseSet(oldRef, null);
                        // Update list
                        const listRef = window.firebaseRef(window.firebaseDb, `users/${uid}/productionsList`);
                        await window.firebaseSet(listRef, productions);
                        console.log(`â˜ï¸ Renamed "${oldName}" â†’ "${newName}" in cloud`);
                    } catch(e) {
                        console.error('Cloud rename error:', e);
                        Core.log(`Warning: cloud rename partial â€” ${e.message}`);
                    }
                }

                // Switch to new name in UI
                Core.currentProduction = newName;
                Core.renderProductionDropdown();
                Core.renderAll();
                this.hideRenameModal();

                // Toast
                const t = document.createElement('div');
                t.style.cssText='position:fixed;bottom:32px;left:50%;transform:translateX(-50%);background:rgba(34,211,238,.15);border:1px solid rgba(34,211,238,.4);color:var(--neon-cyan);font-family:var(--font-mono);font-size:12px;padding:10px 22px;border-radius:8px;z-index:9999;pointer-events:none;transition:opacity .4s';
                t.textContent = `âœ“ Renamed to "${newName}"`;
                document.body.appendChild(t);
                setTimeout(()=>{t.style.opacity='0';setTimeout(()=>t.remove(),500);}, 2500);
            },
            rename() { this.showRenameModal(); },
            async delete() {
                const productions = Core.getProductions();
                
                // Prevent deleting the only production
                if (productions.length <= 1) {
                    alert('Cannot delete the only production');
                    return;
                }
                
                // Confirm deletion
                const productionToDelete = Core.currentProduction;
                if (!confirm(`Delete "${clean(productionToDelete)}"? This cannot be undone.`)) {
                    return;
                }
                
                console.log(`ğŸ—‘ï¸ User confirmed deletion of "${productionToDelete}"`);
                
                // Cleanup real-time listener for current production
                if (Core.unsubscribeProduction) {
                    console.log('ğŸ§¹ Cleaning up production listener...');
                    Core.unsubscribeProduction();
                    Core.unsubscribeProduction = null;
                }
                
                // Delete the production using Core method
                await Core.deleteProduction(productionToDelete);
                
                // Switch to first remaining production
                const remainingProductions = Core.getProductions();
                const nextProduction = remainingProductions[0];
                console.log(`ğŸ”„ Switching to "${nextProduction}"`);
                
                // Load the next production
                await Core.loadProduction(nextProduction);
                Core.renderProductionDropdown();
                Core.renderAll();
                
                // Setup sync for new production
                if (Auth.user && !Auth.isDemoMode) {
                    Core.setupRealtimeSync();
                }
                
                Core.log(`Deleted production: ${productionToDelete}`);
            }
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           DAYS MODULE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const Days = {
            add() {
                const date = document.getElementById('day-date').value;
                const call = document.getElementById('day-call').value;
                const wrap = document.getElementById('day-wrap').value;
                const location = document.getElementById('day-location').value;
                const notes = document.getElementById('day-notes').value;
                if (!date) { alert('Date is required'); return; }
                Core.data.days.unshift({ id: Date.now(), date, call, wrap, location, notes });
                Core.save();
                Core.log(`Shoot day added: ${date}`);
                this.render();
                Calendar.render(); // Update calendar
                Core.renderDashboard();
                document.getElementById('day-date').value = '';
                document.getElementById('day-location').value = '';
                document.getElementById('day-notes').value = '';
            },
            delete(id) {
                if (confirm('Delete this shoot day?')) {
                    Core.data.days = Core.data.days.filter(d => d.id !== id);
                    Core.save();
                    this.render();
                    Calendar.render(); // Update calendar
                    Core.renderDashboard();
                    Core.log('Shoot day deleted');
                }
            },
            render() {
                const tbody = document.getElementById('table-days');
                if (!tbody) return;
                if (!Core.data.days?.length) {
                    tbody.innerHTML = '<tr><td colspan="6" class="table-empty">No shoot days scheduled</td></tr>';
                    return;
                }
                tbody.innerHTML = Core.data.days.map(d => `
                    <tr>
                        <td class="font-mono font-bold">${d.date}</td>
                        <td class="font-mono">${d.call || '-'}</td>
                        <td class="font-mono">${d.wrap || '-'}</td>
                        <td>${d.location || '-'}</td>
                        <td class="text-muted">${d.notes || '-'}</td>
                        <td><button class="delete-btn" onclick="Days.delete(${d.id})">Ã—</button></td>
                    </tr>
                `).join('');
            },
            exportCSV() {
                let csv = 'Date,Call,Wrap,Location,Notes\n';
                Core.data.days.forEach(d => csv += `"${d.date}","${d.call}","${d.wrap}","${clean(d.location)}","${clean(d.notes)}"\n`);
                Core.download(csv, 'shoot_days.csv');
                Core.log('Shoot days exported');
            }
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           TECH MODULE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const Tech = {
            add() {
                const name = document.getElementById('tech-name').value;
                const category = document.getElementById('tech-category').value;
                const serial = document.getElementById('tech-serial').value;
                const owner = document.getElementById('tech-owner').value;
                if (!name) { alert('Item name is required'); return; }
                Core.data.tech.unshift({ id: Date.now(), name, category, serial, owner, status: 'Available' });
                Core.save();
                Core.log(`Equipment added: ${name}`);
                this.render();
                Core.renderDashboard();
                document.getElementById('tech-name').value = '';
                document.getElementById('tech-serial').value = '';
            },
            delete(id) {
                if (confirm('Delete this equipment?')) {
                    Core.data.tech = Core.data.tech.filter(t => t.id !== id);
                    Core.save();
                    this.render();
                    Core.renderDashboard();
                    Core.log('Equipment deleted');
                }
            },
            render() {
                const tbody = document.getElementById('table-tech');
                if (!tbody) return;
                if (!Core.data.tech?.length) {
                    tbody.innerHTML = '<tr><td colspan="6" class="table-empty">No equipment logged</td></tr>';
                    return;
                }
                tbody.innerHTML = Core.data.tech.map(t => `
                    <tr>
                        <td class="font-bold">${clean(t.name)}</td>
                        <td><span class="tag tag-cyan">${clean(t.category)}</span></td>
                        <td class="font-mono">${t.serial || '-'}</td>
                        <td>${t.owner}</td>
                        <td><span class="tag tag-emerald">${t.status}</span></td>
                        <td><button class="delete-btn" onclick="Tech.delete(${t.id})">Ã—</button></td>
                    </tr>
                `).join('');
            },
            exportCSV() {
                let csv = 'Name,Category,Serial,Owner,Status\n';
                Core.data.tech.forEach(t => csv += `"${clean(t.name)}","${clean(t.category)}","${t.serial}","${t.owner}","${t.status}"\n`);
                Core.download(csv, 'tech_inventory.csv');
                Core.log('Tech inventory exported');
            }
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           VAULT MODULE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const Vault = {
            add() {
                const filename = document.getElementById('vault-filename').value;
                const scene = document.getElementById('vault-scene').value;
                const camera = document.getElementById('vault-camera').value;
                const storage = document.getElementById('vault-storage').value;
                const notes = document.getElementById('vault-notes').value;
                if (!filename) { alert('Filename is required'); return; }
                Core.data.vault.unshift({ id: Date.now(), filename, scene, camera, storage, notes });
                Core.save();
                Core.log(`Asset logged: ${filename}`);
                this.render();
                Core.renderDashboard();
                document.getElementById('vault-filename').value = '';
                document.getElementById('vault-scene').value = '';
                document.getElementById('vault-camera').value = '';
                document.getElementById('vault-storage').value = '';
                document.getElementById('vault-notes').value = '';
            },
            delete(id) {
                if (confirm('Delete this asset?')) {
                    Core.data.vault = Core.data.vault.filter(v => v.id !== id);
                    Core.save();
                    this.render();
                    Core.renderDashboard();
                    Core.log('Asset deleted');
                }
            },
            render() {
                const tbody = document.getElementById('table-vault');
                if (!tbody) return;
                if (!Core.data.vault?.length) {
                    tbody.innerHTML = '<tr><td colspan="6" class="table-empty">No media assets logged</td></tr>';
                    return;
                }
                tbody.innerHTML = Core.data.vault.map(v => `
                    <tr>
                        <td class="font-mono font-bold">${v.filename}</td>
                        <td>${v.scene || '-'}</td>
                        <td>${v.camera || '-'}</td>
                        <td><span class="tag tag-violet">${v.storage || '-'}</span></td>
                        <td class="text-muted">${v.notes || '-'}</td>
                        <td><button class="delete-btn" onclick="Vault.delete(${v.id})">Ã—</button></td>
                    </tr>
                `).join('');
            },
            exportCSV() {
                let csv = 'Filename,Scene,Camera,Storage,Notes\n';
                Core.data.vault.forEach(v => csv += `"${v.filename}","${clean(v.scene)}","${v.camera}","${v.storage}","${clean(v.notes)}"\n`);
                Core.download(csv, 'media_vault.csv');
                Core.log('Media vault exported');
            }
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CAST & CREW MODULE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           POPUP SYSTEM - JAVASCRIPT
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        const PopupSystem = {
            currentPopup: null,
            currentCallback: null,
            
            show(config) {
                this.close();
                
                const overlay = document.createElement('div');
                overlay.className = 'popup-overlay';
                overlay.id = 'current-popup-overlay';
                
                const popup = document.createElement('div');
                popup.className = 'popup';
                
                // Generate form fields
                let fieldsHTML = '';
                config.fields.forEach(field => {
                    const required = field.required ? '<span class="form-required">*</span>' : '';
                    let inputHTML = '';
                    
                    switch(field.type) {
                        case 'custom':
                            // Allow custom HTML to be injected
                            fieldsHTML += field.html || '';
                            return;
                        case 'text':
                        case 'email':
                        case 'tel':
                        case 'date':
                        case 'time':
                        case 'number':
                            inputHTML = `<input type="${field.type}" class="form-input" id="popup_${field.id}" placeholder="${field.placeholder || ''}" ${field.required ? 'required' : ''} ${field.value ? `value="${field.value}"` : ''}>`;
                            break;
                        case 'checkbox':
                            const _isCloudField = field.id === 'productionUploadToCloud';
                            const _isDemoDisabled = _isCloudField && typeof Auth !== 'undefined' && Auth.isDemoMode;
                            inputHTML = `
                                <label style="display:flex;align-items:center;gap:8px;cursor:${_isDemoDisabled ? 'not-allowed' : 'pointer'};${_isDemoDisabled ? 'opacity:0.38;' : ''}">
                                    <input type="checkbox" id="popup_${field.id}" ${field.defaultChecked && !_isDemoDisabled ? 'checked' : ''} ${_isDemoDisabled ? 'disabled' : ''} style="width:20px;height:20px;cursor:${_isDemoDisabled ? 'not-allowed' : 'pointer'};">
                                    <span style="color:var(--text-70);font-size:14px;">${field.label}</span>
                                    ${_isDemoDisabled ? '<span style="font-family:var(--font-mono,monospace);font-size:9px;letter-spacing:1px;text-transform:uppercase;background:rgba(251,191,36,0.15);border:1px solid rgba(251,191,36,0.35);color:#fbbf24;border-radius:4px;padding:2px 6px;margin-left:2px;">DEMO â€” N/A</span>' : ''}
                                </label>
                            `;
                            break;
                        case 'textarea':
                            inputHTML = `<textarea class="form-textarea" id="popup_${field.id}" placeholder="${field.placeholder || ''}" ${field.required ? 'required' : ''}>${field.value || ''}</textarea>`;
                            break;
                        case 'select':
                            const options = field.options.map(opt => `<option value="${opt}" ${field.value === opt ? 'selected' : ''}>${opt}</option>`).join('');
                            inputHTML = `<select class="form-select" id="popup_${field.id}" ${field.required ? 'required' : ''}>${options}</select>`;
                            break;
                    }
                    
                    // Don't duplicate label for checkbox (it's in the inputHTML)
                    if (field.type === 'checkbox') {
                        fieldsHTML += `
                            <div class="form-field">
                                ${inputHTML}
                            </div>
                        `;
                    } else {
                        fieldsHTML += `
                            <div class="form-field">
                                <label class="form-label">${field.label}${required}</label>
                                ${inputHTML}
                            </div>
                        `;
                    }
                });
                
                popup.innerHTML = `
                    <div class="popup-header">
                        <h2 class="popup-title">${config.title}</h2>
                        <div class="popup-subtitle">${config.subtitle || ''}</div>
                        <button class="popup-close" onclick="PopupSystem.close()">âœ•</button>
                    </div>
                    <div class="popup-body">
                        ${fieldsHTML}
                    </div>
                    <div class="popup-footer">
                        <button class="popup-btn popup-btn-cancel" onclick="PopupSystem.close()">Cancel</button>
                        <button class="popup-btn popup-btn-submit" onclick="PopupSystem.submit()">${config.submitText || 'Submit'}</button>
                    </div>
                `;
                
                overlay.appendChild(popup);
                document.body.appendChild(overlay);
                this.currentPopup = overlay;
                this.currentCallback = config.onSubmit;
                this.currentFields = config.fields;
                
                // Activate popup
                requestAnimationFrame(() => {
                    overlay.classList.add('active');
                });
                
                // Close on outside click (delayed to prevent immediate close)
                setTimeout(() => {
                    overlay.addEventListener('click', (e) => {
                        if (e.target === overlay) {
                            this.close();
                        }
                    });
                }, 200);
                
                // Prevent clicks inside popup from closing
                popup.addEventListener('click', (e) => {
                    e.stopPropagation();
                });
                
                // Enter key to submit (except in textareas)
                popup.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' && e.target.tagName !== 'TEXTAREA') {
                        e.preventDefault();
                        this.submit();
                    }
                });
                
                // Escape key to close
                const escHandler = (e) => {
                    if (e.key === 'Escape') {
                        this.close();
                        document.removeEventListener('keydown', escHandler);
                    }
                };
                document.addEventListener('keydown', escHandler);
                
                // Focus first input
                setTimeout(() => {
                    const firstInput = popup.querySelector('input, textarea, select');
                    if (firstInput) firstInput.focus();
                }, 300);
            },
            
            submit() {
                if (!this.currentPopup || !this.currentCallback) return;
                
                // Collect form data
                const data = {};
                let isValid = true;
                
                this.currentFields.forEach(field => {
                    const input = document.getElementById(`popup_${field.id}`);
                    if (!input) return;
                    
                    // Handle different input types
                    let value;
                    if (field.type === 'checkbox') {
                        value = input.checked;
                    } else {
                        value = input.value.trim();
                        
                        // Validate required fields (not for checkboxes)
                        if (field.required && !value) {
                            isValid = false;
                            input.style.borderColor = 'var(--neon-rose)';
                            input.style.boxShadow = '0 0 0 4px rgba(244, 63, 94, 0.2)';
                            setTimeout(() => {
                                input.style.borderColor = '';
                                input.style.boxShadow = '';
                            }, 2000);
                        }
                    }
                    
                    data[field.id] = value;
                });
                
                if (!isValid) {
                    return;
                }
                
                // Call callback with data
                this.currentCallback(data);
                this.close();
            },
            
            close() {
                if (this.currentPopup) {
                    this.currentPopup.classList.remove('active');
                    setTimeout(() => {
                        this.currentPopup?.remove();
                        this.currentPopup = null;
                        this.currentCallback = null;
                        this.currentFields = null;
                    }, 300);
                }
            },
            
            showToast(message, type = 'info') {
                // Create toast notification
                const toast = document.createElement('div');
                toast.className = 'toast-notification';
                toast.style.cssText = `
                    position: fixed;
                    top: 80px;
                    right: 24px;
                    background: ${type === 'success' ? 'linear-gradient(135deg, rgba(16, 185, 129, 0.95), rgba(5, 150, 105, 0.95))' : 
                                type === 'warning' ? 'linear-gradient(135deg, rgba(251, 191, 36, 0.95), rgba(245, 158, 11, 0.95))' :
                                type === 'error' ? 'linear-gradient(135deg, rgba(244, 63, 94, 0.95), rgba(225, 29, 72, 0.95))' :
                                'linear-gradient(135deg, rgba(34, 211, 238, 0.95), rgba(6, 182, 212, 0.95))'};
                    color: #fff;
                    padding: 16px 24px;
                    border-radius: 12px;
                    font-size: 14px;
                    font-weight: 600;
                    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
                    z-index: 10001;
                    transform: translateX(400px);
                    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                    max-width: 400px;
                    backdrop-filter: blur(12px);
                `;
                toast.textContent = message;
                document.body.appendChild(toast);
                
                // Slide in
                requestAnimationFrame(() => {
                    toast.style.transform = 'translateX(0)';
                });
                
                // Auto remove after 3 seconds
                setTimeout(() => {
                    toast.style.transform = 'translateX(400px)';
                    setTimeout(() => toast.remove(), 300);
                }, 3000);
            }
        };
        
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        const CastCrew = {
            currentTab: 'cast', // Track which tab is active
            
            render() {
                console.log('ğŸ­ CastCrew.render() called');
                console.log('ğŸ“Š Core.data.cast:', Core.data.cast);
                console.log('ğŸ“Š Core.data.crew:', Core.data.crew);
                
                if (!Core.data.cast) {
                    console.warn('âš ï¸ Core.data.cast was undefined, initializing as {}');
                    Core.data.cast = {};
                }
                if (!Core.data.crew) {
                    console.warn('âš ï¸ Core.data.crew was undefined, initializing as {}');
                    Core.data.crew = {};
                }
                
                console.log(`ğŸ“‹ Cast members: ${Object.keys(Core.data.cast).length}`);
                console.log(`ğŸ“‹ Crew members: ${Object.keys(Core.data.crew).length}`);
                
                // Render both lists immediately
                this.renderList('cast');
                this.renderList('crew');
                
                // Update tab UI to match current tab
                this.updateTabUI();
            },
            
            switchTab(tab) {
                console.log(`ğŸ”„ Switching to ${tab} tab`);
                this.currentTab = tab;
                this.updateTabUI();
                // Force render the active list to show fresh data
                this.renderList(tab);
            },
            
            updateTabUI() {
                // Update tab buttons
                const castTab = document.querySelector('.cast-crew-tab[data-tab="cast"]');
                const crewTab = document.querySelector('.cast-crew-tab[data-tab="crew"]');
                
                if (castTab && crewTab) {
                    if (this.currentTab === 'cast') {
                        castTab.classList.add('active');
                        crewTab.classList.remove('active');
                    } else {
                        crewTab.classList.add('active');
                        castTab.classList.remove('active');
                    }
                }
                
                // Update tab content visibility
                const castContent = document.getElementById('cast-content');
                const crewContent = document.getElementById('crew-content');
                
                if (castContent && crewContent) {
                    if (this.currentTab === 'cast') {
                        castContent.style.display = 'block';
                        crewContent.style.display = 'none';
                    } else {
                        crewContent.style.display = 'block';
                        castContent.style.display = 'none';
                    }
                }
            },
            
            renderList(type) {
                const list = document.getElementById(`${type}-list`);
                const members = Core.data[type] || {};
                const entries = Object.entries(members).sort((a, b) => {
                    const numA = parseInt(a[1].id.replace(/\D/g, ''));
                    const numB = parseInt(b[1].id.replace(/\D/g, ''));
                    return numA - numB;
                });
                
                if (entries.length === 0) {
                    list.innerHTML = `<p class="text-muted">No ${type} members yet</p>`;
                    return;
                }
                
                list.innerHTML = entries.map(([key, member]) => {
                    const sourceColor = member.role?.includes('From Breakdown') ? 'var(--neon-violet)' : 
                                       member.role?.includes('From Schedule') ? 'var(--neon-gold)' :
                                       member.role?.includes('From Sync') ? 'var(--neon-cyan)' :
                                       member.role?.includes('Script Character') ? 'var(--neon-emerald)' : 'var(--text-50)';
                    
                    return `
                    <div style="background: var(--surface-3); padding: var(--space-md); border-radius: 6px; margin-bottom: var(--space-sm); display: flex; justify-content: space-between; align-items: center; border-left: 3px solid ${sourceColor};">
                        <div style="flex: 1;">
                            <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-xs);">
                                <span style="background: var(--neon-cyan); color: var(--void-pure); padding: 2px 8px; border-radius: 4px; font-family: var(--font-mono); font-size: 10px; font-weight: 700;">${member.id}</span>
                                <span style="font-weight: 700; color: var(--text-100);">${clean(member.name)}</span>
                                ${member.role?.includes('From') ? `<span style="font-size: 9px; color: ${sourceColor}; font-family: var(--font-mono); opacity: 0.7;">â— AUTO-ADDED</span>` : ''}
                            </div>
                            <div style="font-size: 12px; color: var(--text-50);">${member.role || member.position || 'No role specified'}</div>
                            ${member.phone ? `<div style="font-size: 11px; color: var(--text-50); font-family: var(--font-mono);">${clean(member.phone)}</div>` : ''}
                            ${member.email ? `<div style="font-size: 11px; color: var(--neon-cyan);">${clean(member.email)}</div>` : ''}
                        </div>
                        <div style="display: flex; gap: var(--space-xs);">
                            <button class="btn btn-sm" onclick="CastCrew.edit('${type}', '${key}')">âœ</button>
                            <button class="delete-btn" onclick="CastCrew.remove('${type}', '${key}')">Ã—</button>
                        </div>
                    </div>
                `}).join('');
            },

            // Accepts either plain strings or objects {name, role, scenes_count, dialog_lines}
            syncFromImport(items) {
                if (!Core.data.cast) Core.data.cast = {};
                let addedCount = 0, updatedCount = 0;

                const existingByName = {};
                Object.entries(Core.data.cast).forEach(([key, m]) => {
                    existingByName[m.name.toLowerCase()] = key;
                });

                const existingNums = Object.values(Core.data.cast).map(m => {
                    const n = parseInt((m.id||'').replace(/\D/g,''));
                    return isNaN(n) ? 0 : n;
                });
                let nextNum = existingNums.length > 0 ? Math.max(...existingNums) + 1 : 1;

                items.forEach(item => {
                    const isObj   = typeof item === 'object';
                    const rawName = isObj ? item.name : item;
                    const name    = (rawName||'').trim();
                    if (!name) return;

                    const nameLow = name.toLowerCase();
                    const role    = isObj ? (item.role || 'Script Character') : 'Script Character';
                    const scCount = isObj ? (item.scenes_count || 0) : 0;
                    const dlCount = isObj ? (item.dialog_lines || 0) : 0;

                    if (existingByName[nameLow]) {
                        // Update role tier if it was a generic placeholder
                        const key = existingByName[nameLow];
                        const m   = Core.data.cast[key];
                        if (!m.role || m.role === 'Script Character' || m.role === 'From Breakdown' || m.role === 'From Sync') {
                            m.role         = role;
                            m.scenes_count = scCount;
                            m.dialog_lines = dlCount;
                            updatedCount++;
                        }
                    } else {
                        const id  = 'C' + nextNum.toString().padStart(3, '0');
                        const key = Date.now().toString() + Math.random().toString().slice(2, 5);
                        Core.data.cast[key] = {
                            id, name, role,
                            scenes_count: scCount,
                            dialog_lines: dlCount,
                            phone: '', email: ''
                        };
                        existingByName[nameLow] = key;
                        nextNum++;
                        addedCount++;
                    }
                });

                if (addedCount + updatedCount > 0) {
                    Core.save();
                    try { this.render(); } catch(e) {}
                    Core.log(`Cast sync: ${addedCount} added, ${updatedCount} role-updated`);
                }
            },

            getCastOptionsHTML() {
                if (!Core.data.cast) return '';
                return Object.values(Core.data.cast)
                    .sort((a, b) => a.name.localeCompare(b.name))
                    .map(c => `<option value="${clean(c.name)}">${c.id}</option>`)
                    .join('');
            },
            
            addMember(type) {
                const iscast = type === 'cast';
                const title = iscast ? 'Add Cast Member' : 'Add Crew Member';
                
                PopupSystem.show({
                    title: title,
                    subtitle: iscast ? 'Add to global cast database' : 'Add to global crew database',
                    submitText: iscast ? 'Add Cast' : 'Add Crew',
                    fields: [
                        { id: 'name', label: iscast ? 'Actor Name' : 'Crew Name', type: 'text', required: true, placeholder: 'Full name' },
                        { id: 'role', label: iscast ? 'Character/Role' : 'Position', type: 'text', required: false, placeholder: iscast ? 'Character they play' : 'e.g., Gaffer, 1st AC' },
                        { id: 'phone', label: 'Phone', type: 'tel', required: false, placeholder: '+1 (555) 123-4567' },
                        { id: 'email', label: 'Email', type: 'email', required: false, placeholder: 'email@example.com' }
                    ],
                    onSubmit: (data) => {
                        const name = data.name;
                        if (!name) return;
                        
                        console.log(`â• Adding ${type} member: ${name}`);
                        console.log(`ğŸ“Š Current Core.data[${type}]:`, Core.data[type]);
                        
                        const existing = Object.values(Core.data[type] || {});
                        if (existing.some(m => m.name.toLowerCase() === name.toLowerCase())) {
                            alert(`A ${type} member named "${name}" already exists!`);
                            console.log(`âš ï¸ Duplicate ${type} member detected: ${name}`);
                            console.log(`ğŸ“‹ Existing members:`, existing.map(m => m.name));
                            return;
                        }
                        
                        const existingIds = Object.values(Core.data[type] || {}).map(m => {
                            const num = parseInt(m.id.replace(/\D/g, ''));
                            return isNaN(num) ? 0 : num;
                        });
                        const nextNum = existingIds.length > 0 ? Math.max(...existingIds) + 1 : 1;
                        const prefix = type === 'cast' ? 'C' : 'CR';
                        const id = prefix + nextNum.toString().padStart(3, '0');
                        
                        const key = Date.now().toString();
                        if (!Core.data[type]) Core.data[type] = {};
                        
                        Core.data[type][key] = {
                            id,
                            name: data.name,
                            [type === 'cast' ? 'role' : 'position']: data.role || '',
                            phone: data.phone || '',
                            email: data.email || ''
                        };
                        
                        console.log(`âœ… Added ${type} member:`, Core.data[type][key]);
                        console.log(`ğŸ“Š Total ${type} members now:`, Object.keys(Core.data[type]).length);
                        
                        Core.save();
                        this.render();
                        Core.log(`Added ${type}: ${name} (${id})`);
                    }
                });
            },

            edit(type, key) {
                const member = Core.data[type][key];
                if (!member) return;
                
                const iscast = type === 'cast';
                const title = iscast ? 'Edit Cast Member' : 'Edit Crew Member';
                
                PopupSystem.show({
                    title: title,
                    subtitle: `Editing: ${member.name}`,
                    submitText: 'Save Changes',
                    fields: [
                        { id: 'name', label: iscast ? 'Actor Name' : 'Crew Name', type: 'text', required: true, placeholder: 'Full name', value: member.name },
                        { id: 'role', label: iscast ? 'Character/Role' : 'Position', type: 'text', required: false, placeholder: iscast ? 'Character they play' : 'e.g., Gaffer, 1st AC', value: member.role || member.position || '' },
                        { id: 'phone', label: 'Phone', type: 'tel', required: false, placeholder: '+1 (555) 123-4567', value: member.phone || '' },
                        { id: 'email', label: 'Email', type: 'email', required: false, placeholder: 'email@example.com', value: member.email || '' }
                    ],
                    onSubmit: (data) => {
                        if (!data.name) return;
                        
                        member.name = data.name;
                        member[type === 'cast' ? 'role' : 'position'] = data.role;
                        member.phone = data.phone;
                        member.email = data.email;
                        
                        Core.save();
                        this.render();
                        Core.log(`Updated ${type}: ${data.name}`);
                    }
                });
            },
            
            remove(type, key) {
                if (confirm(`Remove this ${type} member?`)) {
                    delete Core.data[type][key];
                    Core.save();
                    this.render();
                }
            },
            
            findByName(name) {
                const cast = Core.data.cast || {};
                for (let [key, member] of Object.entries(cast)) {
                    if (member.name.toLowerCase() === name.toLowerCase()) {
                        return member;
                    }
                }
                return null;
            },
            
            findById(id) {
                const cast = Core.data.cast || {};
                for (let [key, member] of Object.entries(cast)) {
                    if (member.id === id) {
                        return member;
                    }
                }
                return null;
            },
            
            getCastList() {
                return Object.values(Core.data.cast || {}).sort((a, b) => {
                    const numA = parseInt(a.id.replace(/\D/g, ''));
                    const numB = parseInt(b.id.replace(/\D/g, ''));
                    return numA - numB;
                });
            },
            
            parseCastString(castStr) {
                if (!castStr) return [];
                const parts = castStr.split(',').map(s => s.trim()).filter(s => s);
                const result = [];
                
                for (let part of parts) {
                    if (/^C\d{3}$/.test(part)) {
                        const member = this.findById(part);
                        if (member) {
                            result.push({ id: member.id, name: member.name });
                        }
                    } else {
                        const member = this.findByName(part);
                        if (member) {
                            result.push({ id: member.id, name: member.name });
                        } else {
                            result.push({ id: null, name: part });
                        }
                    }
                }
                return result;
            },
            
            formatCastForDisplay(castArray) {
                return castArray.map(c => c.id || c.name).join(', ');
            }
        };


        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SCHEDULE MODULE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const Schedule = {
            draggedIndex: null,

            render() {
                if (!Core.data.schedule) Core.data.schedule = { strips: [] };
                const container = document.getElementById('stripboard');
                
                if (Core.data.schedule.strips.length === 0) {
                    container.innerHTML = '<div class="text-muted" style="text-align: center; padding: var(--space-2xl);">No scenes in schedule. Add scenes or import a script.</div>';
                    return;
                }

                container.innerHTML = Core.data.schedule.strips.map((strip, index) => {
                    if (strip.type === 'daybreak') {
                        return `
                            <div class="strip daybreak" style="padding: var(--space-md); text-align: center;">
                                <strong>END OF DAY ${strip.dayNumber}</strong> â€” ${strip.scenes || 0} scenes, ${strip.totalPages || 0} pages
                                <span style="margin-left: var(--space-md); cursor: pointer;" onclick="Schedule.deleteStrip(${index})">Ã—</span>
                            </div>
                        `;
                    } else if (strip.type === 'banner') {
                        return `
                            <div class="strip banner" style="padding: var(--space-md);">
                                <span style="flex: 1;">${clean(strip.text)}</span>
                                ${strip.duration ? `<span class="font-mono">${strip.duration} min</span>` : ''}
                                <span style="cursor: pointer; margin-left: var(--space-md);" onclick="Schedule.deleteStrip(${index})">Ã—</span>
                            </div>
                        `;
                    } else {
                        const colorClass = this.getStripColorClass(strip.intext, strip.daynight);
                        const hasBreakdown = strip.elements && Object.keys(strip.elements).some(key => strip.elements[key]?.length > 0);
                        const isExpanded = strip.expanded || false;
                        const cx = strip.complexity || '';
                        const cxBorder = cx === 'HIGH' ? 'border-left:3px solid rgba(239,68,68,.7);' : cx === 'MEDIUM' ? 'border-left:3px solid rgba(251,191,36,.5);' : cx === 'LOW' ? 'border-left:3px solid rgba(34,197,94,.3);' : '';
                        const flags = strip.prodFlags || [];
                        const flagBadgeMap = { location_permit:'ğŸ“‹', minor_in_scene:'ğŸ‘¶', intimacy:'ğŸ”’', weapons_handling:'ğŸ”«', crowd:'ğŸ‘¥', water_safety:'ğŸŒŠ' };
                        const flagBadges = flags.map(f => `<span title="${f.replace(/_/g,' ')}" style="font-size:13px;cursor:default;">${flagBadgeMap[f]||'ğŸš©'}</span>`).join('');
                        
                        let breakdownHTML = '';
                        if (hasBreakdown && isExpanded) {
                            breakdownHTML = '<div class="strip-breakdown">';
                            BREAKDOWN_CATEGORIES.forEach(cat => {
                                const items = strip.elements?.[cat.id] || [];
                                if (items.length > 0) {
                                    breakdownHTML += `
                                        <div class="strip-breakdown-category">
                                            <div class="strip-breakdown-label">${cat.icon} ${clean(cat.name)}</div>
                                            <div class="strip-breakdown-items">${items.join(', ')}</div>
                                        </div>
                                    `;
                                }
                            });
                            breakdownHTML += '</div>';
                        }
                        
                        return `
                            <div class="strip ${colorClass} ${isExpanded ? 'expanded' : ''}" style="${cxBorder}" draggable="true" ondragstart="Schedule.dragStart(event, ${index})" ondragover="Schedule.allowDrop(event)" ondrop="Schedule.drop(event, ${index})">
                                <div class="strip-main">
                                    <div class="strip-scene">${strip.scene || '?'}</div>
                                    <div class="strip-intext">${strip.intext || 'INT'}</div>
                                    <div class="strip-daynight">${strip.daynight || 'DAY'}</div>
                                    <div class="strip-location">${strip.location || 'LOCATION TBD'}${flagBadges ? '<span style="margin-left:6px;">'+flagBadges+'</span>' : ''}</div>
                                    <div class="strip-description" style="opacity:0.6;font-size:11px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">${strip.description || ''}</div>
                                    <div class="strip-cast">
                                        ${strip.cast ? strip.cast.split(',').map(id => {
                                            const castId = id.trim();
                                            return `<span class="cast-badge" onclick="event.stopPropagation(); Schedule.showCastInfo('${castId}')" title="Click for info">${castId}</span>`;
                                        }).join('') : '<span style="opacity: 0.5;">No cast</span>'}
                                    </div>
                                    <div class="strip-pages">${strip.pages || '0'}</div>
                                    <div class="strip-actions">
                                        ${cx ? `<span style="font-size:9px;font-family:var(--font-mono);padding:2px 5px;border-radius:3px;background:${cx==='HIGH'?'rgba(239,68,68,.15)':cx==='MEDIUM'?'rgba(251,191,36,.12)':'rgba(34,197,94,.1)'};color:${cx==='HIGH'?'#f87171':cx==='MEDIUM'?'#fbbf24':'#86efac'};">${cx}</span>` : ''}
                                        ${hasBreakdown ? `<div class="strip-handle" onclick="event.stopPropagation(); Schedule.toggleExpand(${index})" title="Show breakdown">${isExpanded ? 'â–¼' : 'â–¶'}</div>` : ''}
                                        <div class="strip-handle" onclick="event.stopPropagation(); Schedule.editScene(${index})" title="Edit">âœ</div>
                                        <div class="strip-handle" onclick="event.stopPropagation(); Schedule.deleteStrip(${index})" title="Delete">Ã—</div>
                                    </div>
                                </div>
                                ${breakdownHTML}
                            </div>
                        `;
                    }
                }).join('');

                this.updateStats();
            },

            getStripColorClass(intext, daynight) {
                const int = (intext || 'INT').includes('INT');
                const day = (daynight || 'DAY').includes('DAY') || (daynight || 'DAY').includes('DAWN');
                if (day && int) return 'day-int';
                if (day && !int) return 'day-ext';
                if (!day && int) return 'night-int';
                return 'night-ext';
            },

            updateStats() {
                const strips = Core.data.schedule?.strips || [];
                const scenes = strips.filter(s => s.type === 'scene');
                const totalPages = scenes.reduce((sum, s) => {
                    const pages = this.parsePages(s.pages);
                    return sum + pages;
                }, 0);
                const highCX  = scenes.filter(s => s.complexity === 'HIGH').length;
                const medCX   = scenes.filter(s => s.complexity === 'MEDIUM').length;
                const flagged = scenes.filter(s => s.prodFlags && s.prodFlags.length > 0).length;
                const nightSc = scenes.filter(s => ['NIGHT','DAWN','DUSK'].includes(s.daynight)).length;
                const el = document.getElementById('schedule-total-pages');
                if (el) {
                    let extra = '';
                    if (highCX > 0)  extra += ` Â· <span style="color:#f87171;">${highCX} HIGH</span>`;
                    if (medCX > 0)   extra += ` Â· <span style="color:#fbbf24;">${medCX} MED</span>`;
                    if (flagged > 0) extra += ` Â· <span style="color:#fbbf24;">ğŸš© ${flagged} flagged</span>`;
                    if (nightSc > 0) extra += ` Â· <span style="color:#a78bfa;">${nightSc} night</span>`;
                    el.innerHTML = totalPages.toFixed(2) + ' pages' + extra;
                }
            },

            parsePages(pageStr) {
                if (!pageStr) return 0;
                const parts = pageStr.toString().trim().split(/\s+/);
                let total = 0;
                for (const part of parts) {
                    if (part.includes('/')) {
                        const [num, denom] = part.split('/').map(Number);
                        total += num / denom;
                    } else {
                        total += Number(part) || 0;
                    }
                }
                return total;
            },

            dragStart(e, index) {
                this.draggedIndex = index;
                e.target.classList.add('dragging');
            },

            allowDrop(e) {
                e.preventDefault();
            },

            drop(e, targetIndex) {
                e.preventDefault();
                if (this.draggedIndex === null || this.draggedIndex === targetIndex) return;

                const strips = Core.data.schedule.strips;
                const draggedStrip = strips[this.draggedIndex];
                
                strips.splice(this.draggedIndex, 1);
                
                const newIndex = this.draggedIndex < targetIndex ? targetIndex - 1 : targetIndex;
                strips.splice(newIndex, 0, draggedStrip);
                
                this.draggedIndex = null;
                Core.save();
                this.render();
                Core.log('Strip reordered');
            },

            toggleExpand(index) {
                const strip = Core.data.schedule.strips[index];
                strip.expanded = !strip.expanded;
                Core.save();
                this.render();
            },

            showCastInfo(castId) {
                const member = CastCrew.findById(castId) || CastCrew.findByName(castId);
                const content = document.getElementById('cast-info-content');
                
                if (member) {
                    content.innerHTML = `
                        <div style="text-align: center; margin-bottom: var(--space-lg);">
                            <div style="font-size: 48px; margin-bottom: var(--space-sm);">ğŸ‘¤</div>
                            <div style="font-family: var(--font-mono); background: var(--neon-cyan); color: var(--void-pure); padding: 4px 12px; border-radius: 4px; display: inline-block; margin-bottom: var(--space-sm);">${member.id}</div>
                            <div style="font-size: 20px; font-weight: 700;">${clean(member.name)}</div>
                            <div style="color: var(--text-50);">${member.role || 'No role specified'}</div>
                        </div>
                        ${member.phone ? `<div style="margin-bottom: var(--space-sm);"><strong>Phone:</strong> <a href="tel:${clean(member.phone)}" style="color: var(--neon-cyan);">${clean(member.phone)}</a></div>` : ''}
                        ${member.email ? `<div><strong>Email:</strong> <a href="mailto:${clean(member.email)}" style="color: var(--neon-cyan);">${clean(member.email)}</a></div>` : ''}
                    `;
                } else {
                    content.innerHTML = `
                        <div style="text-align: center;">
                            <div style="font-size: 48px; margin-bottom: var(--space-sm);">â“</div>
                            <div style="font-size: 20px; font-weight: 700;">${castId}</div>
                            <div style="color: var(--text-50);">Not in cast database</div>
                        </div>
                    `;
                }
                
                document.getElementById('modal-cast-info').classList.add('active');
            },

            hideCastInfo() {
                document.getElementById('modal-cast-info').classList.remove('active');
            },

            addScene() {
                document.getElementById('modal-scene').classList.add('active');
                document.getElementById('scene-modal-title').textContent = 'Add Scene';
                document.getElementById('scene-id').value = '';
                document.getElementById('scene-number').value = '';
                document.getElementById('scene-intext').value = 'INT';
                document.getElementById('scene-daynight').value = 'DAY';
                document.getElementById('scene-location').value = '';
                document.getElementById('scene-shoot-location').value = '';
                document.getElementById('scene-description').value = '';
                document.getElementById('scene-cast').value = '';
                document.getElementById('scene-pages').value = '';
            },

            editScene(index) {
                const strip = Core.data.schedule.strips[index];
                document.getElementById('modal-scene').classList.add('active');
                document.getElementById('scene-modal-title').textContent = 'Edit Scene';
                document.getElementById('scene-id').value = index;
                document.getElementById('scene-number').value = strip.scene || '';
                document.getElementById('scene-intext').value = strip.intext || 'INT';
                document.getElementById('scene-daynight').value = strip.daynight || 'DAY';
                document.getElementById('scene-location').value = strip.location || '';
                document.getElementById('scene-shoot-location').value = strip.shootLocation || '';
                document.getElementById('scene-description').value = strip.description || '';
                document.getElementById('scene-cast').value = strip.cast || '';
                document.getElementById('scene-pages').value = strip.pages || '';
            },

            saveScene() {
                const sceneIndex = document.getElementById('scene-id').value;
                const sceneData = {
                    type: 'scene',
                    scene: document.getElementById('scene-number').value.trim(),
                    intext: document.getElementById('scene-intext').value,
                    daynight: document.getElementById('scene-daynight').value,
                    location: document.getElementById('scene-location').value.trim(),
                    shootLocation: document.getElementById('scene-shoot-location').value.trim(),
                    description: document.getElementById('scene-description').value.trim(),
                    cast: document.getElementById('scene-cast').value.trim(),
                    pages: document.getElementById('scene-pages').value.trim()
                };

                if (!sceneData.scene) {
                    alert('Scene number is required');
                    return;
                }

                if (sceneData.cast) {
                    const parsedCast = CastCrew.parseCastString(sceneData.cast);
                    
                    // AUTO-ADD NEW CAST MEMBERS
                    parsedCast.forEach(castMember => {
                        if (!castMember.id && castMember.name) {
                            // This is a new cast member (no ID yet)
                            this.autoAddCastMember(castMember.name);
                        }
                    });
                    
                    sceneData.cast = CastCrew.formatCastForDisplay(parsedCast);
                }

                if (!Core.data.schedule) Core.data.schedule = { strips: [] };
                
                if (sceneIndex !== '') {
                    const index = parseInt(sceneIndex);
                    Core.data.schedule.strips[index] = { ...Core.data.schedule.strips[index], ...sceneData };
                    Core.log(`Scene ${clean(sceneData.scene)} updated`);
                } else {
                    Core.data.schedule.strips.push(sceneData);
                    Core.log(`Scene ${clean(sceneData.scene)} added to schedule`);
                }
                
                Core.save();
                
                // AUTO-SYNC TO BREAKDOWN
                this.syncToBreakdown(sceneData);
                
                this.hideModals();
                this.render();
            },
            
            autoAddCastMember(name) {
                if (!Core.data.cast) Core.data.cast = {};
                
                // Check if exists
                const existing = Object.values(Core.data.cast).find(m => 
                    m.name.toLowerCase() === name.toLowerCase()
                );
                
                if (existing) return; // Already exists
                
                // Create new
                const existingIds = Object.values(Core.data.cast).map(m => {
                    const num = parseInt(m.id.replace(/\D/g, ''));
                    return isNaN(num) ? 0 : num;
                });
                const nextNum = existingIds.length > 0 ? Math.max(...existingIds) + 1 : 1;
                const id = 'C' + nextNum.toString().padStart(3, '0');
                const key = Date.now().toString() + Math.random().toString().slice(2, 5);
                
                Core.data.cast[key] = {
                    id: id,
                    name: name,
                    role: 'From Schedule',
                    phone: '',
                    email: ''
                };
                
                Core.save();
                Core.log(`âœ“ Auto-added "${name}" to Cast & Crew as ${id}`);
                
                // Show toast notification
                Breakdown.showToast(`âœ“ Added "${name}" to Cast & Crew (${id})`, 'success');
                
                // Refresh Cast & Crew if open
                if (document.getElementById('view-cast-crew').classList.contains('active')) {
                    CastCrew.render();
                }
            },
            
            syncToBreakdown(sceneData) {
                // Sync schedule changes back to breakdown
                if (!Core.data.breakdowns) return;
                
                const bdIdx = Core.data.breakdowns.findIndex(bd => bd.scene === sceneData.scene);
                
                if (bdIdx !== -1) {
                    // Update existing breakdown
                    Core.data.breakdowns[bdIdx] = {
                        ...Core.data.breakdowns[bdIdx],
                        intext: sceneData.intext,
                        daynight: sceneData.daynight,
                        location: sceneData.location,
                        description: sceneData.description,
                        pages: sceneData.pages
                    };
                    
                    // Update cast elements
                    if (sceneData.cast) {
                        const castArray = sceneData.cast.split(',').map(c => c.trim()).filter(c => c);
                        if (!Core.data.breakdowns[bdIdx].elements) {
                            Core.data.breakdowns[bdIdx].elements = {};
                        }
                        Core.data.breakdowns[bdIdx].elements.cast = castArray;
                    }
                    
                    Core.save();
                    Core.log(`âœ“ Synced Scene ${sceneData.scene} to breakdown`);
                }
            },

            addDayBreak() {
                if (!Core.data.schedule) Core.data.schedule = { strips: [] };
                
                const dayBreaks = Core.data.schedule.strips.filter(s => s.type === 'daybreak');
                const dayNumber = dayBreaks.length + 1;
                
                let scenesSinceLastBreak = 0;
                let pagesSinceLastBreak = 0;
                for (let i = Core.data.schedule.strips.length - 1; i >= 0; i--) {
                    const strip = Core.data.schedule.strips[i];
                    if (strip.type === 'daybreak') break;
                    if (strip.type === 'scene') {
                        scenesSinceLastBreak++;
                        pagesSinceLastBreak += this.parsePages(strip.pages);
                    }
                }

                Core.data.schedule.strips.push({
                    type: 'daybreak',
                    dayNumber: dayNumber,
                    date: new Date().toLocaleDateString(),
                    scenes: scenesSinceLastBreak,
                    totalPages: pagesSinceLastBreak.toFixed(2)
                });
                
                Core.save();
                this.render();
                Core.log(`Day break added: Day ${dayNumber}`);
            },

            addBanner() {
                document.getElementById('modal-banner').classList.add('active');
                document.getElementById('banner-type').value = 'COMPANY MOVE';
                document.getElementById('banner-custom').value = '';
                document.getElementById('banner-time').value = '30';
                document.getElementById('banner-custom-group').classList.add('hidden');
            },

            toggleCustomBanner() {
                const type = document.getElementById('banner-type').value;
                const customGroup = document.getElementById('banner-custom-group');
                if (type === 'Custom') {
                    customGroup.classList.remove('hidden');
                } else {
                    customGroup.classList.add('hidden');
                }
            },

            saveBanner() {
                let text = document.getElementById('banner-type').value;
                if (text === 'Custom') {
                    text = document.getElementById('banner-custom').value.trim() || 'CUSTOM';
                }
                const duration = document.getElementById('banner-time').value;

                if (!Core.data.schedule) Core.data.schedule = { strips: [] };
                Core.data.schedule.strips.push({
                    type: 'banner',
                    text: text,
                    duration: duration
                });
                
                Core.save();
                this.hideModals();
                this.render();
                Core.log(`Banner added: ${text}`);
            },

            deleteStrip(index) {
                if (confirm('Delete this strip?')) {
                    Core.data.schedule.strips.splice(index, 1);
                    Core.save();
                    this.render();
                    Core.log('Strip deleted');
                }
            },

            editCast(index) {
                const strip = Core.data.schedule.strips[index];
                const newCast = prompt('Edit cast (comma separated):', strip.cast || '');
                if (newCast !== null) {
                    strip.cast = newCast;
                    Core.save();
                    this.render();
                }
            },

            hideModals() {
                document.getElementById('modal-scene').classList.remove('active');
                document.getElementById('modal-banner').classList.remove('active');
            }
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           BREAKDOWN MODULE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const Breakdown = {
            currentIdx: 0,

            render() {
                if (!Core.data.breakdowns) Core.data.breakdowns = [];
                if (Core.data.breakdowns.length === 0) this.createNew();

                const bd = Core.data.breakdowns[this.currentIdx];
                
                let navHtml = `
                    <div class="card mb-lg" style="background: var(--surface-3); border-color: var(--neon-cyan);">
                        <div class="card-body" style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-md); gap: 12px;">
                            <button class="btn btn-sm" onclick="Breakdown.prev()">â—€ Prev Scene</button>
                            <div style="text-align: center;">
                                <div style="font-weight: bold; color: var(--neon-cyan);">SCENE ${clean(bd.scene)}</div>
                                <div style="font-size: 10px; color: var(--text-50);">Sheet ${this.currentIdx + 1} of ${Core.data.breakdowns.length}</div>
                            </div>
                            <button class="btn btn-sm" onclick="Breakdown.next()">Next Scene â–¶</button>
                            <button class="btn btn-sm" onclick="Breakdown.syncAll()" style="background: rgba(34, 211, 238, 0.15); border-color: var(--neon-cyan); color: var(--neon-cyan);">ğŸ”„ Sync All</button>
                            <button class="btn btn-sm btn-primary" onclick="Breakdown.createNew()">+ New Sheet</button>
                            <button class="btn btn-sm btn-export" onclick="PDFExport.scriptBreakdown()">ğŸ“„ Export All PDF</button>
                        </div>
                    </div>
                    <datalist id="cast-autocomplete">
                        ${CastCrew.getCastOptionsHTML()}
                    </datalist>
                `;

                document.getElementById('bd-sheet').value = bd.sheet || '';
                document.getElementById('bd-pages').value = bd.pages || '';
                document.getElementById('bd-date').value = bd.date || '';
                document.getElementById('bd-project').value = bd.project || '';
                document.getElementById('bd-scene').value = bd.scene || '';
                document.getElementById('bd-intext').value = bd.intext || 'INT';
                document.getElementById('bd-daynight').value = bd.daynight || 'DAY';
                document.getElementById('bd-location').value = bd.location || '';
                document.getElementById('bd-description').value = bd.description || '';

                // â”€â”€ Complexity UI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                const cx = bd.complexity || 'MEDIUM';
                const cxOverride = bd.complexityOverride || false;
                const cxScore = bd.complexityScore;
                const scoreEl = document.getElementById('bd-cx-score');
                const noteEl  = document.getElementById('bd-cx-override-note');
                if (scoreEl) scoreEl.textContent = cxScore != null ? cxScore : 'â€”';
                if (noteEl)  noteEl.textContent  = cxOverride ? '(manually set)' : '';
                const CX_STYLES = {
                    LOW:    { active: 'background:rgba(16,185,129,0.18);border-color:#10b981;color:#10b981;',    inactive: 'background:transparent;border-color:rgba(16,185,129,0.25);color:rgba(16,185,129,0.45);' },
                    MEDIUM: { active: 'background:rgba(245,158,11,0.18);border-color:#f59e0b;color:#f59e0b;',   inactive: 'background:transparent;border-color:rgba(245,158,11,0.25);color:rgba(245,158,11,0.45);' },
                    HIGH:   { active: 'background:rgba(244,63,94,0.18);border-color:#f43f5e;color:#f43f5e;',    inactive: 'background:transparent;border-color:rgba(244,63,94,0.25);color:rgba(244,63,94,0.45);' },
                };
                ['LOW','MEDIUM','HIGH'].forEach(function(lvl) {
                    var id = {LOW:'low',MEDIUM:'med',HIGH:'high'}[lvl]; var btn = document.getElementById('bd-cx-' + id);
                    if (btn) btn.style.cssText = 'padding:5px 14px;border-radius:6px;font-size:11px;font-weight:700;cursor:pointer;transition:all 0.2s;border:1.5px solid;' + (cx === lvl ? CX_STYLES[lvl].active : CX_STYLES[lvl].inactive);
                });

                const catContainer = document.getElementById('breakdown-categories');
                catContainer.innerHTML = BREAKDOWN_CATEGORIES.map(cat => {
                    const listAttr = cat.id === 'cast' ? 'list="cast-autocomplete"' : '';
                    
                    return `
                    <div class="breakdown-category ${cat.color}">
                        <div class="breakdown-category-header">
                            <div class="breakdown-category-title">
                                <span class="breakdown-category-icon">${cat.icon}</span>
                                <span class="breakdown-category-name">${clean(cat.name)}</span>
                            </div>
                        </div>
                        <div class="breakdown-elements" id="bd-elements-${cat.id}">
                            ${(bd.elements[cat.id] || []).map((el, i) => {
                                let indicator = '';
                                if (cat.id === 'cast') {
                                    const existing = Object.values(Core.data.cast || {}).find(m => 
                                        m.name.toLowerCase() === el.toLowerCase()
                                    );
                                    if (existing) {
                                        indicator = `<span style="color: var(--neon-emerald); font-size: 10px; margin-left: 4px;" title="In Cast Database (${existing.id})">âœ“</span>`;
                                    } else {
                                        indicator = `<span style="color: var(--neon-gold); font-size: 10px; margin-left: 4px;" title="Will be added to Cast Database">+</span>`;
                                    }
                                }
                                return `
                                <div class="breakdown-element">
                                    <span>${el}${indicator}</span>
                                    <button class="breakdown-element-del" onclick="Breakdown.removeElement('${cat.id}', ${i})">Ã—</button>
                                </div>
                            `}).join('')}
                        </div>
                        <div class="breakdown-add">
                            <input type="text" class="breakdown-add-input" id="bd-input-${cat.id}" ${listAttr}
                                   onkeydown="if(event.key==='Enter')Breakdown.addElement('${cat.id}')">
                            <button class="breakdown-add-btn" onclick="Breakdown.addElement('${cat.id}')">+</button>
                        </div>
                    </div>
                `}).join('');

                const navContainer = document.getElementById('bd-nav-controls');
                navContainer.innerHTML = navHtml;
            },

            createNew() {
                const newSheet = Core.getDefaultBreakdown();
                newSheet.scene = (Core.data.breakdowns.length + 1).toString();
                Core.data.breakdowns.push(newSheet);
                this.currentIdx = Core.data.breakdowns.length - 1;
                this.render();
            },

            saveCurrentState() {
                const bd = Core.data.breakdowns[this.currentIdx];
                bd.sheet = document.getElementById('bd-sheet').value;
                bd.pages = document.getElementById('bd-pages').value;
                bd.scene = document.getElementById('bd-scene').value;
                bd.intext = document.getElementById('bd-intext').value;
                bd.daynight = document.getElementById('bd-daynight').value;
                bd.location = document.getElementById('bd-location').value;
                bd.description = document.getElementById('bd-description').value;
                // complexity is saved by setComplexity() directly; no field to read here
                Core.save();
                
                // Auto-sync to schedule when saving
                this.syncToSchedule();
            },

            next() {
                this.saveCurrentState();
                if (this.currentIdx < Core.data.breakdowns.length - 1) {
                    this.currentIdx++;
                    this.render();
                }
            },

            prev() {
                this.saveCurrentState();
                if (this.currentIdx > 0) {
                    this.currentIdx--;
                    this.render();
                }
            },

            addElement(catId) {
                const input = document.getElementById('bd-input-' + catId);
                const val = input.value.trim();
                if (!val) return;
                
                const bd = Core.data.breakdowns[this.currentIdx];
                if (!bd.elements[catId]) bd.elements[catId] = [];
                bd.elements[catId].push(val);
                
                // AUTO-ADD TO CAST & CREW DATABASE if adding cast
                if (catId === 'cast') {
                    this.autoAddCastMember(val);
                }
                
                Core.save();
                this.render(); 
                input.value = '';
                input.focus();
                
                // Auto-sync to schedule
                this.syncToSchedule();
                
                // Refresh shopping list if open
                try { if (document.getElementById('view-shopping')?.classList.contains('active')) ShoppingList.render(); } catch(e) {}
            },
            
            autoAddCastMember(name) {
                if (!Core.data.cast) Core.data.cast = {};
                
                // Check if this cast member already exists
                const existing = Object.values(Core.data.cast).find(m => 
                    m.name.toLowerCase() === name.toLowerCase()
                );
                
                if (existing) {
                    // Already exists, no need to add
                    Core.log(`Cast member "${name}" already in database`);
                    return;
                }
                
                // Create new cast member
                const existingIds = Object.values(Core.data.cast).map(m => {
                    const num = parseInt(m.id.replace(/\D/g, ''));
                    return isNaN(num) ? 0 : num;
                });
                const nextNum = existingIds.length > 0 ? Math.max(...existingIds) + 1 : 1;
                const id = 'C' + nextNum.toString().padStart(3, '0');
                const key = Date.now().toString() + Math.random().toString().slice(2, 5);
                
                Core.data.cast[key] = {
                    id: id,
                    name: name,
                    role: 'From Breakdown',
                    phone: '',
                    email: ''
                };
                
                Core.save();
                Core.log(`âœ“ Auto-added "${name}" to Cast & Crew as ${id}`);
                
                // Show toast notification
                this.showToast(`âœ“ Added "${name}" to Cast & Crew (${id})`, 'success');
                
                // Refresh Cast & Crew view if it's open
                if (document.getElementById('view-cast-crew').classList.contains('active')) {
                    CastCrew.render();
                }
            },
            
            showToast(message, type = 'info') {
                const toast = document.createElement('div');
                toast.className = 'toast-notification';
                toast.style.cssText = `
                    position: fixed;
                    bottom: 24px;
                    right: 24px;
                    background: ${type === 'success' ? 'var(--neon-emerald)' : 'var(--neon-cyan)'};
                    color: var(--void-pure);
                    padding: 16px 24px;
                    border-radius: 8px;
                    font-family: var(--font-mono);
                    font-size: 13px;
                    font-weight: 600;
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
                    z-index: 10000;
                    animation: slideIn 0.3s ease;
                `;
                toast.textContent = message;
                document.body.appendChild(toast);
                
                setTimeout(() => {
                    toast.style.animation = 'slideOut 0.3s ease';
                    setTimeout(() => toast.remove(), 300);
                }, 3000);
            },
            
            syncToSchedule() {
                // Sync current breakdown to schedule
                const bd = Core.data.breakdowns[this.currentIdx];
                if (!Core.data.schedule) Core.data.schedule = { strips: [] };
                
                // Find matching scene in schedule
                const sceneIdx = Core.data.schedule.strips.findIndex(s => 
                    s.type === 'scene' && s.scene === bd.scene
                );
                
                if (sceneIdx !== -1) {
                    // Update existing scene
                    Core.data.schedule.strips[sceneIdx] = {
                        ...Core.data.schedule.strips[sceneIdx],
                        intext: bd.intext,
                        daynight: bd.daynight,
                        location: bd.location,
                        description: bd.description,
                        cast: (bd.elements.cast || []).join(', '),
                        pages: bd.pages,
                        elements: bd.elements,
                        complexity: bd.complexity,
                        complexityScore: bd.complexityScore
                    };
                    Core.log(`âœ“ Synced Scene ${bd.scene} to schedule`);
                } else {
                    // Add to schedule if not exists
                    Core.data.schedule.strips.push({
                        type: 'scene',
                        scene: bd.scene,
                        intext: bd.intext,
                        daynight: bd.daynight,
                        location: bd.location,
                        description: bd.description,
                        cast: (bd.elements.cast || []).join(', '),
                        pages: bd.pages,
                        elements: bd.elements,
                        complexity: bd.complexity,
                        complexityScore: bd.complexityScore
                    });
                    Core.log(`âœ“ Added Scene ${bd.scene} to schedule`);
                }
                
                Core.save();
                
                // Refresh schedule view if it's open
                if (document.getElementById('view-schedule').classList.contains('active')) {
                    Schedule.render();
                }
            },

            removeElement(catId, elIdx) {
                const bd = Core.data.breakdowns[this.currentIdx];
                bd.elements[catId].splice(elIdx, 1);
                Core.save();
                this.render();
            },

            setComplexity(level) {
                const bd = Core.data.breakdowns[this.currentIdx];
                if (!bd) return;
                bd.complexity = level;
                bd.complexityOverride = true;  // mark as manually set
                // Recalc score label based on level selection
                if (!bd.complexityScore) bd.complexityScore = level === 'HIGH' ? 8 : level === 'MEDIUM' ? 4 : 1;
                Core.save();
                // Re-render only the complexity buttons (avoid full re-render to preserve input focus)
                const cx = level;
                const CX_STYLES = {
                    LOW:    { active: 'background:rgba(16,185,129,0.18);border-color:#10b981;color:#10b981;',    inactive: 'background:transparent;border-color:rgba(16,185,129,0.25);color:rgba(16,185,129,0.45);' },
                    MEDIUM: { active: 'background:rgba(245,158,11,0.18);border-color:#f59e0b;color:#f59e0b;',   inactive: 'background:transparent;border-color:rgba(245,158,11,0.25);color:rgba(245,158,11,0.45);' },
                    HIGH:   { active: 'background:rgba(244,63,94,0.18);border-color:#f43f5e;color:#f43f5e;',    inactive: 'background:transparent;border-color:rgba(244,63,94,0.25);color:rgba(244,63,94,0.45);' },
                };
                ['LOW','MEDIUM','HIGH'].forEach(function(lvl) {
                    var id = {LOW:'low',MEDIUM:'med',HIGH:'high'}[lvl]; var btn = document.getElementById('bd-cx-' + id);
                    if (btn) btn.style.cssText = 'padding:5px 14px;border-radius:6px;font-size:11px;font-weight:700;cursor:pointer;transition:all 0.2s;border:1.5px solid;' + (cx === lvl ? CX_STYLES[lvl].active : CX_STYLES[lvl].inactive);
                });
                const noteEl = document.getElementById('bd-cx-override-note');
                if (noteEl) noteEl.textContent = '(manually set)';
                // Sync complexity to schedule strip
                this.syncToSchedule();
                try { if (typeof luxNotify !== 'undefined') luxNotify('Scene complexity set to ' + level, 'info', 2000); } catch(e) {}
            },
            
            syncAll() {
                // Comprehensive sync between Breakdowns, Schedule, and Cast
                let synced = 0;
                let castAdded = 0;
                
                Core.data.breakdowns.forEach((bd, idx) => {
                    // Sync to schedule
                    if (!Core.data.schedule) Core.data.schedule = { strips: [] };
                    
                    const sceneIdx = Core.data.schedule.strips.findIndex(s => 
                        s.type === 'scene' && s.scene === bd.scene
                    );
                    
                    if (sceneIdx !== -1) {
                        // Update existing
                        Core.data.schedule.strips[sceneIdx] = {
                            ...Core.data.schedule.strips[sceneIdx],
                            intext: bd.intext,
                            daynight: bd.daynight,
                            location: bd.location,
                            description: bd.description,
                            cast: (bd.elements.cast || []).join(', '),
                            pages: bd.pages,
                            elements: bd.elements
                        };
                        synced++;
                    } else {
                        // Add to schedule
                        Core.data.schedule.strips.push({
                            type: 'scene',
                            scene: bd.scene,
                            intext: bd.intext,
                            daynight: bd.daynight,
                            location: bd.location,
                            description: bd.description,
                            cast: (bd.elements.cast || []).join(', '),
                            pages: bd.pages,
                            elements: bd.elements
                        });
                        synced++;
                    }
                    
                    // Auto-add cast members
                    if (bd.elements.cast) {
                        bd.elements.cast.forEach(castName => {
                            if (!Core.data.cast) Core.data.cast = {};
                            
                            const existing = Object.values(Core.data.cast).find(m => 
                                m.name.toLowerCase() === castName.toLowerCase()
                            );
                            
                            if (!existing) {
                                const existingIds = Object.values(Core.data.cast).map(m => {
                                    const num = parseInt(m.id.replace(/\D/g, ''));
                                    return isNaN(num) ? 0 : num;
                                });
                                const nextNum = existingIds.length > 0 ? Math.max(...existingIds) + 1 : 1;
                                const id = 'C' + nextNum.toString().padStart(3, '0');
                                const key = Date.now().toString() + Math.random().toString().slice(2, 5);
                                
                                Core.data.cast[key] = {
                                    id: id,
                                    name: castName,
                                    role: 'From Sync',
                                    phone: '',
                                    email: ''
                                };
                                castAdded++;
                            }
                        });
                    }
                });
                
                Core.save();
                
                // Show results
                this.showToast(`âœ“ Synced ${synced} scenes, added ${castAdded} cast members`, 'success');
                Core.log(`Sync complete: ${synced} scenes synced, ${castAdded} cast members added`);
                
                // Refresh views if open
                if (document.getElementById('view-schedule').classList.contains('active')) {
                    Schedule.render();
                }
                if (document.getElementById('view-cast-crew').classList.contains('active')) {
                    CastCrew.render();
                }
            }
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SCRIPT IMPORT MODULE â€” v4 ENHANCED ANNOTATED EXPORT ENGINE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const ScriptImport = {

            // â”€â”€ STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            _text: null, _fileName: null, _fileSize: null,
            _result: null, _pasteMode: false,
            _rawLines: null,   // preserved raw lines for annotated PDF
            _fmt: null,        // detected format metadata

            // â”€â”€ FILE HANDLING â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            triggerFilePick() { document.getElementById('si-file-input').click(); },
            onDragOver(e)  { e.preventDefault(); document.getElementById('si-drop').classList.add('drag-over'); },
            onDragLeave()  { document.getElementById('si-drop').classList.remove('drag-over'); },
            onDrop(e)      { e.preventDefault(); document.getElementById('si-drop').classList.remove('drag-over'); const f=e.dataTransfer.files[0]; if(f) this._loadFile(f); },
            onFileSelect(e){ const f=e.target.files[0]; if(f) this._loadFile(f); },

            usePasteMode() {
                this._pasteMode = true;
                document.getElementById('si-paste').classList.add('on');
                document.getElementById('si-drop').style.display = 'none';
                document.getElementById('si-badge').classList.remove('on');
            },
            clearFile() {
                this._text = null; this._fileName = null; this._result = null; this._lastResult = null; this._pasteMode = false;
                this._rawLines = null; this._fmt = null;
                document.getElementById('si-badge').classList.remove('on');
                document.getElementById('si-drop').style.display = '';
                document.getElementById('si-paste').classList.remove('on');
                document.getElementById('si-progress').classList.remove('on');
                document.getElementById('si-results').classList.remove('on');
                document.getElementById('si-file-input').value = '';
                const ta = document.getElementById('si-text'); if(ta) ta.value='';
            },
            async _loadFile(file) {
                this._fileName = file.name;
                this._fileSize = (file.size/1024).toFixed(1);
                const ext = file.name.split('.').pop().toLowerCase();
                document.getElementById('si-badge-name').textContent = file.name;
                document.getElementById('si-badge-meta').textContent = `${this._fileSize} KB Â· ${ext.toUpperCase()}`;
                document.getElementById('si-badge').classList.add('on');
                document.getElementById('si-drop').style.display = 'none';
                if (ext === 'pdf') await this._extractPDF(file);
                else if (ext === 'fdx') {
                    const r = new FileReader();
                    r.onload = e => { this._text = this._parseFDX(e.target.result); };
                    r.readAsText(file);
                } else {
                    const r = new FileReader();
                    r.onload = e => { this._text = e.target.result; };
                    r.readAsText(file);
                }
            },

            // â”€â”€ FDX (Final Draft XML) PARSER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            // Converts Final Draft .fdx to standard screenplay plain-text format
            _parseFDX(xml) {
                try {
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(xml, 'text/xml');
                    const paragraphs = doc.querySelectorAll('Paragraph');
                    const lines = [];
                    paragraphs.forEach(p => {
                        const type = p.getAttribute('Type') || '';
                        const text = Array.from(p.querySelectorAll('Text')).map(t => t.textContent).join('').trim();
                        if (!text) { lines.push(''); return; }
                        switch(type) {
                            case 'Scene Heading':  lines.push('', text.toUpperCase(), ''); break;
                            case 'Action':         lines.push(text, ''); break;
                            case 'Character':      lines.push('                    ' + text.toUpperCase()); break;
                            case 'Dialogue':       lines.push('        ' + text, ''); break;
                            case 'Parenthetical':  lines.push('              ' + text); break;
                            case 'Transition':     lines.push('', '                              ' + text.toUpperCase(), ''); break;
                            case 'Shot':           lines.push(text.toUpperCase(), ''); break;
                            case 'General':        lines.push(text); break;
                            default:               lines.push(text);
                        }
                    });
                    return lines.join('\n');
                } catch(e) {
                    return xml;
                }
            },

            // â”€â”€ PDF EXTRACTION â€” improved heuristics â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            async _extractPDF(file) {
                const metaEl = document.getElementById('si-badge-meta');
                try {
                    if (!window.pdfjsLib) {
                        metaEl.textContent = 'Loading PDF engineâ€¦';
                        await new Promise((res,rej) => {
                            const s = document.createElement('script');
                            s.src = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js';
                            s.onload = res; s.onerror = rej;
                            document.head.appendChild(s);
                        });
                        window.pdfjsLib.GlobalWorkerOptions.workerSrc =
                            'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
                    }
                    const buf = await file.arrayBuffer();
                    const pdf = await window.pdfjsLib.getDocument({data: buf}).promise;
                    let allLines = [];

                    for (let i = 1; i <= pdf.numPages; i++) {
                        const page = await pdf.getPage(i);
                        const vp = page.getViewport({scale: 1});
                        const tc = await page.getTextContent({normalizeWhitespace: true, disableCombineTextItems: false});

                        // Cluster items by Y coordinate (2pt tolerance for same line)
                        const rows = new Map();
                        for (const item of tc.items) {
                            if (!item.str || !item.str.trim()) continue;
                            const y = Math.round(item.transform[5]);
                            // Find existing row within 2pt
                            let rowKey = null;
                            for (const k of rows.keys()) {
                                if (Math.abs(k - y) <= 2) { rowKey = k; break; }
                            }
                            if (rowKey === null) { rowKey = y; rows.set(rowKey, []); }
                            rows.get(rowKey).push({ x: item.transform[4], str: item.str, width: item.width || 0 });
                        }

                        // Sort rows top-to-bottom (PDF Y is bottom-up)
                        const sortedY = [...rows.keys()].sort((a,b) => b - a);
                        const pageW = vp.width;

                        for (const y of sortedY) {
                            const items = rows.get(y).sort((a,b) => a.x - b.x);
                            // Reconstruct line with spacing based on X gaps
                            let lineStr = '';
                            let prevXEnd = 0;
                            for (let k = 0; k < items.length; k++) {
                                const item = items[k];
                                const gap = k === 0 ? item.x : item.x - prevXEnd;
                                // Significant gap = multiple spaces
                                if (k > 0 && gap > 4) {
                                    const spacesNeeded = Math.max(1, Math.round(gap / 7));
                                    lineStr += ' '.repeat(Math.min(spacesNeeded, 8));
                                }
                                lineStr += item.str;
                                prevXEnd = item.x + item.width;
                            }
                            // Convert x-position of first char to indent
                            const firstX = items[0]?.x || 0;
                            const indentChars = Math.round((firstX / pageW) * 80);
                            const indent = ' '.repeat(Math.max(0, indentChars));
                            allLines.push(indent + lineStr.trim());
                        }
                        allLines.push(''); // page separator
                    }

                    this._text = allLines.join('\n');
                    metaEl.textContent = `${this._fileSize} KB Â· PDF Â· ${pdf.numPages} pages`;
                } catch(err) {
                    console.error('PDF error:', err);
                    metaEl.textContent = 'PDF failed â€” try Paste Text instead';
                    this.usePasteMode();
                }
            },

            // â”€â”€ CHIPS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            toggleChip(cb, id) {
                const el = document.getElementById(id); if(el) el.classList[cb.checked ? 'add' : 'remove']('on');
            },

            // â”€â”€ PROGRESS STEPS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            _initSteps(defs) {
                document.getElementById('si-steps').innerHTML = defs.map(s =>
                    `<div class="si-step" id="sst-${s.id}">
                        <span class="si-step-ico">${s.icon}</span>
                        <span class="si-step-txt">${s.label}</span>
                        <span class="si-step-badge" id="ssb-${s.id}">Waiting</span>
                    </div>`
                ).join('');
            },
            _step(id, state, badge) {
                const el = document.getElementById('sst-'+id);
                const bd = document.getElementById('ssb-'+id);
                if (!el) return;
                el.className = 'si-step ' + state;
                if (state === 'active') bd.innerHTML = '<span class="si-spin">âŸ³</span> Running';
                else if (badge) bd.textContent = badge;
            },
            _tick(ms=18) { return new Promise(r=>setTimeout(r,ms)); },

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            //  MAIN ANALYSIS PIPELINE
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            async analyze() {
                let src = this._text;
                if (!src) {
                    const ta = document.getElementById('si-text');
                    src = ta ? ta.value.trim() : '';
                }
                if (!src) { alert('Drop a script file or paste text first.'); return; }

                const btn = document.getElementById('si-run-btn');
                btn.disabled = true; btn.textContent = 'âš™ï¸ ANALYZINGâ€¦';
                document.getElementById('si-progress').classList.add('on');
                document.getElementById('si-results').classList.remove('on');

                this._initSteps([
                    {id:'norm',    icon:'ğŸ“–', label:'Reading & normalizing text'},
                    {id:'fmt',     icon:'ğŸ”', label:'Detecting script format & calibrating indentation'},
                    {id:'scenes',  icon:'ğŸ¬', label:'Parsing scene headings â€” multi-pattern matching'},
                    {id:'cast',    icon:'ğŸ‘¥', label:'Mapping characters Â· dialogue Â· scene co-presence'},
                    {id:'rel',     icon:'ğŸ•¸ï¸', label:'Analyzing character relationships & dynamics'},
                    {id:'elem',    icon:'ğŸ­', label:'Deep element extraction â€” props / VFX / stunts / animals'},
                    {id:'pages',   icon:'ğŸ“„', label:'Industry-standard page & complexity scoring'},
                    {id:'arc',     icon:'ğŸ“ˆ', label:'Story arc Â· emotional tone Â· act structure detection'},
                    {id:'sched',   icon:'ğŸ—“ï¸', label:'Smart scheduling â€” location clusters & day breakdown'},
                    {id:'risk',    icon:'âš ï¸', label:'Risk profiling â€” logistical & creative flags'},
                    {id:'ins',     icon:'ğŸ§ ', label:'Production intelligence synthesis'},
                    {id:'done',    icon:'âœ…', label:'Assembling final production package'},
                ]);

                try {
                    this._step('norm','active'); await this._tick();
                    const normalized = this._normalize(src);
                    const lines = normalized.split('\n');
                    this._rawLines = lines; // preserve for annotated PDF
                    this._step('norm','done',`âœ“ ${lines.length.toLocaleString()} lines`);

                    this._step('fmt','active'); await this._tick();
                    const fmt = this._detectFormat(lines);
                    this._fmt = fmt;
                    this._step('fmt','done',`âœ“ ${fmt.type} Â· indent=${fmt.avgCharIndent}`);

                    this._step('scenes','active'); await this._tick();
                    const scenes = this._parseScenes(lines, fmt);
                    this._step('scenes','done',`âœ“ ${scenes.length} scenes`);

                    this._step('cast','active'); await this._tick();
                    const castData = this._extractCast(scenes, fmt);
                    this._step('cast','done',`âœ“ ${castData.all.length} characters`);

                    this._step('rel','active'); await this._tick();
                    const relationships = this._analyzeRelationships(scenes, castData);
                    this._step('rel','done',`âœ“ ${relationships.pairs.length} pairs mapped`);

                    this._step('elem','active'); await this._tick();
                    this._extractElements(scenes);
                    const elemCount = scenes.reduce((t,s)=>t+s.props.length+s.sfx.length+s.vehicles.length+s.animals.length+s.stunts.length,0);
                    this._step('elem','done',`âœ“ ${elemCount} elements`);

                    this._step('pages','active'); await this._tick();
                    this._estimatePages(scenes);
                    const totalPages = scenes.reduce((s,sc)=>s+sc.pages,0);
                    this._step('pages','done',`âœ“ ~${Math.round(totalPages)} pages`);

                    this._step('arc','active'); await this._tick();
                    const storyArc = this._analyzeStoryArc(scenes, castData);
                    this._step('arc','done',`âœ“ ${storyArc.acts.length}-act structure`);

                    this._step('sched','active'); await this._tick();
                    const schedPlan = this._buildSchedulePlan(scenes, totalPages);
                    this._step('sched','done',`âœ“ ${schedPlan.shootDays} shoot days`);

                    this._step('risk','active'); await this._tick();
                    const risks = this._buildRisks(scenes, storyArc, schedPlan);
                    this._step('risk','done',`âœ“ ${risks.length} risk flags`);

                    this._step('ins','active'); await this._tick();
                    const insights = this._buildInsights(scenes, castData, relationships, storyArc, schedPlan, risks, lines, totalPages);
                    this._step('ins','done','âœ“ Done');

                    this._step('done','active'); await this._tick();
                    const result = this._buildResult(scenes, castData, relationships, storyArc, schedPlan, risks, insights, fmt, totalPages);
                    this._result = result;
                    this._lastResult = result;  // cache for fast re-renders
                    this._render(result);
                    this._step('done','done','âœ“ Ready to import');

                } catch(err) {
                    console.error('Analysis error:', err);
                    document.querySelectorAll('.si-step.active').forEach(el => {
                        el.className = 'si-step error';
                        el.querySelector('.si-step-badge').textContent = 'âœ— Error';
                    });
                    alert('Analysis error: ' + err.message + '\n\n' + err.stack);
                } finally {
                    btn.disabled = false; btn.textContent = 'âš¡ ANALYZE SCRIPT';
                }
            },

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            //  NORMALIZE â€” clean encoding artifacts, preserve structure
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            _normalize(text) {
                return text
                    .replace(/\r\n/g,'\n').replace(/\r/g,'\n')
                    .replace(/\f/g,'\n')                         // form feeds â†’ newlines
                    .replace(/\0/g,'')                           // null bytes
                    .replace(/[â€“â€”]/g,'-')                        // em/en dash â†’ hyphen
                    .replace(/[""]/g,'"').replace(/['']/g,"'")   // smart quotes
                    .replace(/\t/g,'    ')                       // tabs â†’ 4 spaces
                    .replace(/[ \t]+$/mg,'')                     // trailing whitespace
                    .replace(/\n{4,}/g,'\n\n\n');                // max 3 consecutive blanks
            },

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            //  FORMAT DETECTION â€” calibrates indents for any screenplay format
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            _detectFormat(lines) {
                const nonEmpty = lines.filter(l=>l.trim().length>0);

                // FDX marker
                if (lines.some(l=>l.includes('<FinalDraft') || l.includes('<Scene ')))
                    return {type:'FDX', avgCharIndent:36, dialogIndent:24, actionIndent:0};

                // Fountain: scene headings start with period
                const fountainSlugs = nonEmpty.filter(l=>/^\.(INT|EXT|INT\/EXT)/i.test(l.trim())).length;
                if (fountainSlugs > 2) return {type:'Fountain', avgCharIndent:36, dialogIndent:24, actionIndent:0};

                // Measure real character cue indent from the script
                const charIndents = [];
                const actionIndents = [];
                for (let i=0; i<lines.length-2; i++) {
                    const t = lines[i].trim();
                    const raw = lines[i];
                    if (!t || t.length<2 || t.length>50) continue;
                    if (t !== t.toUpperCase()) {
                        // action line indent
                        const indent = raw.match(/^(\s*)/)[1].length;
                        if (indent >= 0 && indent < 20) actionIndents.push(indent);
                        continue;
                    }
                    if (/^(INT|EXT|FADE|CUT|THE END|SUPER|TITLE|ACT|SCENE|CONTINUED|OMIT|REVISED)/.test(t)) continue;
                    // Potential character cue â€” check for dialogue following
                    let nextLine = '';
                    for (let j=i+1; j<Math.min(i+4, lines.length); j++) {
                        if (lines[j].trim()) { nextLine=lines[j]; break; }
                    }
                    const nt = nextLine.trim();
                    if (nt && nt.length > 0 && (nt !== nt.toUpperCase() || nt.startsWith('('))) {
                        charIndents.push(raw.match(/^(\s*)/)[1].length);
                    }
                }

                const avgCharIndent = charIndents.length
                    ? Math.round(charIndents.reduce((a,b)=>a+b,0) / charIndents.length)
                    : 36;
                const dialogIndent = Math.max(0, avgCharIndent - 14);
                const actionIndent = actionIndents.length
                    ? Math.round(actionIndents.reduce((a,b)=>a+b,0) / actionIndents.length)
                    : 0;

                const hasDotSlugs    = nonEmpty.some(l=>/^(INT\.|EXT\.|INT\/EXT\.)/i.test(l.trim()));
                const hasBareWords   = nonEmpty.some(l=>/^(INT|EXT|INT\/EXT|I\/E)\s+/i.test(l.trim()));
                const numberedSlugs  = nonEmpty.filter(l=>/^\d+[\.)]\s*(INT|EXT)/i.test(l.trim())).length;

                let type = 'Screenplay';
                if (numberedSlugs > 2)   type = 'Numbered Screenplay';
                else if (hasDotSlugs)    type = 'Standard Screenplay';
                else if (hasBareWords)   type = 'Loose Screenplay';
                else if (avgCharIndent < 10) type = 'Stage Play';

                return {type, avgCharIndent, dialogIndent, actionIndent, numberedSlugs: numberedSlugs > 0};
            },

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            //  SCENE HEADING REGEXES â€” comprehensive multi-pattern
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            _SLUG:  /^(INT\.|EXT\.|INT\/EXT\.|I\/E\.)[ \t]*(.+?)[ \t]*[-â€“][ \t]*(DAY|NIGHT|DAWN|DUSK|MORNING|AFTERNOON|EVENING|CONTINUOUS|LATER|MOMENTS LATER|SAME|SAME TIME|FLASHBACK|FLASH BACK|DREAM|INTERCUT|UNDEFINED|UNKNOWN|UNSPECIFIED|MAGIC HOUR|GOLDEN HOUR|SUNSET|SUNRISE|PRE-DAWN|MIDNIGHT|DUSK|LATER|CONTINUOUS TIME)/i,
            _SLUG2: /^(INT|EXT|INT\/EXT|I\/E)[ \t]+(.+?)[ \t]*[-â€“][ \t]*(DAY|NIGHT|DAWN|DUSK|MORNING|AFTERNOON|EVENING|CONTINUOUS|LATER|SAME|MOMENTS|MAGIC HOUR|GOLDEN HOUR|SUNSET|SUNRISE|MIDNIGHT)/i,
            _SLUG3: /^(\d+[\.\)\s]+)\s*(INT\.|EXT\.|INT\/EXT\.|I\/E\.|INT|EXT)[ \t]*(.+?)[ \t]*[-â€“][ \t]*(DAY|NIGHT|DAWN|DUSK|MORNING|EVENING|CONTINUOUS|LATER|SAME)/i,
            _SLUGF: /^\.(INT|EXT|INT\/EXT)[ \t]+(.+?)(?:[ \t]*[-â€“][ \t]*(DAY|NIGHT|DAWN|DUSK|CONTINUOUS|LATER|SAME))?$/i,
            // Bare scene heading: "INSIDE THE CAR - DAY" (no INT/EXT prefix, but strong cue)
            _SLUGB: /^([A-Z][A-Z\s\/\-\']{5,50})[ \t]*[-â€“][ \t]*(DAY|NIGHT|DAWN|DUSK|MORNING|EVENING|CONTINUOUS|LATER)$/,

            _parseScenes(lines, fmt) {
                const scenes = [];
                let cur = null, body = [], sceneNum = 0;

                const flushScene = () => {
                    if (!cur) return;
                    // Action lines: mixed case, not all-caps, not parentheticals
                    const actionLines = cur._body.filter(l => {
                        const t = l.trim();
                        return t.length > 15 && t !== t.toUpperCase()
                            && !this._SLUG.test(t) && !this._SLUG2.test(t)
                            && !/^\(/.test(t) && !/^[A-Z]{2,}(\s|$)/.test(t.slice(0,30));
                    });
                    const descLine = actionLines[0];
                    cur.description = descLine ? descLine.trim().slice(0, 240) : '';
                    // Synopsis: up to 3 action sentences
                    const synLines = actionLines.slice(0, 3).map(l => l.trim().replace(/\s+/g,' '));
                    let synopsis = synLines.join(' ').trim();
                    if (synopsis.length > 320) synopsis = synopsis.slice(0, 317) + 'â€¦';
                    cur.synopsis = synopsis || cur.description;
                    scenes.push(cur);
                    cur = null; body = [];
                };

                for (let i = 0; i < lines.length; i++) {
                    const raw = lines[i];
                    const t = raw.trim();
                    if (!t) continue;

                    let m = null;
                    let intext = 'INT', locRaw = '', dn = 'DAY', sceneNumStr = null;
                    let matched = false;

                    if ((m = t.match(this._SLUG3))) {
                        sceneNumStr = m[1].replace(/[.\)\s]+/g,'').trim();
                        const itR = m[2].toUpperCase().replace(/\./g,'').trim();
                        locRaw = (m[3]||'').trim().toUpperCase();
                        dn = (m[4]||'DAY').toUpperCase();
                        intext = /^EXT/.test(itR)?'EXT':/INT.EXT|I.E/.test(itR)?'INT/EXT':'INT';
                        matched = true;
                    } else if ((m = t.match(this._SLUG))) {
                        const itR = m[1].toUpperCase().replace(/\./g,'').trim();
                        locRaw = (m[2]||'').trim().toUpperCase();
                        dn = (m[3]||'DAY').toUpperCase();
                        intext = /^EXT/.test(itR)?'EXT':/INT.EXT|I.E/.test(itR)?'INT/EXT':'INT';
                        matched = true;
                    } else if ((m = t.match(this._SLUG2))) {
                        const itR = m[1].toUpperCase().trim();
                        locRaw = (m[2]||'').trim().toUpperCase();
                        dn = (m[3]||'DAY').toUpperCase();
                        intext = /^EXT/.test(itR)?'EXT':/INT.EXT|I.E/.test(itR)?'INT/EXT':'INT';
                        matched = true;
                    } else if ((m = t.match(this._SLUGF))) {
                        const itR = m[1].toUpperCase().trim();
                        locRaw = (m[2]||'').trim().toUpperCase();
                        dn = (m[3]||'DAY').toUpperCase();
                        intext = /^EXT/.test(itR)?'EXT':/INT.EXT|I.E/.test(itR)?'INT/EXT':'INT';
                        matched = true;
                    } else if ((m = t.match(this._SLUGB))) {
                        // Bare heading heuristic â€” only use if preceded by blank line
                        const prevLine = i > 0 ? lines[i-1].trim() : '';
                        if (!prevLine) {
                            locRaw = m[1].trim();
                            dn = m[2].toUpperCase();
                            intext = /\bEXT\b/.test(locRaw) ? 'EXT' : 'INT';
                            matched = true;
                        }
                    }

                    if (!matched) {
                        if (cur) { body.push(raw); cur._body = body; }
                        continue;
                    }

                    flushScene();
                    sceneNum++;

                    // Normalize day/night token
                    let daynight = 'DAY';
                    const dnUP = dn.toUpperCase();
                    if (/NIGHT|MIDNIGHT/.test(dnUP)) daynight = 'NIGHT';
                    else if (/DAWN|SUNRISE|PRE-DAWN/.test(dnUP)) daynight = 'DAWN';
                    else if (/DUSK|GOLDEN HOUR|MAGIC HOUR|SUNSET/.test(dnUP)) daynight = 'DUSK';
                    else if (/EVENING/.test(dnUP)) daynight = 'EVENING';
                    else if (/AFTERNOON/.test(dnUP)) daynight = 'AFTERNOON';
                    else if (/MORNING/.test(dnUP)) daynight = 'MORNING';
                    else if (/CONTINUOUS|SAME|MOMENTS/.test(dnUP)) daynight = 'CONTINUOUS';
                    else if (/LATER|FLASH|DREAM/.test(dnUP)) daynight = 'LATER';

                    // Clean location
                    locRaw = locRaw
                        .replace(/^\d+\s*[-â€“]\s*/,'')
                        .replace(/\./g,'')
                        .replace(/\s+/g,' ')
                        .trim();

                    cur = {
                        num:           sceneNumStr || sceneNum.toString(),
                        numInt:        sceneNum,
                        intext,
                        location:      locRaw,
                        daynight,
                        description:   '',
                        synopsis:      '',
                        cast:          [],
                        props:         [],
                        vehicles:      [],
                        sfx:           [],
                        animals:       [],
                        stunts:        [],
                        wardrobe:      [],
                        makeup:        [],
                        vfx:           [],
                        sound:         [],
                        extras:        [],
                        specialEquip:  [],
                        locationFlags: [],
                        permitFlags:   [],
                        extrasEstimate: 0,
                        complexityOverride: false,
                        pages:         0.125,
                        complexity:    'LOW',
                        complexityScore: 0,
                        dialog_lines:  0,
                        action_lines:  0,
                        dialogBlocks:  [],
                        _body:         [],
                        _lineIdx:      i,
                        _rawSlug:      raw,  // preserve original slug line for PDF
                    };
                    body = [];
                }
                flushScene();
                return scenes;
            },

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            //  NOT-CHARACTER SET â€” comprehensive exclusion list
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            _NOT_CHAR: new Set([
                'INT','EXT','INT/EXT','I/E','FADE IN','FADE OUT','FADE TO','CUT TO','DISSOLVE TO',
                'SMASH CUT','MATCH CUT','JUMP CUT','WIPE TO','IRIS IN','IRIS OUT',
                'TITLE','TITLES','SUPER','CAPTION','SUBTITLE','CHYRON',
                'CONTINUED','CONTINUING','THE END','END TITLE','CREDITS','OVER BLACK','BLACK',
                'FLASHBACK','FLASH FORWARD','FLASH CUT','DREAM SEQUENCE','END FLASHBACK','BACK TO PRESENT',
                'LATER','DAY','NIGHT','MORNING','EVENING','DUSK','DAWN','CONTINUOUS','SAME','CONTINUOUS TIME',
                'ACT ONE','ACT TWO','ACT THREE','ACT FOUR','COLD OPEN','TAG','TEASER','MONTAGE',
                'END MONTAGE','SERIES OF SHOTS','END SERIES','INTERCUT WITH','INTERCUT',
                'NOTE','NOTES','PAGE','PAGES','DRAFT','REVISION','BEGIN','END','BEGIN MONTAGE',
                "CONT'D","CONT'D",'O.S.','V.O.','PRE-LAP','ANGLE ON','CLOSE ON',
                'INSERT','MORE','CLOSE UP','WIDE SHOT','POV','ESTABLISHING','OMITTED',
                'REVISED','REVISION','FIRST DRAFT','SHOOTING SCRIPT','PRODUCTION DRAFT',
                'WRITTEN BY','STORY BY','SCREENPLAY BY','AN ORIGINAL SCREENPLAY',
                'BACK TO','RETURN TO','MOMENTS LATER','SAME TIME',
                'WE SEE','WE HEAR','FROM OUTSIDE','FROM INSIDE','WE FOLLOW',
                'OVER','UNDER','THROUGHOUT','LATER THAT','SIMULTANEOUSLY',
                'AUTHOR','WRITER','DIRECTOR','PRODUCED','PROPERTY',
            ]),

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            //  CAST EXTRACTION â€” tracks dialogue, scenes, word count
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            _extractCast(scenes, fmt) {
                const charScenes  = {};
                const charLines   = {};
                const charWords   = {};
                const charFirst   = {};
                const charLast    = {};
                const sceneMatrix = {};

                const CHAR_RE = /^([A-Z][A-Z0-9 '.\-]{0,33}?)(?:\s*\((?:V\.?O\.?|O\.?S\.?|CONT'?D?|PHONE|FILTERED|TRANSLATED|DISTORTED|SINGING|RECORDED|INTERCOM|TEXT|TEXT MESSAGE)\))?$/;

                for (let si = 0; si < scenes.length; si++) {
                    const sc = scenes[si];
                    const body = sc._body;
                    const sceneCast = new Set();
                    let inDialogue = false;
                    let currentChar = null;
                    let dialogLineBuffer = [];

                    for (let li = 0; li < body.length; li++) {
                        const raw = body[li];
                        const t   = raw.trim();
                        if (!t) { inDialogue = false; currentChar = null; continue; }

                        const indent = raw.match(/^(\s*)/)[1].length;
                        const isAllCaps = t === t.toUpperCase();
                        const isShort   = t.length >= 2 && t.length <= 50;
                        const isHighIndent = indent >= (fmt.avgCharIndent - 8);

                        // Parenthetical â€” still in dialogue block
                        if (/^\(.*\)$/.test(t) && currentChar) continue;

                        // Character cue detection
                        if (isAllCaps && isShort && (isHighIndent || fmt.avgCharIndent < 5)) {
                            const baseName = t.replace(/\s*\(.*?\)\s*$/g,'').trim();
                            if (!this._NOT_CHAR.has(baseName) && !this._NOT_CHAR.has(t)
                                && CHAR_RE.test(t) && !/^\d+$/.test(baseName)
                                && !this._SLUG.test(t) && !this._SLUG2.test(t)) {
                                currentChar = baseName;
                                inDialogue  = true;
                                dialogLineBuffer = [];
                                if (!charScenes[baseName])  charScenes[baseName]  = new Set();
                                if (!charLines[baseName])   charLines[baseName]   = 0;
                                if (!charWords[baseName])   charWords[baseName]   = 0;
                                if (charFirst[baseName] === undefined) charFirst[baseName] = si;
                                charLast[baseName] = si;
                                charScenes[baseName].add(si);
                                sceneCast.add(baseName);
                            } else {
                                inDialogue  = false;
                                currentChar = null;
                            }
                        } else if (inDialogue && currentChar) {
                            // Dialogue line
                            charLines[currentChar]++;
                            charWords[currentChar] += t.split(/\s+/).length;
                            dialogLineBuffer.push(t);
                        } else {
                            inDialogue  = false;
                            currentChar = null;
                        }
                    }

                    sc.cast = [...sceneCast];

                    // Build co-presence matrix
                    const castArr = [...sceneCast];
                    for (let a = 0; a < castArr.length; a++) {
                        for (let b = a+1; b < castArr.length; b++) {
                            const key = [castArr[a],castArr[b]].sort().join('|||');
                            sceneMatrix[key] = (sceneMatrix[key]||0) + 1;
                        }
                    }
                }

                // Build sorted cast list
                const allNames = Object.keys(charScenes);
                const totalScenes = scenes.length;

                const castList = allNames.map(name => {
                    const sceneSet  = charScenes[name] || new Set();
                    const sceneCount = sceneSet.size;
                    const firstScene = charFirst[name] || 0;
                    const lastScene  = charLast[name]  || 0;
                    const span       = lastScene - firstScene;
                    const lines      = charLines[name]  || 0;
                    const words      = charWords[name]  || 0;

                    // Role inference: composite score
                    const sceneRatio   = sceneCount / Math.max(1, totalScenes);
                    const spanRatio    = span       / Math.max(1, totalScenes);
                    const dialogRatio  = lines / Math.max(1, Math.max(...Object.values(charLines)));

                    let role = 'Bit';
                    if (sceneRatio >= 0.40 || (sceneRatio >= 0.25 && dialogRatio >= 0.40))        role = 'Lead';
                    else if (sceneRatio >= 0.15 || (sceneRatio >= 0.08 && dialogRatio >= 0.20))   role = 'Supporting';
                    else if (sceneRatio >= 0.05 || lines >= 5)                                     role = 'Featured';
                    else if (sceneCount >= 2)                                                       role = 'Day Player';

                    return {
                        name, role,
                        scenes_count:  sceneCount,
                        dialog_lines:  lines,
                        dialog_words:  words,
                        first_scene:   firstScene,
                        last_scene:    lastScene,
                        story_span:    span,
                        scenes_set:    sceneSet,
                    };
                });

                // Sort: Lead first, then by scene count
                const roleOrder = {Lead:0,Supporting:1,Featured:2,'Day Player':3,Bit:4};
                castList.sort((a,b) => (roleOrder[a.role]||5) - (roleOrder[b.role]||5) || b.scenes_count - a.scenes_count);

                return { all: castList, charScenes, sceneMatrix };
            },

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            //  RELATIONSHIP ANALYSIS
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            _analyzeRelationships(scenes, castData) {
                const pairs = Object.entries(castData.sceneMatrix)
                    .map(([key, count]) => {
                        const [a,b] = key.split('|||');
                        const aLines = castData.all.find(c=>c.name===a)?.dialog_lines || 0;
                        const bLines = castData.all.find(c=>c.name===b)?.dialog_lines || 0;
                        return { a, b, scenes_together: count, dialog_ratio: aLines/(aLines+bLines+0.001) };
                    })
                    .filter(p => p.scenes_together >= 1)
                    .sort((a,b) => b.scenes_together - a.scenes_together)
                    .slice(0, 20);

                // Protagonist = cast member with most scenes + earliest appearance + most dialogue
                const protagonist = castData.all.find(c => c.role === 'Lead') || castData.all[0];

                // Narrative clusters: groups sharing 3+ scenes
                const clusters = [];
                const pairsByPerson = {};
                pairs.forEach(p => {
                    if (!pairsByPerson[p.a]) pairsByPerson[p.a] = [];
                    if (!pairsByPerson[p.b]) pairsByPerson[p.b] = [];
                    if (p.scenes_together >= 3) {
                        pairsByPerson[p.a].push(p.b);
                        pairsByPerson[p.b].push(p.a);
                    }
                });
                if (protagonist) {
                    const clusterMembers = [protagonist.name, ...(pairsByPerson[protagonist.name]||[])];
                    if (clusterMembers.length > 1) clusters.push({ members: clusterMembers });
                }

                return { pairs, protagonist: protagonist?.name || null, clusters };
            },

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            //  ELEMENT EXTRACTION â€” comprehensive keyword library
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            _GENRES: {
                'Action / Thriller': ['gun','shoot','explosion','chase','fight','bomb','assassin','hostage','spy','heist','combat','bullet','weapon','flee','pursuit'],
                'Horror': ['monster','blood','scream','ghost','haunted','kill','dead','murder','dark','terror','creature','possessed','demon','curse','asylum'],
                'Comedy': ['laugh','joke','funny','hilarious','absurd','gag','silly','prank','awkward','bumbling','slapstick','wit','humor'],
                'Romance': ['love','kiss','romantic','heart','relationship','date','wedding','affair','passion','embrace','feelings','together'],
                'Sci-Fi': ['space','robot','alien','future','technology','laser','planet','orbit','spacecraft','android','AI','digital','cyborg','warp','quantum'],
                'Drama': ['family','struggle','conflict','emotion','crisis','life','death','loss','hope','change','journey','redemption'],
                'War': ['soldier','battle','war','military','army','bomb','enemy','front','mission','trench','officer','command','attack'],
                'Crime': ['detective','police','crime','murder','evidence','suspect','trial','prison','gang','drug','investigation','interrogation'],
                'Western': ['cowboy','sheriff','outlaw','saloon','frontier','ranch','desert','horseback','gunfight','bounty','marshal'],
                'Period / Historical': ['century','era','kingdom','empire','royalty','medieval','ancient','dynasty','revolution','victorian','colonial'],
                'Psychological': ['mind','reality','illusion','obsession','paranoia','therapy','subconscious','memory','identity','hallucination'],
                'Fantasy': ['magic','dragon','wizard','enchanted','kingdom','quest','spell','creature','prophecy','realm','sword'],
            },

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            //  ELEMENT KEYWORD LIBRARIES â€” Production-grade, context-aware
            //  Designed by role: Producer, AD, Props Master, Costume, SFX
            //  IMPORTANT: These are SPECIFIC actionable items, not generic words.
            //  All extracted from ACTION LINES only (never dialogue / character cues).
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

            // HAND PROPS â€” items characters physically handle on screen
            // Only specific, identifiable objects that a prop master would track.
            // NOT: generic body parts, emotions, abstract nouns, or common verbs.
            _PROPS: new Set([
                // Weapons (hero props â€” specific, trackable)
                'gun','pistol','revolver','rifle','shotgun','assault rifle','sniper rifle',
                'handgun','silencer','suppressor','knife','switchblade','hunting knife',
                'machete','sword','katana','dagger','axe','hatchet','crowbar','bat',
                'baseball bat','brass knuckles','taser','stun gun','baton','nightstick',
                'grenade','bomb','explosive','detonator','crossbow','arrow','bow',
                // Communications & Electronics
                'phone','cell phone','mobile phone','smartphone','burner phone',
                'laptop','tablet','computer','keyboard','hard drive','flash drive',
                'walkie talkie','two-way radio','earpiece','radio','satellite phone',
                'camera','camcorder','recorder','tape recorder','digital recorder',
                'binoculars','telescope','night vision','scope','drone',
                // Documents & Media
                'envelope','letter','note','document','contract','file','folder',
                'briefcase','notebook','diary','journal','ledger','manuscript',
                'map','blueprint','photograph','photo','passport','id card','badge',
                'ticket','boarding pass','warrant','subpoena','newspaper','magazine',
                // Personal Items (character-specific, tracked by costume/props)
                'wallet','purse','handbag','backpack','duffel bag','suitcase',
                'glasses','sunglasses','watch','ring','necklace','locket','bracelet',
                'key','keys','keycard','lighter','cigarette','cigar','flask',
                // Medical / Tactical
                'syringe','needle','vial','pills','medicine','first aid kit',
                'handcuffs','zip ties','rope','chain','tape','duct tape',
                'mask','gas mask','respirator','helmet','body armor',
                // Money & Valuables
                'money','cash','bills','briefcase full','bag of money','drug money',
                'jewels','diamonds','gems','safe','lockbox','vault key',
                // Tools & Equipment
                'flashlight','torch','matches','crowbar','hammer','lock pick',
                'rope','grappling hook','climbing gear','parachute','oxygen tank',
                // Food & Drink (when plot-specific / hero item)
                'poison','poisoned drink','spiked drink','vial of poison',
                // Specialty / Period Props
                'lantern','candle','candelabra','pocket watch','quill','scroll',
                'bible','cross','rosary','talisman','amulet',
                // Coffin / Death props
                'coffin','casket','urn','body bag',
                // Medical (when story-specific)
                'wheelchair','crutches','stethoscope','scalpel','defibrillator',
                // Weapons of mass destruction (script flags)
                'nuclear device','dirty bomb','bioweapon','chemical weapon',
            ]),

            _PROP_INTERACTION_VERBS: new Set([
                'picks up','pick up','picked up','grabs','grabbed','grab','holds','held','hold',
                'pulls out','pulls','pulled','pulls from','reaches for','reaches into','reach for',
                'takes','taken','take','lifts','lifted','lift','clutches','clutch','clutched',
                'brandishes','brandish','waves','waved','wave','points','pointed','aims','aimed',
                'fires','fired','shoots','shot','draws','drew','unsheathes','unholsters',
                'opens','opened','closes','closed','reads','reading','read','writes','writing','wrote',
                'puts','places','sets down','sets','drops','dropped','throws','threw','tosses','tossed',
                'uses','used','use','operates','operated','carries','carried','carry',
                'hands','handing','receives','received','passes','passed','gives','gave','give',
                'pulls on','puts on','dons','wears','wearing','wore','slips on','slips into',
                'looks at','examines','examined','inspects','presses','pressed','types','typed',
                'dials','dialed','answers','answered','hangs up','hangs','stuffs','shoves into',
                'tears','tore','rips','ripped','breaks','broke','smashes','smashed','opens up',
                'slides','slid','pushes','pushed','pulls out of','tucks','tucked','stashes',
                'loads','loaded','cocks','cocked','holsters','pockets','pocketed',
                'reaches into his','reaches into her','reaches into their',
                'pulls a','pulls the','grabs a','grabs the','holds a','holds the','holds up',
                'produces','produced','retrieves','retrieved','extracts','extracted',
                'snaps','snapped','tosses aside','throws down','puts away','puts back',
                'wraps','wrapped','ties','tied','cuts with','cuts the','saws','drills',
                'injects','injected','stabs with','strikes with','hits with','beats with',
                'lights','lit','ignites','lights a','flips open','opens a','opens the',
                'checks','checking','glances at','peeks at','digs into','digs through',
                'waves','flourishes','snatches','snatched','seizes','seized',
            ]),

            // â”€â”€ HAND PROPS: objects characters directly handle â€” requires interaction verb â”€â”€
            _PROPS_INTERACT: new Set([
                // Weapons
                'gun','pistol','revolver','rifle','shotgun','carbine','handgun','firearm','weapon',
                'knife','switchblade','blade','sword','dagger','machete','axe','hatchet','crowbar',
                'baseball bat','baton','club','pipe','mace','spear','bow','crossbow','arrow',
                'grenade','bomb','explosive','device','detonator','trigger',
                // Bags & cases
                'briefcase','suitcase','duffel bag','backpack','satchel','bag','purse','handbag',
                'messenger bag','tote','attache','case','box','crate','package','parcel',
                // Communication devices
                'phone','cell phone','mobile','cellphone','smartphone','burner phone','telephone',
                'walkie talkie','radio','walkie-talkie','two-way','earpiece','receiver',
                'laptop','computer','tablet','iPad','screen','monitor','keyboard',
                // Documents & media
                'envelope','letter','note','document','file','folder','papers','documents',
                'notebook','diary','journal','ledger','logbook','manifest','report',
                'map','blueprint','plans','photograph','photo','picture','photo album',
                'book','newspaper','magazine','pamphlet','brochure','manual','script',
                'flash drive','USB','disk','hard drive','memory card','tape','disc',
                // Glasses & optics
                'glasses','sunglasses','binoculars','microscope','telescope','monocle','scope',
                // Timepieces & jewelry
                'watch','wristwatch','pocket watch','locket','amulet','ring','necklace',
                // Keys & locks
                'key','keys','keycard','lock','padlock','combination','handcuffs','cuffs',
                // Food & drink
                'bottle','flask','canteen','cup','mug','glass','tumbler','wine glass','champagne',
                'food','sandwich','cigarette','cigar','joint','pipe','lighter','matches',
                // Medical
                'syringe','needle','injection','medicine','pills','medication','bandage',
                'stethoscope','scalpel','forceps','first aid kit','inhaler','mask',
                // Money & valuables
                'money','cash','bills','coins','wallet','credit card','badge','ID','passport',
                'ticket','contract','deed','will','certificate','medal','trophy',
                // Tools
                'hammer','wrench','screwdriver','drill','saw','pliers','lockpick',
                'rope','chain','zip tie','cable','wire','cord',
                // Writing instruments
                'pen','pencil','marker','chalk','paintbrush','brush',
                // Photo & recording
                'camera','camcorder','recorder','tape recorder','microphone','headphones',
                'earphones','earbuds','hearing aid',
                // Personal items
                'umbrella','cane','walking stick','crutches','wheelchair',
                'cross','rosary','bible','holy water','talisman',
                // Miscellaneous
                'clipboard','form','receipt','check','invoice',
                'stopwatch','compass','GPS','remote control','remote',
                'flashlight','torch','lantern','candle',
            ]),

            // â”€â”€ CONTEXTUAL PROPS: only tag if clear interaction verb in SAME sentence â”€â”€
            _PROPS_CONTEXT_ONLY: new Set([
                'screen','television','tv','monitor','projector','display',
                'computer','laptop','machine','equipment','tool',
                'glass','bottle','cup','plate','tray','bowl','pan','pot',
                'table','chair','desk','cabinet','drawer','shelf',
                'door','window','curtain','blinds','lock','handle',
                'painting','artwork','frame','mirror','clock',
                'flowers','wreath','candles','coffin','casket','urn',
                'sculpture','statue','figurine','vase',
                'food','drink','meal','water',
                'tape','bandage',
            ]),

            // â”€â”€ SET DRESSING WORDS: almost never hero props â”€â”€
            _SET_DRESSING: new Set([
                'wall','ceiling','floor','ground','stairs','steps','hallway','corridor',
                'door','doorway','window','windowsill','curtain','blinds','shutters','skylight',
                'table','desk','chair','sofa','couch','armchair','bench','stool',
                'lamp','light','chandelier','sconce','overhead light','streetlight',
                'bookshelf','shelf','cabinet','closet','dresser','armoire',
                'bed','mattress','pillow','blanket','comforter','bedspread',
                'rug','carpet','tile','hardwood','marble','concrete',
                'painting','portrait','artwork','mural','tapestry','poster','photo on wall',
                'clock on wall','mirror on wall','mirror',
                'plant','tree','bushes','flower pot','potted plant',
                'vase','decorative','ornament','figurine on shelf',
                'television set','tv set','computer on desk','monitor on desk',
                'kitchen','stove','refrigerator','sink','counter','countertop',
            ]),

            // â”€â”€ PRODUCER FLAGS: budget/schedule risk indicators â”€â”€
            _PRODUCER_FLAGS: {
                locationMove: new Set([
                    'the next day','meanwhile','later that day','the following','hours later',
                    'across town','across the city','downtown','uptown','another part of',
                ]),
                childActor: new Set([
                    'a child','young boy','young girl','little girl','little boy',
                    'the kid','the children','children play','kids run','toddler','infant',
                    'baby','newborn','child actor','minor',
                ]),
                period: new Set([
                    '1800s','1900s','1910s','1920s','1930s','1940s','1950s','1960s','1970s','1980s',
                    '1990s','nineteenth century','twentieth century','civil war','world war',
                    'great depression','prohibition','ancient','medieval','victorian','edwardian',
                ]),
                crowd: new Set([
                    'crowd of','hundreds of people','thousands of','large gathering',
                    'crowded','filled with people','packed','mob','riot','protest',
                    'audience','spectators','onlookers','bystanders','background artists',
                ]),
                weather: new Set([
                    'in the rain','pouring rain','heavy rain','driving rain','downpour',
                    'snowfall','blizzard','in the snow','snow falls','covered in snow',
                    'fog rolls in','thick fog','foggy','mist','misty morning',
                    'storm','thunderstorm','lightning strikes','wind howls','hurricane',
                ]),
                water: new Set([
                    'underwater','submerged','in the water','enters the water','jumps into',
                    'swims','swimming','pool scene','river scene','ocean scene','lake scene',
                    'boat scene','dock scene','drowning',
                ]),
            },

            // â”€â”€ CONTEXT WINDOW: sentence splitter for verb proximity check â”€â”€
            _getSentences(text) {
                return text.split(/(?<=[.!?])\s+|(?<=\n)/);
            },

            // â”€â”€ CONTEXT-AWARE PROP DETECTION â”€â”€
            _propMatchContext(propWord, text, sentences) {
                const pw = propWord.toLowerCase();
                for (const sentence of sentences) {
                    const s = sentence.toLowerCase();
                    if (!s.includes(pw)) continue;
                    for (const verb of this._PROP_INTERACTION_VERBS) {
                        if (s.includes(verb)) return true;
                    }
                }
                return false;
            },

            // â”€â”€ PRODUCTION FLAGS â€” special producer attention items â”€â”€
            _PROD_FLAGS: {
                'location_permit': new Set(['public street','highway','freeway','bridge','park','government building','courthouse','police station','hospital exterior','school exterior','airport exterior','subway station','train station','beach','national park','monument','landmark','Times Square','downtown','busy intersection','mall','shopping center']),
                'minor_in_scene': new Set(['child','children','baby','infant','toddler','young girl','young boy','teenage','teenager','teen','minor','underage','twelve year old','thirteen year old','fourteen year old','fifteen year old','sixteen year old','seventeen year old','kid','kids']),
                'intimacy': new Set(['kiss','kissing','intimate','making love','sex scene','nude','nudity','topless','undress','undressing','in bed together','bedroom scene','sexual']),
                'weapons_handling': new Set(['fires gun','draws weapon','aims gun','points gun','loads gun','chambers round','cocks hammer','brandishes','knife to throat','gunpoint','at gunpoint','armed','draws knife']),
                'crowd': new Set(['crowd','hundreds','thousands','massive crowd','mob','rally','protest','parade','concert crowd','stadium','arena','full of people','packed','swarming','extras','background actors']),
                'water_safety': new Set(['swimming pool','lake','river','ocean','sea','swims','swimming','drowning','underwater','flash flood','flood','rapids','waterfall','caught in current','waves']),
            },

            // VEHICLES â€” specific identifiable vehicles requiring transport/coordination
            _VEHICLES: new Set([
                // Cars
                'car','sedan','suv','sports car','muscle car','getaway car',
                'police car','cop car','squad car','patrol car','undercover car',
                'taxi','cab','uber','limo','limousine','stretch limo',
                'ambulance','fire truck','firetruck','paramedic vehicle',
                'pickup truck','pickup','van','cargo van','panel van',
                'motorcycle','motorbike','dirt bike','chopper bike',
                'bicycle','bike','e-bike','scooter','moped',
                // Large vehicles
                'bus','school bus','city bus','semi truck','semi','eighteen wheeler',
                'tractor trailer','delivery truck','armored truck','armored car',
                'military vehicle','humvee','hummer','tank','armored personnel carrier',
                // Off-road / special
                'jeep','atv','quad','four-wheeler','dune buggy','golf cart',
                'forklift','bulldozer','tractor','combine harvester',
                // Watercraft
                'boat','speedboat','motorboat','rowboat','canoe','kayak',
                'yacht','sailboat','fishing boat','ferry','houseboat',
                'ship','cargo ship','container ship','submarine',
                'jet ski','wave runner','inflatable raft',
                // Aircraft
                'helicopter','chopper','medevac helicopter','military helicopter',
                'plane','airplane','private jet','commercial airliner','fighter jet',
                'biplane','crop duster','seaplane','cargo plane',
                'hot air balloon','hang glider','paraglider',
                // Rail / Transit
                'train','subway','metro','trolley','cable car','locomotive','freight train',
                // Period vehicles
                'horse-drawn carriage','stagecoach','buggy','chariot',
                'steam engine','old locomotive',
            ]),

            // PRACTICAL SFX â€” physical effects requiring on-set coordination (SFX dept)
            // Distinguish from VFX (post-production) and from story description words
            _SFX: new Set([
                // Fire & Pyrotechnics (require licensed pyro)
                'explosion','pyrotechnics','pyro','fireball','squib','squibs',
                'practical fire','fire gag','controlled burn','gas fire','flame bar',
                'flash pot','flash bang','flash powder','mortar blast',
                // Blood & Gore (practical FX makeup/SFX)
                'blood squib','blood gag','blood effect','blood pack','blood pump',
                'practical blood','gore effect','severed','amputee gag',
                // Atmospheric (machines/equipment required)
                'smoke machine','fog machine','rain machine','rain tower','water rain',
                'wind machine','wind fan','snow machine','artificial snow','foam machine',
                'haze machine','atmosphere','practical haze',
                // Breakaways & Breakdowns (prop/SFX)
                'breakaway glass','sugar glass','breakaway chair','breakaway bottle',
                'stunt glass','destructible','rigged to break','practical break',
                // Water work (water safety officer required)
                'underwater sequence','underwater scene','water tank','submerged',
                'flooding scene','water stunt','swimming stunt','drowning gag',
                // Crashes & Impacts (SFX rigged)
                'car crash rigged','vehicle flip','car rollover','pipe ramp',
                'cannon roll','precision driving','vehicle destruction',
                // Air / Falling (rigging dept)
                'wire work','wirework','wires','flying rig','descender','fall pad',
                // Bullet hits
                'bullet hit','bullet hole','practical impact','hit marker',
            ]),

            // ANIMALS â€” all animals requiring animal wrangler on set
            _ANIMALS: new Set([
                // Dogs
                'dog','dogs','puppy','puppies','german shepherd','labrador','rottweiler',
                'guard dog','attack dog','police dog','k-9','k9',
                // Horses (horse master required)
                'horse','horses','stallion','mare','foal','pony',
                // Cats
                'cat','cats','kitten','kittens',
                // Wild / Exotic (special permits)
                'bear','grizzly bear','black bear','wolf','wolves','lion','tiger','leopard',
                'panther','cougar','mountain lion','alligator','crocodile','snake','python',
                'cobra','boa constrictor','anaconda','shark','shark tank',
                'elephant','rhinoceros','hippo','gorilla','chimpanzee','monkey',
                // Birds
                'eagle','hawk','falcon','owl','raven','crow','parrot','macaw','vulture',
                'pigeon','dove','trained bird',
                // Farm Animals
                'cow','bull','sheep','pig','goat','chicken','rooster','duck','goose','turkey',
                // Rodents
                'rat','rats','mouse','mice','rabbit','rabbits',
                // Aquatic
                'fish tank','aquarium','trained dolphin','seal','sea lion',
                // Insects (trained / wrangled)
                'swarm of bees','bee swarm','wasp nest','spider','tarantula',
                'cockroach','scorpion',
            ]),

            // STUNTS â€” physical action requiring stunt coordinator oversight
            // Specific enough that a stunt coordinator would flag them.
            _STUNTS: new Set([
                // Fights (stunt coordinator required)
                'fight scene','fight choreography','hand-to-hand combat','fistfight',
                'brawl','melee','punch','punches','kick','kicks','wrestling','grappling',
                'choke hold','strangle','chokehold','throws','takedown','combat sequence',
                'martial arts','karate','judo','boxing','mma','knife fight','sword fight',
                // Firearms (on-set armourer required)
                'gun battle','gunfight','shootout','shoot out','fire fight',
                'weapons training','gun handling','draw weapon',
                // Falls & Heights (safety equipment required)
                'high fall','fall from height','rooftop chase','rooftop jump',
                'staircase fall','tumble down stairs','cliff jump','bridge jump',
                'balcony fall','window jump','building jump',
                // Vehicles (stunt driver required)
                'car chase','vehicle chase','car crash','vehicle crash','motorcycle chase',
                'car stunt','vehicle stunt','controlled crash','handbrake turn','skid',
                'car flip','motorcycle stunt','horseback stunt','horse fall',
                // Running & Evasion
                'foot chase','parkour','free running','rooftop run','obstacle run',
                // Explosions & Fire
                'stunt performer on fire','full body burn','fire stunt',
                // Wire work
                'wire stunt','wirework stunt','flying stunt','aerial stunt',
                'harness work','rappel','rope descent','zipline stunt',
                // Water
                'water stunt','underwater stunt','swimming stunt','near drowning',
                // Crowds
                'crowd stampede','riot stunt','mass brawl',
                // Other
                'stunt double','stunt performer','stunt coordinator',
                'controlled demolition','building collapse stunt',
            ]),

            // SPECIAL MAKEUP & PROSTHETICS â€” requires advance makeup FX dept time
            _MAKEUP: new Set([
                // Prosthetics (lead time + artist required)
                'prosthetic','prosthetics','full facial prosthetic','appliance','foam latex',
                'silicone prosthetic','bald cap','baldcap','forehead piece','nose piece',
                // Aging / transformation
                'aging makeup','old age makeup','age transformation','de-aged','young version',
                // Injuries / Gore
                'wound makeup','bruise makeup','cut makeup','scar makeup','scar tissue',
                'burn victim makeup','gruesome wound','blood and gore','gore makeup',
                'compound fracture gag','bone protruding',
                // Character FX
                'zombie makeup','creature makeup','monster makeup','alien makeup',
                'demon makeup','deformity makeup','full body makeup','body paint',
                // Hair (requires specialist)
                'wig','full wig','period wig','lace front wig','facial hair piece',
                'beard piece','mustache piece','hairpiece','hair replacement',
                // Tattoo & markings
                'tattoo transfer','full tattoo coverage','tattoo removal makeup',
                // Special
                'fx makeup','special effects makeup','effects makeup',
                'period accurate makeup','historical makeup',
            ]),

            // WARDROBE â€” costume department flags (specific period/specialty costumes)
            // Basic modern clothing is NOT flagged; only items requiring specialist work.
            _WARDROBE: new Set([
                // Period / Historical (require research, specialist fitting)
                'period costume','period dress','period wardrobe','historical costume',
                'victorian costume','edwardian costume','regency','elizabethan',
                'medieval armor','medieval costume','renaissance costume',
                '1920s costume','1930s costume','1940s costume','1950s costume',
                '1960s costume','1970s costume','1980s costume','1990s costume',
                // Uniforms (coordinate with military / institution advisors)
                'military uniform','army uniform','navy uniform','dress uniform',
                'police uniform','fbi uniform','swat gear','tactical gear',
                'prison uniform','prison jumpsuit','guard uniform',
                'medical scrubs','surgical gown','lab coat','hazmat suit',
                'firefighter gear','fire suit','astronaut suit','spacesuit',
                // Specialty / Hero Costumes
                'superhero costume','superhero suit','villain costume',
                'monster suit','creature suit','full body suit','zentai suit',
                'armor','battle armor','chainmail','suit of armor',
                'wedding dress','wedding gown','formal wear','black tie','white tie',
                'evening gown','ball gown','tuxedo','full dress',
                // Swimwear / Underwater
                'swimsuit','bikini','wetsuit','diving suit','scuba gear',
                // Disguises (multiple looks = continuity tracking)
                'disguise','undercover outfit','character disguise','costume change',
                'multiple looks','quick change','quick-change',
            ]),

            // VFX â€” visual effects requiring post-production (flag for VFX budget)
            _VFX: new Set([
                // Environment replacement
                'green screen','blue screen','chroma key','chromakey','virtual background',
                'led volume','led wall','stage volume','skybox replacement','sky replacement',
                'matte painting','digital matte','environment extension','set extension',
                // Digital characters & creatures
                'cgi character','cgi creature','digital creature','fully cg','fully cgi',
                'animated character','creature animation','digital double','cg double',
                'motion capture','mocap','performance capture',
                // De-aging / Aging (expensive, VFX heavy)
                'de-aging','digital de-age','cg youth','age reversal vfx',
                'cg aging','digital aging',
                // Invisible effects (common but budget-significant)
                'wire removal','rig removal','object removal','digital remove',
                'crowd replication','digital crowd','stadium fill',
                // Particle / environment
                'cg fire','digital fire','vfx explosion','cg explosion',
                'digital water','water simulation','vfx water',
                'cg snow','digital snow','particle snow',
                'cg rain','digital rain',
                // Sci-fi / fantasy
                'force field','energy beam','laser blast','lightsaber','portal','wormhole',
                'teleportation','cg portal','cg wormhole','digital transformation',
                'morphing effect','shape shifting','digital morph',
                'invisible effect','transparency effect','cg invisibility',
                'hologram','holographic display','augmented reality display',
                // Compositing intensive
                'split screen','day for night','digital day for night',
                'face replacement','face swap','head replacement',
                // Miniatures (physical but VFX-led)
                'miniature shot','scale model shot','model explosion',
            ]),

            // SOUND â€” production sound notes (flag for sound dept / post)
            _SOUND: new Set([
                'voiceover','voice over','v.o.','narration','narrator',
                'playback','music playback','on-screen music','live performance',
                'concert scene','band performance','orchestra performance',
                'adr required','adr scene','looping','dialogue replacement',
                'sound design','atmospheric sound','sound effect',
                'phone call','intercutting phone','intercut phone',
                'radio broadcast','tv broadcast','onscreen television',
                'crowd walla','crowd noise','walla','buzz track',
                'silence','complete silence','dead silent','absolute quiet',
            ]),

            // NEW: EXTRAS & CROWD â€” estimate scale, extras casting needed
            _EXTRAS: new Set([
                // Large crowds (100+)
                'crowd','large crowd','massive crowd','huge crowd','sea of people',
                'stadium crowd','arena crowd','concert crowd','protest crowd','march',
                'riot','mob','angry mob','gathering crowd','flash mob',
                // Medium crowds (20-100)
                'party guests','wedding guests','funeral mourners','church congregation',
                'restaurant patrons','bar patrons','club crowd','nightclub crowd',
                'market crowd','street crowd','pedestrians','bystanders',
                'passengers','commuters','shoppers',
                // Military / Institutional
                'soldiers','troops','army','battalion','squad','platoon','regiment',
                'police officers','swat team','guards','security guards',
                'prisoners','inmates','refugees','evacuees',
                // Extras (direct script references)
                'extras','background artists','featured extras','supporting cast',
                'townspeople','villagers','citizens','spectators','audience',
                // Events
                'gala','banquet','formal dinner','conference','summit','rally',
                'graduation ceremony','awards ceremony','press conference',
            ]),

            // NEW: SPECIAL EQUIPMENT â€” camera + grip equipment requiring advance booking
            _SPECIAL_EQUIP: new Set([
                // Camera rigs
                'crane shot','camera crane','technocrane','jib arm','jib shot',
                'dolly shot','tracking shot','camera dolly','dolly track',
                'steadicam','stabilizer shot','gimbal','handheld run',
                'drone shot','aerial shot','fpv drone','quadcopter',
                'helicopter shot','aerial photography','aerial filming',
                // Underwater
                'underwater camera','underwater housing','underwater shoot',
                'submersible camera','diving camera','underwater cinematography',
                // High speed
                'high speed camera','slow motion camera','phantom camera',
                'overcranked','undercranked','ramping speed',
                // Remote / Special
                'car mount','vehicle mount','bumper cam','hood cam','trunk cam',
                'head cam','body cam mounted','gopro mount','action cam',
                'timelapse','motion control','motion control camera',
                'snorkel lens','periscope lens','macro photography',
                // Lighting rigs
                'condor','condor lift','aerial lighting','skylight',
                'day exterior','large exterior','massive exterior',
            ]),

            // NEW: LOCATION / PERMIT FLAGS â€” locations requiring advance permits or wrangling
            _LOCATION_FLAGS: new Set([
                // Public spaces (permit required)
                'public street','city street','downtown','highway','freeway','interstate',
                'bridge','overpass','intersection','crossroads','subway station',
                'train station','airport','bus station','bus terminal',
                'public park','national park','state park','park exterior',
                // Water / coastal (water safety + permits)
                'beach','ocean','sea','shoreline','harbor','marina','dock','pier',
                'river','lake','reservoir','dam','waterfall','swimming pool',
                // Government / institutional
                'government building','courthouse','police station','fire station',
                'hospital exterior','school exterior','military base',
                'federal building','capitol','city hall',
                // Landmarks / private (location fee + permits)
                'rooftop','rooftop location','building rooftop','skyscraper',
                'museum','library','restaurant interior','hotel lobby',
                'church','cathedral','temple','mosque','synagogue',
                // Industrial
                'factory','warehouse','industrial zone','power plant','refinery',
                'construction site','building under construction','scaffolding',
                // Moving vehicles / transit
                'moving train','moving bus','inside helicopter','inside aircraft',
                'boat interior','yacht interior',
            ]),

            // Words to EXCLUDE from element detection (common false positives)
            // These appear in scripts constantly but are NOT production elements
            _EXCLUSIONS: new Set([
                'shot','shots','shoot','shooting','the shot','a shot','one shot',
                'fire','fires','fired','firing','on fire','catches fire',
                'smoke','smokes','smoked','smoking',
                'glass','glasses','water','blood','hit','hits','hitting',
                'fall','falls','fell','falling','break','breaks','breaking',
                'run','runs','running','move','moves','moving',
                'light','lights','lighting','lit','dark','darkness',
                'door','doors','window','windows','wall','walls','floor','ceiling',
                'table','chair','chairs','desk','couch','sofa','bed','room',
                'building','house','home','office','car','truck','bus',
                'man','woman','men','women','person','people','someone','everyone',
                'hand','hands','arm','arms','face','eyes','eye','head','body',
                'moment','second','minute','hour','day','night','time',
                'voice','sound','noise','look','looks','looking','see','sees',
                'word','words','line','lines','cut','cuts',
            ]),


            _extractElements(scenes) {
                for (const sc of scenes) {
                    // â”€â”€ Step 1: Separate action lines from dialogue â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                    // This is critical â€” props/sfx/etc should only be extracted
                    // from ACTION LINES, not from dialogue or character cues.
                    const actionLines = [];
                    const dialogLines = [];
                    let inDialog = false;

                    // Estimate dialogue indent from this scene
                    const indents = sc._body.map(l => l.match(/^(\s*)/)[1].length);
                    const maxIndent = Math.max(...indents, 0);
                    // In standard screenplay format dialogue is typically indented 25-35%
                    const dialogIndentThreshold = maxIndent * 0.45;

                    for (const l of sc._body) {
                        const t = l.trim();
                        if (!t) { inDialog = false; continue; }
                        const indent = l.match(/^(\s*)/)[1].length;

                        // Character CUE = ALL CAPS, short, significantly indented
                        if (t === t.toUpperCase() && t.length < 50
                            && indent >= dialogIndentThreshold
                            && !this._SLUG.test(t)) {
                            inDialog = true;
                            continue; // skip the cue itself
                        }
                        // Parenthetical
                        if (/^\(/.test(t)) { continue; }

                        if (inDialog && indent >= dialogIndentThreshold) {
                            dialogLines.push(l);
                        } else {
                            inDialog = false;
                            actionLines.push(l);
                        }
                    }

                    // â”€â”€ Step 2: Build searchable text from ACTION LINES ONLY â”€â”€â”€â”€
                    const actionText = actionLines.map(l => l.toLowerCase()).join(' ');
                    const actionWords = new Set(actionText.split(/[\s,\.;:!?\(\)\"\'\-]+/).filter(w => w.length > 1));

                    // â”€â”€ Step 3: Multi-word phrase matcher (action lines only) â”€â”€â”€â”€
                    const hasPhrase = (phrase) => actionText.includes(phrase.toLowerCase());
                    const matchSet = (set) => {
                        const results = [];
                        for (const item of set) {
                            if (this._EXCLUSIONS.has(item.toLowerCase())) continue;
                            const found = item.includes(' ')
                                ? hasPhrase(item)
                                : actionWords.has(item.toLowerCase());
                            if (found) results.push(item);
                        }
                        return results;
                    };

                    // â”€â”€ PRODUCTION FLAGS: auto-detect before element extraction â”€â”€
                    sc.prodFlags = [];
                    if (this._PROD_FLAGS) {
                        const flagText = actionText;
                        const flagWords = actionWords;
                        for (const [flagName, flagSet] of Object.entries(this._PROD_FLAGS)) {
                            const found = [...flagSet].find(item =>
                                item.includes(' ') ? flagText.includes(item.toLowerCase()) : flagWords.has(item.toLowerCase())
                            );
                            if (found) sc.prodFlags.push(flagName);
                        }
                    }

                    // Context-aware prop detection (v14_6 algorithm)
                    const sentences = this._getSentences(actionText);
                    const propsInteract = [...this._PROPS_INTERACT].filter(p => {
                        const pw = p.toLowerCase();
                        const present = p.includes(' ') ? hasPhrase(p) : actionWords.has(pw);
                        if (!present) return false;
                        if (this._SET_DRESSING.has(pw)) return false;
                        return this._propMatchContext(pw, actionText, sentences);
                    });
                    const propsContext = [...this._PROPS_CONTEXT_ONLY].filter(p => {
                        const pw = p.toLowerCase();
                        if (!actionWords.has(pw)) return false;
                        if (this._SET_DRESSING.has(pw)) return false;
                        return this._propMatchContext(pw, actionText, sentences);
                    });
                    // Also include old _PROPS set matches for compatibility
                    const propsBase = matchSet(this._PROPS);
                    sc.props = [...new Set([...propsBase, ...propsInteract, ...propsContext])];
                    sc.vehicles     = matchSet(this._VEHICLES);
                    sc.sfx          = matchSet(this._SFX);
                    sc.animals      = matchSet(this._ANIMALS);
                    sc.stunts       = matchSet(this._STUNTS);
                    sc.makeup       = matchSet(this._MAKEUP);
                    sc.wardrobe     = matchSet(this._WARDROBE);
                    sc.vfx          = matchSet(this._VFX);
                    sc.sound        = matchSet(this._SOUND);
                    sc.extras       = matchSet(this._EXTRAS);
                    sc.specialEquip = matchSet(this._SPECIAL_EQUIP);
                    sc.locationFlags= matchSet(this._LOCATION_FLAGS);

                    // â”€â”€ Step 4: Smart HERO PROP detection from ALL-CAPS in action lines â”€â”€
                    // In screenplay format, important props/set pieces are sometimes CAPITALIZED
                    // in action lines on first introduction. We extract these carefully.
                    const knownExclusions = new Set([
                        ...this._NOT_CHAR,
                        'INT','EXT','INT/EXT','DAY','NIGHT','DAWN','DUSK',
                        'THE','AND','BUT','FOR','NOT','WITH','FROM','THAT','THIS',
                        'HAVE','BEEN','OVER','BACK','INTO','UPON','TOWARD','AWAY',
                        'CLOSE','WIDE','SHOT','ANGLE','VIEW','POV','INSERT','TITLE',
                        'FADE','CUT','SMASH','MATCH','DISSOLVE','CONTINUED','CONT',
                        'BEGIN','END','BEFORE','AFTER','WHILE','WHEN','WHERE',
                        'SUDDENLY','SLOWLY','QUICKLY','CAREFULLY','QUIETLY','LOUDLY',
                        'THERE','HERE','JUST','STILL','AGAIN','ANOTHER','SAME',
                        'FIRST','LAST','NEXT','ONCE','TWICE','ONLY','EVEN','ALSO',
                        'LARGE','SMALL','HUGE','TINY','OLD','NEW','YOUNG','DEAD',
                        ...sc.cast
                    ]);

                    const heroProps = new Set();
                    const existingElements = new Set([
                        ...sc.props, ...sc.vehicles, ...sc.animals
                    ].map(p => p.toLowerCase()));

                    for (const l of actionLines) {
                        // Only look at mixed-case lines (action descriptions, not scene headings)
                        const t = l.trim();
                        if (!t || t === t.toUpperCase()) continue;
                        // Find ALL-CAPS words (2+ chars) â€” these are often prop/set introductions
                        const caps = t.match(/\b[A-Z]{2,}\b/g) || [];
                        for (const w of caps) {
                            if (knownExclusions.has(w)) continue;
                            if (w.length < 3 || w.length > 30) continue;
                            // Skip if it's a character name in this scene
                            if (sc.cast.some(c => c.toUpperCase() === w)) continue;
                            // Skip pure numbers or codes
                            if (/^[0-9A-Z\-_]+$/.test(w) && /[0-9]/.test(w)) continue;
                            // Skip common directional/structural words
                            if (/^(DOOR|WALL|FLOOR|TABLE|CHAIR|ROOM|WINDOW|LIGHT|TIME|SIDE|HAND|HEAD|FACE|BODY|STEP|FEET|FOOT|LOOK|MOVE|WALK|STOP|TURN|OPEN|CLOSE|HOLD|TAKE|GIVE|COME|GOES|RUNS|SEES|SAYS|TOLD)$/.test(w)) continue;
                            const wl = w.toLowerCase();
                            if (!existingElements.has(wl)) {
                                heroProps.add(wl);
                            }
                        }
                    }
                    // Add top hero props (limit to 4 to keep it clean)
                    [...heroProps].slice(0, 4).forEach(p => sc.props.push(p));

                    // â”€â”€ Step 5: Extras count estimation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                    // Parse crowd size from action text for producer estimates
                    sc.extrasEstimate = 0;
                    const crowdMatches = actionText.match(/(?:(\d+)\s*(?:people|soldiers|extras|actors|guests|mourners|spectators|passengers|officers|guards|students|worshippers|attendees))|(?:(hundred|hundreds|thousand|thousands)\s*(?:of\s*)?(?:people|soldiers|extras|spectators|crowd))/gi);
                    if (crowdMatches) {
                        for (const m of crowdMatches) {
                            const num = m.match(/\d+/);
                            if (num) sc.extrasEstimate += parseInt(num[0]);
                            else if (/hundred/i.test(m)) sc.extrasEstimate += 200;
                            else if (/thousand/i.test(m)) sc.extrasEstimate += 500;
                        }
                    } else if (sc.extras.length > 0) {
                        // Estimate from crowd type keywords
                        if (/massive|huge|large crowd|thousands|hundreds/i.test(actionText)) sc.extrasEstimate = 150;
                        else if (/crowd|congregation|party guests|wedding|gala|rally|riot|stadium/i.test(actionText)) sc.extrasEstimate = 50;
                        else if (/customers|patrons|passengers|commuters|bystanders/i.test(actionText)) sc.extrasEstimate = 15;
                    }

                    // â”€â”€ Step 6: Permit flag detection â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                    // From location + action text combined
                    const locationText = (sc.location || '').toLowerCase() + ' ' + actionText;
                    sc.permitFlags = [];
                    if (/(?:public )?street|downtown|highway|freeway|intersection|road/i.test(locationText)) sc.permitFlags.push('street permit');
                    if (/beach|ocean|coastline|shoreline|shore/i.test(locationText)) sc.permitFlags.push('coastal/beach permit');
                    if (/(?:national|state) park|public park/i.test(locationText)) sc.permitFlags.push('park permit');
                    if (/airport|airfield|tarmac/i.test(locationText)) sc.permitFlags.push('airport coordination');
                    if (/hospital/i.test(locationText)) sc.permitFlags.push('hospital location');
                    if (/school/i.test(locationText)) sc.permitFlags.push('school location');
                    if (/courthouse|government/i.test(locationText)) sc.permitFlags.push('government location');
                    if (/rooftop|roof/i.test(locationText)) sc.permitFlags.push('rooftop permit');
                    if (/weapons|firearms|guns|explosives|pyro/i.test(actionText)) sc.permitFlags.push('weapons/pyro permit');
                    if (/police|law enforcement|cop/i.test(actionText) && sc.intext === 'EXT') sc.permitFlags.push('police coordination');
                    if (sc.extrasEstimate > 50) sc.permitFlags.push('extras crowd safety');
                    if (sc.animals.length > 0) sc.permitFlags.push('animal wrangler');
                    if (sc.specialEquip.some(e => /aerial|drone|helicopter/i.test(e))) sc.permitFlags.push('FAA/aerial permit');
                }
            },

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            //  PAGE & COMPLEXITY ESTIMATION
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            _estimatePages(scenes) {
                for (const sc of scenes) {
                    const body = sc._body;
                    let actionLines = 0, dialogLines = 0;
                    let inDialog = false;

                    for (const l of body) {
                        const t = l.trim();
                        if (!t) { inDialog = false; continue; }
                        const indent = l.match(/^(\s*)/)[1].length;
                        if (t === t.toUpperCase() && t.length < 50 && !this._SLUG.test(t)) {
                            inDialog = true; continue; // character cue
                        }
                        if (inDialog) { dialogLines++; }
                        else { actionLines++; sc.action_lines++; }
                    }
                    sc.dialog_lines = dialogLines;

                    // Industry standard: 4 action lines = 1/8 page; 6 dialog lines = 1/8 page
                    const actionEighths = actionLines / 4;
                    const dialogEighths = dialogLines / 6;
                    const rawEighths = Math.max(1, Math.round(actionEighths + dialogEighths));
                    sc.pages = rawEighths / 8;

                    // â”€â”€ Production Complexity Scoring (Industry-weighted) â”€â”€â”€â”€â”€â”€
                    // Weights based on actual line-producing cost multipliers:
                    // Stunt/safety > SFX/pyro > VFX > Animals > Vehicles > Cast size
                    let cx = 0;

                    // Cast size (more people = more logistics, turnaround, transport)
                    cx += Math.min(sc.cast.length, 12) * 0.6;  // cap at 12 for diminishing returns

                    // Stunts: HIGHEST multiplier â€” safety oversight, stunt coordinator, insurance
                    cx += sc.stunts.length * 2.5;

                    // Practical SFX: pyro/fire/water â€” licensed operators, safety, prep time
                    cx += sc.sfx.length * 2.0;

                    // VFX: expensive post, but lower on-set impact than pyro
                    cx += sc.vfx.length * 1.4;

                    // Animals: wrangler, permits, unpredictable = high scheduling risk
                    cx += sc.animals.length * 2.0;

                    // Vehicles: transport, rigging, stunt drivers, traffic control
                    cx += sc.vehicles.length * 1.2;

                    // Special makeup/prosthetics: long makeup days, artist cost
                    cx += sc.makeup.length * 1.0;

                    // Wardrobe: costume dept coordination (less than above)
                    cx += sc.wardrobe.length * 0.4;

                    // Extras/crowd: casting, catering, ADs, background wrangling
                    if (sc.extrasEstimate > 200) cx += 5;
                    else if (sc.extrasEstimate > 50) cx += 3;
                    else if (sc.extrasEstimate > 10) cx += 1.5;
                    else if ((sc.extras || []).length > 0) cx += 1;

                    // Special camera equipment: crane, helicopter, underwater, etc.
                    cx += (sc.specialEquip || []).length * 1.5;

                    // Location flags: permits, coordination overhead
                    cx += (sc.permitFlags || []).length * 0.5;

                    // Production flags: special scheduling/legal/safety overhead (from v15_2)
                    if (sc.prodFlags && sc.prodFlags.length > 0) {
                        cx += sc.prodFlags.length * 1.5;
                        if (sc.prodFlags.includes('intimacy'))        cx += 2.0;
                        if (sc.prodFlags.includes('minor_in_scene'))  cx += 1.5;
                        if (sc.prodFlags.includes('crowd'))           cx += 2.0;
                        if (sc.prodFlags.includes('location_permit')) cx += 1.0;
                        if (sc.prodFlags.includes('weapons_handling'))cx += 1.5;
                    }

                    // Page length: longer scenes = more coverage needed
                    cx += sc.pages > 4 ? 2.5 : sc.pages > 2.5 ? 1.5 : sc.pages > 1.5 ? 0.75 : 0;

                    // INT/EXT modifiers
                    if (sc.intext === 'EXT') cx += 0.75;        // weather dependency, daylight
                    if (sc.intext === 'INT/EXT') cx += 0.4;     // partial
                    
                    // Time of day modifiers
                    if (sc.daynight === 'NIGHT') cx += 1.5;         // night ops: generator, lighting, crew fatigue
                    if (sc.daynight === 'DAWN' || sc.daynight === 'DUSK') cx += 1.0; // magic hour = limited window

                    // Combined high-risk combinations (multiplicative flags)
                    if (sc.intext === 'EXT' && sc.daynight === 'NIGHT') cx += 1.5; // night exterior = hardest
                    if (sc.stunts.length > 0 && sc.sfx.length > 0) cx += 1.5;     // stunt + pyro = max safety
                    if (sc.animals.length > 0 && sc.stunts.length > 0) cx += 1.0; // animals in action = danger

                    sc.complexityScore = Math.round(cx * 10) / 10;
                    // Thresholds calibrated to produce realistic distributions:
                    // ~15% HIGH, ~50% MEDIUM, ~35% LOW in a typical feature screenplay
                    sc.complexity = cx >= 10 ? 'HIGH' : cx >= 3.5 ? 'MEDIUM' : 'LOW';
                    // Don't overwrite user override
                    if (sc.complexityOverride) {
                        // score is informational; keep user-set complexity label
                    }
                }
            },

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            //  STORY ARC ANALYSIS
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            _analyzeStoryArc(scenes, castData) {
                const n = scenes.length;
                if (n === 0) return { acts: [], toneMap: [], incitingIncident: null, climax: null, midpoint: null };

                const act1End = Math.floor(n * 0.25);
                const act2Mid = Math.floor(n * 0.50);
                const act2End = Math.floor(n * 0.75);

                const findBreakNear = (target, range=3) => {
                    let best = target, bestScore = -1;
                    for (let i = Math.max(0, target-range); i <= Math.min(n-1, target+range); i++) {
                        let score = 0;
                        if (scenes[i].daynight === 'NIGHT') score += 1;
                        if (scenes[i].intext === 'EXT') score += 0.5;
                        if (scenes[i].complexity === 'HIGH') score += 2;
                        if (i > 0 && scenes[i-1].location !== scenes[i].location) score += 1;
                        if (score > bestScore) { bestScore = score; best = i; }
                    }
                    return best;
                };

                const b1 = findBreakNear(act1End);
                const b3 = findBreakNear(act2End);

                const acts = [
                    { name: 'Act I â€” Setup', start: 0, end: b1, scenes: b1+1 },
                    { name: 'Act II â€” Confrontation', start: b1+1, end: b3, scenes: b3-b1 },
                    { name: 'Act III â€” Resolution', start: b3+1, end: n-1, scenes: n-1-b3 },
                ];

                const act2Scenes = scenes.slice(b1+1, b3+1);
                const midpointScene = [...act2Scenes].sort((a,b) => b.complexityScore - a.complexityScore)[0];
                const climaxScene   = [...scenes.slice(b3)].sort((a,b) => b.complexityScore - a.complexityScore)[0];
                const incitingScene = [...scenes.slice(1, b1+1)].sort((a,b) => b.complexityScore - a.complexityScore)[0];

                const toneMap = acts.map(act => {
                    const actScenes = scenes.slice(act.start, act.end+1);
                    const nightRatio = actScenes.filter(s => ['NIGHT','DUSK','DAWN'].includes(s.daynight)).length / Math.max(1, actScenes.length);
                    const highCXRatio = actScenes.filter(s => s.complexity === 'HIGH').length / Math.max(1, actScenes.length);
                    const avgCX = actScenes.reduce((t,s) => t + (s.complexityScore||0), 0) / Math.max(1, actScenes.length);
                    let tone = 'Building';
                    if (highCXRatio > 0.4) tone = 'Intense';
                    else if (nightRatio > 0.5) tone = 'Dark';
                    else if (avgCX < 2) tone = 'Quiet';
                    return { ...act, nightRatio: Math.round(nightRatio*100), highCXRatio: Math.round(highCXRatio*100), tone };
                });

                const protagonist = castData.all[0];
                let protagonistArc = [];
                if (protagonist) {
                    const pgScenes = castData.charScenes[protagonist.name] || new Set();
                    for (let q = 0; q < 4; q++) {
                        const s = Math.floor(n * q / 4), e = Math.floor(n * (q+1) / 4);
                        let count = 0;
                        for (let i = s; i < e; i++) if (pgScenes.has(i)) count++;
                        protagonistArc.push({ quarter: q+1, presence: Math.round(count/(e-s||1)*100) });
                    }
                }

                return {
                    acts, toneMap,
                    incitingIncident: incitingScene ? `Scene ${incitingScene.num} â€” ${incitingScene.location}` : null,
                    midpoint:         midpointScene ? `Scene ${midpointScene.num} â€” ${midpointScene.location}` : null,
                    climax:           climaxScene   ? `Scene ${climaxScene.num} â€” ${climaxScene.location}` : null,
                    protagonistArc
                };
            },

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            //  SMART SCHEDULE PLAN
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            _buildSchedulePlan(scenes, totalPages) {
                const highCX  = scenes.filter(s => s.complexity === 'HIGH');
                const medCX   = scenes.filter(s => s.complexity === 'MEDIUM');
                const nightSc = scenes.filter(s => ['NIGHT','DAWN','DUSK'].includes(s.daynight));
                const extSc   = scenes.filter(s => s.intext === 'EXT' || s.intext === 'INT/EXT');

                const pagesPerDay = highCX.length > scenes.length * 0.35 ? 2
                    : (highCX.length + medCX.length) > scenes.length * 0.5 ? 3
                    : extSc.length > scenes.length * 0.5 ? 3 : 4;

                const locFreq = {};
                scenes.forEach(s => { locFreq[s.location] = (locFreq[s.location]||0) + 1; });
                const locOrder = Object.entries(locFreq).sort((a,b) => b[1]-a[1]).map(([l]) => l);

                const dayUnit   = scenes.filter(s => !['NIGHT','DAWN','DUSK'].includes(s.daynight));
                const nightUnit = scenes.filter(s => ['NIGHT','DAWN','DUSK'].includes(s.daynight));
                const sortedDay = [...dayUnit].sort((a,b) => (locFreq[b.location]||0) - (locFreq[a.location]||0));

                const dayStrips = [];
                let dayNum = 1, dayPages = 0;
                dayStrips.push({ type:'banner', day:dayNum, isNight:false, text:`DAY ${dayNum} â€” PRINCIPAL PHOTOGRAPHY`, color:'cyan' });

                for (let i = 0; i < sortedDay.length; i++) {
                    const s = sortedDay[i];
                    const sPages = s.pages || 0.125;
                    const prevLoc = i > 0 ? sortedDay[i-1].location : s.location;
                    const locChange = s.location !== prevLoc;
                    if ((dayPages + sPages > pagesPerDay && dayPages > 0) || (locChange && dayPages >= pagesPerDay * 0.7)) {
                        dayNum++; dayPages = 0;
                        dayStrips.push({ type:'banner', day:dayNum, isNight:false, text:`DAY ${dayNum}`, color:'cyan' });
                    }
                    dayPages += sPages;
                    dayStrips.push({ type:'scene', ...s });
                }

                if (nightUnit.length > 0) {
                    const nightStartDay = dayNum + 1;
                    dayStrips.push({ type:'banner', day:nightStartDay, isNight:true, text:`NIGHT UNIT â€” DAY ${nightStartDay}`, color:'violet' });
                    let nightPages = 0, nightDay = nightStartDay;
                    for (const s of nightUnit) {
                        const sPages = s.pages || 0.125;
                        if (nightPages + sPages > pagesPerDay * 0.7 && nightPages > 0) {
                            nightDay++; nightPages = 0;
                            dayStrips.push({ type:'banner', day:nightDay, isNight:true, text:`NIGHT UNIT â€” DAY ${nightDay}`, color:'violet' });
                        }
                        nightPages += sPages;
                        dayStrips.push({ type:'scene', ...s });
                    }
                }

                const locationMoves = [];
                let prevLocation = null;
                for (const strip of dayStrips) {
                    if (strip.type === 'scene' && prevLocation && prevLocation !== strip.location)
                        locationMoves.push({ from: prevLocation, to: strip.location });
                    if (strip.type === 'scene') prevLocation = strip.location;
                }

                const totalShootDays = dayNum + (nightUnit.length > 0 ? Math.ceil(nightUnit.reduce((t,s)=>t+s.pages,0)/(pagesPerDay*0.7)) : 0);
                return {
                    shootDays: totalShootDays, pagesPerDay, strips: dayStrips, locationMoves,
                    nightUnitDays: nightUnit.length > 0 ? Math.ceil(nightUnit.reduce((t,s)=>t+s.pages,0)/(pagesPerDay*0.7)) : 0,
                    hasNightUnit: nightUnit.length > 0, locOrder: locOrder.slice(0,10),
                };
            },

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            //  RISK PROFILING
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            _buildRisks(scenes, storyArc, schedPlan) {
                const risks = [];
                const R = (title, description, mitigation, category, level) => risks.push({
                    id: `RS${Date.now()}${risks.length}`, title, description, mitigation, category, level, resolved: false, source: 'Script Analysis'
                });

                const allStunts  = [...new Set(scenes.flatMap(s => s.stunts))];
                const allAnimals = [...new Set(scenes.flatMap(s => s.animals))];
                const allSFX     = [...new Set(scenes.flatMap(s => s.sfx))];
                const allVFX     = [...new Set(scenes.flatMap(s => s.vfx))];
                const nightCount = scenes.filter(s => ['NIGHT','DAWN','DUSK'].includes(s.daynight)).length;
                const extCount   = scenes.filter(s => s.intext === 'EXT').length;
                const highCX     = scenes.filter(s => s.complexity === 'HIGH').length;
                const ensembleScenes = scenes.filter(s => s.cast.length >= 6).length;
                const hasExplosions = scenes.some(s => s.sfx.some(f => /explo|pyro|bomb|blast/i.test(f)));
                const hasFireSFX    = scenes.some(s => s.sfx.some(f => /fire|flame|burn/i.test(f)));
                const uniqueLocs    = new Set(scenes.map(s => s.location)).size;

                if (allStunts.length > 0)
                    R('Stunt Sequences','Script contains '+allStunts.length+' stunt requirement(s): '+allStunts.slice(0,4).join(', '),
                      'Hire qualified stunt coordinator. Full safety briefings. Dedicated stunt rehearsal days.','Safety', allStunts.length >= 5 ? 'High' : 'Medium');
                if (allAnimals.length > 0)
                    R('Animal Wrangling','Animal requirements: '+allAnimals.slice(0,4).join(', '),
                      'Book AHA-certified trainer. Budget backup animals and extra shooting time.','Logistics','Medium');
                if (hasExplosions)
                    R('Pyrotechnics / Explosives','Script requires live explosive effects.',
                      'Licensed pyrotechnician required. Fire marshal approval. Safety radius plan.','Safety','High');
                if (hasFireSFX)
                    R('Practical Fire Effects','Fire/flame SFX detected.',
                      'SFX coordinator, fire safety officer, medic on set. Water supply standby.','Safety','Medium');
                if (nightCount > scenes.length * 0.3)
                    R('Heavy Night Unit',''+nightCount+' night scenes ('+Math.round(nightCount/scenes.length*100)+'% of script).',
                      'Plan 12hr turnarounds. Budget generator/lighting package. Crew health provisions.','Schedule','Medium');
                if (extCount > scenes.length * 0.5)
                    R('Extensive Exterior Shooting',''+extCount+' exterior scenes require weather contingency.',
                      'Secure weather covers. Schedule buffer days. Insurance weather riders.','Weather','Medium');
                if (uniqueLocs > 20)
                    R('High Location Count',''+uniqueLocs+' unique locations require extensive scouting and permitting.',
                      'Early location scout. Dedicated locations manager. Permit tracker.','Logistics','Medium');
                if (allVFX.length > 5)
                    R('Significant VFX Requirements',''+allVFX.length+' VFX elements detected.',
                      'Lock VFX vendor 6+ weeks pre-production. On-set VFX supervisor. VFX breakdown review.','Budget','High');
                if (highCX > scenes.length * 0.3)
                    R('High Complexity Density',''+highCX+' HIGH complexity scenes ('+Math.round(highCX/scenes.length*100)+'%).',
                      'Add float days to schedule. Detailed prep for high-CX scenes. Advance department meetings.','Schedule','Medium');
                if (ensembleScenes > 3)
                    R('Large Ensemble Scenes',''+ensembleScenes+' scenes with 6+ cast members.',
                      'Coordinate availability early. Wrangling plan for extras/background. Block scheduling.','Logistics','Low');
                if (schedPlan.shootDays > 50)
                    R('Extended Shoot Duration','Estimated '+schedPlan.shootDays+' shoot days.',
                      'Weekly budget reviews. Cost reporting. Producer oversight checkpoints.','Budget','Medium');

                return risks;
            },

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            //  BUILD INSIGHTS
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            _buildInsights(scenes, castData, relationships, storyArc, schedPlan, risks, lines, totalPages) {
                const nights  = scenes.filter(s => ['NIGHT','DAWN','DUSK'].includes(s.daynight));
                const exts    = scenes.filter(s => s.intext === 'EXT');
                const highCX  = scenes.filter(s => s.complexity === 'HIGH');

                const locFreq = {};
                scenes.forEach(s => { locFreq[s.location] = (locFreq[s.location]||0)+1; });
                const recurring  = Object.entries(locFreq).filter(([,c]) => c>=3).sort((a,b)=>b[1]-a[1]).map(([l]) => l);
                const uniqueLocs = Object.keys(locFreq);

                const allStunts  = [...new Set(scenes.flatMap(s => s.stunts))];
                const allAnimals = [...new Set(scenes.flatMap(s => s.animals))];
                const allVFX     = [...new Set(scenes.flatMap(s => s.vfx))];
                const allVehicles= [...new Set(scenes.flatMap(s => s.vehicles))];

                const highBudgetSignals = [
                    schedPlan.shootDays > 60, exts.length > scenes.length * 0.5,
                    allStunts.length > 5, allAnimals.length > 3, allVFX.length > 5,
                    scenes.some(s => s.cast.length > 10),
                ];
                const midBudgetSignals = [
                    schedPlan.shootDays > 25, scenes.some(s => s.vehicles.length > 2 || s.stunts.length > 2),
                    allStunts.length > 0, allAnimals.length > 0,
                ];
                const highCount = highBudgetSignals.filter(Boolean).length;
                const midCount  = midBudgetSignals.filter(Boolean).length;

                let budget = 'Micro (Under $500K)';
                if (highCount >= 3)      budget = 'High ($10M+)';
                else if (highCount >= 2) budget = 'Mid-High ($2Mâ€“$10M)';
                else if (midCount >= 3)  budget = 'Mid ($500Kâ€“$2M)';
                else if (midCount >= 1 || schedPlan.shootDays > 15) budget = 'Low ($100Kâ€“$500K)';

                // Genre
                const allText = scenes.map(s => (s._body||[]).join(' ')).join(' ').toLowerCase();
                const gScores = {};
                for (const [g,kws] of Object.entries(this._GENRES))
                    gScores[g] = kws.filter(k => allText.includes(k)).length;
                const gSorted = Object.entries(gScores).sort((a,b) => b[1]-a[1]);
                let genre = 'Drama';
                if (gSorted[0][1] > 0) {
                    genre = gSorted[1][1] >= gSorted[0][1] * 0.75
                        ? gSorted[0][0] + ' / ' + gSorted[1][0].split('/')[0].trim()
                        : gSorted[0][0];
                }

                // Title: first 50 lines
                const titleSearch = lines.slice(0, 60).map(l => l.trim());
                const title = titleSearch.find(t =>
                    t.length >= 3 && t.length <= 70 && t === t.toUpperCase()
                    && /^[A-Z]/.test(t) && t.split(' ').length <= 8
                    && !this._NOT_CHAR.has(t)
                    && !/^(INT|EXT|FADE|THE END|BY |WRITTEN|DRAFT|PAGE|REVISION|FIRST|FINAL|SHOOTING|PRODUCTION|REGISTERED|WGA|TITLE)/.test(t)
                    && !/^\d/.test(t)
                ) || (this._fileName ? this._fileName.replace(/\.[^.]+$/,'').replace(/[_-]/g,' ').toUpperCase() : 'Untitled');

                // Author
                const authorLine = lines.slice(0, 100).find(l =>
                    /written by|screenplay by|story by|an original/i.test(l)
                );
                const authorIdx = authorLine ? lines.indexOf(authorLine) : -1;
                const author = authorLine
                    ? (lines[authorIdx+1]?.trim() || authorLine.replace(/written by|screenplay by|story by|an original/gi,'').trim() || null)
                    : null;

                // Language
                const sampleText = lines.slice(0, 200).join(' ');
                const nonAscii = (sampleText.match(/[^\x00-\x7F]/g) || []).length;
                const hasNonLatin = /[\u0400-\u04FF\u0370-\u03FF\u4E00-\u9FFF\u0600-\u06FF]/.test(sampleText);
                let detectedLanguage = 'English';
                if (hasNonLatin) {
                    if (/[\u4E00-\u9FFF]/.test(sampleText))       detectedLanguage = 'Chinese';
                    else if (/[\u0600-\u06FF]/.test(sampleText))   detectedLanguage = 'Arabic';
                    else if (/[\u0400-\u04FF]/.test(sampleText))   detectedLanguage = 'Cyrillic / Russian';
                    else if (/[\u0370-\u03FF]/.test(sampleText))   detectedLanguage = 'Greek';
                } else if (nonAscii > 20) {
                    const frScore = (sampleText.match(/\b(le|la|les|un|une|des|est|avec)\b/gi)||[]).length;
                    const esScore = (sampleText.match(/\b(el|la|los|las|un|una|es|con)\b/gi)||[]).length;
                    const deScore = (sampleText.match(/\b(der|die|das|ein|eine|ist|mit)\b/gi)||[]).length;
                    const itScore = (sampleText.match(/\b(il|la|lo|gli|un|una|Ã¨|con)\b/gi)||[]).length;
                    const max = Math.max(frScore, esScore, deScore, itScore);
                    if (max > 5) {
                        if (frScore === max) detectedLanguage = 'French';
                        else if (esScore === max) detectedLanguage = 'Spanish';
                        else if (deScore === max) detectedLanguage = 'German';
                        else if (itScore === max) detectedLanguage = 'Italian';
                    }
                }

                // Tone
                const nightPct = nights.length / Math.max(1, scenes.length);
                const highPct  = highCX.length / Math.max(1, scenes.length);
                const sfxTotal = scenes.flatMap(s=>s.sfx).length;
                let tone = 'Grounded, character-driven';
                if (highPct > 0.4 && sfxTotal > 5)           tone = 'High-octane, visceral';
                else if (highPct > 0.3 && allStunts.length > 3) tone = 'Tense, action-forward';
                else if (nightPct > 0.4)                      tone = 'Dark, atmospheric';
                else if (genre.includes('Comedy'))            tone = 'Light, comedic';
                else if (genre.includes('Romance'))           tone = 'Warm, emotional';
                else if (genre.includes('Horror'))            tone = 'Unsettling, dread-filled';
                else if (genre.includes('Psychological'))     tone = 'Cerebral, disorienting';
                else if (genre.includes('War'))               tone = 'Gritty, intense';

                // DOD
                const strips = schedPlan.strips || [];
                const castDOD = {};
                castData.all.forEach(c => { castDOD[c.name] = []; });
                let shootDayIdx = 0;
                strips.forEach(strip => {
                    if (strip.type === 'banner') { shootDayIdx++; return; }
                    const scene = scenes.find(s => s.num === (strip.num || strip.scene));
                    if (!scene) return;
                    scene.cast.forEach(name => {
                        if (!castDOD[name]) castDOD[name] = [];
                        if (!castDOD[name].includes(shootDayIdx)) castDOD[name].push(shootDayIdx);
                    });
                });
                const dodTable = castData.all.map(c => ({
                    name: c.name, role: c.role,
                    days: castDOD[c.name] || [], totalDays: (castDOD[c.name]||[]).length,
                    totalScenes: c.scenes_count,
                })).sort((a,b) => b.totalDays - a.totalDays);

                // Co-reference
                const coRefs = [];
                const allNames = castData.all.map(c => c.name);
                for (let i = 0; i < allNames.length; i++) {
                    for (let j = i+1; j < allNames.length; j++) {
                        const a = allNames[i], b = allNames[j];
                        if (a.length > 3 && b.length > 3 && (a.startsWith(b.slice(0,4)) || b.startsWith(a.slice(0,4))))
                            coRefs.push({a, b, note: 'possible alias'});
                        const aParts = a.split(/\s+/), bParts = b.split(/\s+/);
                        if (aParts.length > 1 && bParts.length > 1 && aParts[0] === bParts[0])
                            coRefs.push({a, b, note: 'same first name'});
                    }
                }

                // â”€â”€ Producer Intelligence Synthesis â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                const leads    = castData.all.filter(c => c.role === 'Lead');
                const suppCast = castData.all.filter(c => c.role === 'Supporting');

                // All unique elements across script
                const allExtras     = [...new Set(scenes.flatMap(s => s.extras || []))];
                const allSFX        = [...new Set(scenes.flatMap(s => s.sfx || []))];
                const allSpecEquip  = [...new Set(scenes.flatMap(s => s.specialEquip || []))];
                const allPermits    = [...new Set(scenes.flatMap(s => s.permitFlags || []))];
                const allWardrobe   = [...new Set(scenes.flatMap(s => s.wardrobe || []))];
                const allMakeup     = [...new Set(scenes.flatMap(s => s.makeup || []))];
                const allProps      = [...new Set(scenes.flatMap(s => s.props || []))];
                const allSound      = [...new Set(scenes.flatMap(s => s.sound || []))];

                // Extras count estimates
                const totalExtrasEstimate = scenes.reduce((sum, s) => sum + (s.extrasEstimate || 0), 0);
                const maxExtrasSingleScene = Math.max(...scenes.map(s => s.extrasEstimate || 0), 0);
                const crowdScenes = scenes.filter(s => (s.extrasEstimate || 0) > 20);

                // Night exterior count (hardest to shoot)
                const nightExteriors = scenes.filter(s => s.daynight === 'NIGHT' && s.intext === 'EXT');

                // Scenes requiring advanced prep (stunt/SFX/VFX/animals)
                const advancedPrepScenes = scenes.filter(s =>
                    s.stunts.length > 0 || s.sfx.length > 0 || s.animals.length > 0 ||
                    s.vfx.length > 0 || (s.specialEquip || []).length > 0
                );

                // Weapons tracking
                const weaponScenes = scenes.filter(s =>
                    s.props.some(p => /gun|pistol|rifle|shotgun|knife|sword|explosive|grenade|bomb/i.test(p)) ||
                    s.stunts.some(st => /gun|shoot|fire/i.test(st))
                );

                // Production notes (comprehensive)
                const notesParts = [];
                if (leads.length)    notesParts.push(`${leads.length} lead(s): ${leads.map(c=>c.name).join(', ')}.`);
                if (suppCast.length) notesParts.push(`${suppCast.length} supporting players.`);
                notesParts.push(`${uniqueLocs.length} locations, ${scenes.length} scenes (~${Math.round(totalPages)} pages).`);
                if (recurring.length) notesParts.push(`Recurring sets (3+ scenes): ${recurring.slice(0,3).join(', ')}.`);
                if (nights.length) notesParts.push(`${nights.length} night scenes (${nightExteriors.length} night exterior).`);
                if (exts.length > scenes.length*0.35) notesParts.push(`${Math.round(exts.length/scenes.length*100)}% exterior â€” weather dependency.`);
                if (allVehicles.length) notesParts.push(`Vehicles required: ${allVehicles.slice(0,5).join(', ')}.`);
                if (allAnimals.length) notesParts.push(`Animal wrangler needed: ${allAnimals.slice(0,5).join(', ')}.`);
                if (allSFX.length > 3) notesParts.push(`${allSFX.length} SFX elements (pyro/practical): ${allSFX.slice(0,3).join(', ')}.`);
                if (allVFX.length) notesParts.push(`VFX shots detected: ${allVFX.slice(0,4).join(', ')}.`);
                if (allSpecEquip.length) notesParts.push(`Special camera equipment: ${allSpecEquip.slice(0,4).join(', ')}.`);
                if (maxExtrasSingleScene > 0) notesParts.push(`Largest crowd scene: ~${maxExtrasSingleScene} extras.`);
                if (allPermits.length) notesParts.push(`Permits/coordination needed: ${allPermits.slice(0,5).join(', ')}.`);
                if (weaponScenes.length > 0) notesParts.push(`${weaponScenes.length} scenes with weapons (armourer required).`);
                if (allWardrobe.length) notesParts.push(`Specialty wardrobe: ${allWardrobe.slice(0,4).join(', ')}.`);
                if (allMakeup.length) notesParts.push(`Special makeup/prosthetics: ${allMakeup.slice(0,4).join(', ')}.`);
                if (advancedPrepScenes.length > 0) notesParts.push(`${advancedPrepScenes.length} scenes require advance dept coordination.`);

                return {
                    title, author, genre, tone, detectedLanguage, coRefs, dodTable,
                    shootDays: schedPlan.shootDays, budget, totalPages,
                    uniqueLocCount: uniqueLocs.length, recurring, nightCount: nights.length,
                    extPct: Math.round(exts.length/scenes.length*100), highCXCount: highCX.length,
                    mostComplex:  [...scenes].sort((a,b) => b.complexityScore - a.complexityScore)[0],
                    largestCast:  [...scenes].sort((a,b) => b.cast.length - a.cast.length)[0],
                    locFreq, notes: notesParts.join(' '), riskCount: risks.length,
                    highRisks: risks.filter(r=>r.level==='High').length,
                    // Producer intelligence additions
                    allPermits, allSpecEquip, allWardrobe, allMakeup, allProps,
                    allAnimals, allVFX, allVehicles, allSFX, allExtras, allSound,
                    totalExtrasEstimate, maxExtrasSingleScene,
                    crowdSceneCount: crowdScenes.length,
                    advancedPrepSceneCount: advancedPrepScenes.length,
                    weaponSceneCount: weaponScenes.length,
                    nightExteriorCount: nightExteriors.length,
                    production_notes: notesParts.join(' '),
                };
            },

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            //  BUILD RESULT â€” final data package
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            _buildResult(scenes, castData, relationships, storyArc, schedPlan, risks, ins, fmt, totalPages) {
                const locations = Object.entries(ins.locFreq)
                    .sort((a,b) => b[1]-a[1])
                    .map(([name,count]) => ({
                        name, count,
                        type: scenes.find(s=>s.location===name)?.intext || 'INT',
                        notes: count>=3 ? `Recurring (${count}x) â€” consider standing set or long-term deal` : ''
                    }));

                return {
                    title: ins.title, author: ins.author, genre: ins.genre, tone: ins.tone,
                    format: fmt.type, language: ins.detectedLanguage,
                    estimated_pages: Math.round(ins.totalPages * 8) / 8,
                    scenes, all_cast: castData.all, locations, relationships, storyArc,
                    schedPlan, risks, dodTable: ins.dodTable, coRefs: ins.coRefs,
                    // â”€â”€ Producer intelligence at top level (accessed as r.* in _render) â”€â”€
                    weaponSceneCount:      ins.weaponSceneCount      || 0,
                    allPermits:            ins.allPermits            || [],
                    allSpecEquip:          ins.allSpecEquip          || [],
                    allAnimals:            ins.allAnimals            || [],
                    allVFX:                ins.allVFX                || [],
                    allVehicles:           ins.allVehicles           || [],
                    allSFX:                ins.allSFX                || [],
                    allWardrobe:           ins.allWardrobe           || [],
                    allMakeup:             ins.allMakeup             || [],
                    allProps:              ins.allProps              || [],
                    allSound:              ins.allSound              || [],
                    allExtras:             ins.allExtras             || [],
                    totalExtrasEstimate:   ins.totalExtrasEstimate   || 0,
                    maxExtrasSingleScene:  ins.maxExtrasSingleScene  || 0,
                    crowdSceneCount:       ins.crowdSceneCount       || 0,
                    advancedPrepSceneCount:ins.advancedPrepSceneCount|| 0,
                    nightExteriorCount:    ins.nightExteriorCount    || 0,
                    insights: {
                        shooting_days_estimate: ins.shootDays, budget_tier: ins.budget,
                        night_scenes_count: ins.nightCount, exterior_ratio: ins.extPct + '%',
                        high_cx_count: ins.highCXCount, unique_location_count: ins.uniqueLocCount,
                        recurring_locations: ins.recurring,
                        most_complex_scene: ins.mostComplex ? `Scene ${ins.mostComplex.num} â€” ${ins.mostComplex.location} (CX: ${ins.mostComplex.complexityScore})` : 'â€”',
                        largest_cast_scene: ins.largestCast ? `Scene ${ins.largestCast.num} â€” ${ins.largestCast.cast.length} characters` : 'â€”',
                        production_notes: ins.notes, risk_count: ins.riskCount, high_risks: ins.highRisks,
                        protagonist: relationships.protagonist || 'â€”',
                        act_structure: storyArc.acts.map(a=>`${a.name} (${a.scenes} scenes)`).join(' Â· '),
                        inciting_incident: storyArc.incitingIncident || 'â€”',
                        climax: storyArc.climax || 'â€”', language: ins.detectedLanguage,
                        // Producer fields also nested here for PDF export access
                        weapon_scene_count:   ins.weaponSceneCount   || 0,
                        all_permits:          ins.allPermits         || [],
                        all_spec_equip:       ins.allSpecEquip       || [],
                        night_exterior_count: ins.nightExteriorCount || 0,
                        advanced_prep_count:  ins.advancedPrepSceneCount || 0,
                        max_extras_single:    ins.maxExtrasSingleScene   || 0,
                        total_extras_estimate:ins.totalExtrasEstimate    || 0,
                    }
                };
            },

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            //  FORMAT HELPERS
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            _fmt8(p) {
                if (!p || p < 0) return '1/8';
                if (p >= 1) return Math.round(p)+'p';
                return Math.round(p*8)+'/8';
            },

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            //  RENDER RESULTS
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            _render(r) {
                const s = r.scenes, c = r.all_cast, loc = r.locations, ins = r.insights;

                const setText = (id,v) => { const el=document.getElementById(id); if(el) el.textContent=v; };
                setText('r-scenes', s.length);
                setText('r-cast',   c.length);
                setText('r-locs',   loc.length);
                setText('r-pages',  Math.round(r.estimated_pages));
                setText('r-days',   ins.shooting_days_estimate);
                setText('r-night',  ins.night_scenes_count);
                setText('r-high',   ins.high_cx_count);
                setText('r-int',    s.filter(x=>x.intext==='INT').length);
                setText('r-ext',    s.filter(x=>x.intext!=='INT').length);

                // Insights
                const insightRows = [
                    {l:'Title Detected',      v: r.title},
                    {l:'Author',              v: r.author || 'â€”'},
                    {l:'Language',            v: r.language || 'English'},
                    {l:'Genre',               v: r.genre},
                    {l:'Tone',                v: r.tone},
                    {l:'Format',              v: r.format},
                    {l:'Shoot Days Est.',     v: ins.shooting_days_estimate + ' days'},
                    {l:'Budget Tier',         v: ins.budget_tier},
                    {l:'Exterior Ratio',      v: ins.exterior_ratio},
                    {l:'Protagonist',         v: ins.protagonist},
                    {l:'Act Structure',       v: ins.act_structure},
                    {l:'Inciting Incident',   v: ins.inciting_incident},
                    {l:'Climax Scene',        v: ins.climax},
                    {l:'Most Complex Scene',  v: ins.most_complex_scene},
                    {l:'Largest Cast Scene',  v: ins.largest_cast_scene},
                    {l:'Recurring Locations', v: (ins.recurring_locations||[]).slice(0,3).join(', ') || 'â€”'},
                    {l:'Risk Flags',          v: `${ins.risk_count} flags (${ins.high_risks} HIGH priority)`},
                    {l:'Production Notes',    v: ins.production_notes},
                ];
                document.getElementById('r-insights').innerHTML = insightRows.map(({l,v}) => `
                    <div class="si-ins-card">
                        <div class="si-ins-label">${l}</div>
                        <div class="si-ins-value">${v||'â€”'}</div>
                    </div>`).join('');

                // â”€â”€ Producer Intelligence Panel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                if (r.insights && (r.weaponSceneCount || r.allPermits?.length || r.allSpecEquip?.length || r.crowdSceneCount || r.advancedPrepSceneCount)) {
                    const prodPanelItems = [];
                    if (r.weaponSceneCount > 0)
                        prodPanelItems.push(`<div style="display:flex;align-items:flex-start;gap:10px;padding:8px 12px;background:rgba(244,63,94,.07);border:1px solid rgba(244,63,94,.2);border-radius:8px;"><span style="font-size:14px;flex-shrink:0;">ğŸ”«</span><div><div style="font-size:11px;font-weight:700;color:#f87171;margin-bottom:2px;">ARMOURER REQUIRED</div><div style="font-size:10px;color:rgba(255,255,255,.5);">${r.weaponSceneCount} scene(s) with firearms/weapons â€” on-set armourer, safety briefings, permits</div></div></div>`);
                    if (r.allPermits?.length > 0)
                        prodPanelItems.push(`<div style="display:flex;align-items:flex-start;gap:10px;padding:8px 12px;background:rgba(249,115,22,.07);border:1px solid rgba(249,115,22,.2);border-radius:8px;"><span style="font-size:14px;flex-shrink:0;">ğŸ“‹</span><div><div style="font-size:11px;font-weight:700;color:#fb923c;margin-bottom:2px;">PERMITS & COORDINATION</div><div style="font-size:10px;color:rgba(255,255,255,.5);">${r.allPermits.join(' Â· ')}</div></div></div>`);
                    if (r.maxExtrasSingleScene > 0)
                        prodPanelItems.push(`<div style="display:flex;align-items:flex-start;gap:10px;padding:8px 12px;background:rgba(234,179,8,.07);border:1px solid rgba(234,179,8,.2);border-radius:8px;"><span style="font-size:14px;flex-shrink:0;">ğŸ‘¥</span><div><div style="font-size:11px;font-weight:700;color:#fde047;margin-bottom:2px;">EXTRAS / BACKGROUND</div><div style="font-size:10px;color:rgba(255,255,255,.5);">Largest single scene: ~${r.maxExtrasSingleScene} BG Â· Total est. across all scenes: ~${r.totalExtrasEstimate} Â· ${r.crowdSceneCount} crowd scene(s)</div></div></div>`);
                    if (r.allSpecEquip?.length > 0)
                        prodPanelItems.push(`<div style="display:flex;align-items:flex-start;gap:10px;padding:8px 12px;background:rgba(20,184,166,.07);border:1px solid rgba(20,184,166,.2);border-radius:8px;"><span style="font-size:14px;flex-shrink:0;">ğŸ“·</span><div><div style="font-size:11px;font-weight:700;color:#5eead4;margin-bottom:2px;">SPECIAL CAMERA EQUIPMENT</div><div style="font-size:10px;color:rgba(255,255,255,.5);">${r.allSpecEquip.join(' Â· ')}</div></div></div>`);
                    if (r.allAnimals?.length > 0)
                        prodPanelItems.push(`<div style="display:flex;align-items:flex-start;gap:10px;padding:8px 12px;background:rgba(52,211,153,.07);border:1px solid rgba(52,211,153,.2);border-radius:8px;"><span style="font-size:14px;flex-shrink:0;">ğŸ¾</span><div><div style="font-size:11px;font-weight:700;color:#6ee7b7;margin-bottom:2px;">ANIMAL WRANGLER REQUIRED</div><div style="font-size:10px;color:rgba(255,255,255,.5);">${r.allAnimals.join(', ')} â€” wrangler, permits, safety officer, insurance rider</div></div></div>`);
                    if (r.nightExteriorCount > 0)
                        prodPanelItems.push(`<div style="display:flex;align-items:flex-start;gap:10px;padding:8px 12px;background:rgba(99,102,241,.07);border:1px solid rgba(99,102,241,.2);border-radius:8px;"><span style="font-size:14px;flex-shrink:0;">ğŸŒ™</span><div><div style="font-size:11px;font-weight:700;color:#a5b4fc;margin-bottom:2px;">NIGHT EXTERIOR SCENES: ${r.nightExteriorCount}</div><div style="font-size:10px;color:rgba(255,255,255,.5);">Generator, large lighting package, extended turnaround, crew fatigue risk â€” most expensive shoot condition</div></div></div>`);
                    if (r.advancedPrepSceneCount > 0)
                        prodPanelItems.push(`<div style="display:flex;align-items:flex-start;gap:10px;padding:8px 12px;background:rgba(168,85,247,.07);border:1px solid rgba(168,85,247,.2);border-radius:8px;"><span style="font-size:14px;flex-shrink:0;">âš ï¸</span><div><div style="font-size:11px;font-weight:700;color:#c084fc;margin-bottom:2px;">ADVANCED PREP SCENES: ${r.advancedPrepSceneCount}</div><div style="font-size:10px;color:rgba(255,255,255,.5);">Scenes with stunt/SFX/VFX/animals â€” require pre-production meetings, tech scouts, additional prep days</div></div></div>`);

                    if (prodPanelItems.length > 0) {
                        const prodPanel = document.createElement('div');
                        prodPanel.innerHTML = '<div class="si-lbl" style="margin-top:18px;">âš¡ Producer Intelligence â€” Action Items</div>'
                            + '<div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;">'
                            + prodPanelItems.join('')
                            + '</div>';
                        const insEl = document.getElementById('r-insights');
                        if (insEl) insEl.parentNode.insertBefore(prodPanel, insEl.nextSibling);
                    }
                }

                // Cast chips
                document.getElementById('r-cast-chips').innerHTML = c.map(ch => {
                    const roleColors  = {'Lead':'rgba(34,211,238,.15)','Supporting':'rgba(168,85,247,.12)','Featured':'rgba(251,191,36,.12)','Day Player':'rgba(34,197,94,.1)','Bit':'rgba(148,163,184,.08)'};
                    const borderColors= {'Lead':'rgba(34,211,238,.5)','Supporting':'rgba(168,85,247,.4)','Featured':'rgba(251,191,36,.4)','Day Player':'rgba(34,197,94,.35)','Bit':'rgba(148,163,184,.25)'};
                    return `<div class="si-cast-chip" style="background:${roleColors[ch.role]||'rgba(255,255,255,.05)'};border-color:${borderColors[ch.role]||'rgba(255,255,255,.15)'}" title="${ch.role} Â· ${ch.scenes_count} scenes Â· ${ch.dialog_lines} lines Â· ${ch.dialog_words||0} words">
                        ${ch.name}<span style="opacity:0.45;font-size:10px;margin-left:6px;">${ch.role.charAt(0)}</span>
                        <span style="opacity:0.35;font-size:9px;margin-left:3px;">${ch.scenes_count}sc</span>
                    </div>`;
                }).join('');

                // Character relationships
                if (r.relationships && r.relationships.pairs.length > 0) {
                    const pairsHtml = r.relationships.pairs.slice(0, 6).map(p =>
                        `<div style="display:flex;align-items:center;gap:8px;padding:8px 12px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.07);border-radius:8px;">
                            <span style="font-size:13px;font-weight:600;color:var(--text-90)">${p.a}</span>
                            <span style="color:rgba(255,255,255,.3);font-size:11px;">â†”</span>
                            <span style="font-size:13px;font-weight:600;color:var(--text-90)">${p.b}</span>
                            <span style="margin-left:auto;font-family:var(--font-mono);font-size:10px;color:var(--neon-cyan)">${p.scenes_together} scenes</span>
                        </div>`
                    ).join('');
                    const castLabel = document.querySelector('#si-results .si-lbl');
                    if (castLabel) {
                        const relDiv = document.createElement('div');
                        relDiv.innerHTML = `<div class="si-lbl">Character Relationships</div><div style="display:flex;flex-direction:column;gap:6px;">${pairsHtml}</div>`;
                        castLabel.parentNode.insertBefore(relDiv, castLabel);
                    }
                }

                // Story arc
                if (r.storyArc && r.storyArc.acts.length > 0) {
                    const arcHtml = r.storyArc.acts.map(a => {
                        const widthPct = Math.round(a.scenes / s.length * 100);
                        const colors   = {'Act I â€” Setup':'#22d3ee','Act II â€” Confrontation':'#a855f7','Act III â€” Resolution':'#f97316'};
                        const color    = colors[a.name] || '#22d3ee';
                        return `<div style="display:flex;flex-direction:column;gap:3px;flex:${widthPct} 0 0;min-width:0;">
                            <div style="height:8px;background:${color};opacity:.5;border-radius:2px;"></div>
                            <div style="font-size:9px;font-family:var(--font-mono);color:${color};white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">${a.name}</div>
                            <div style="font-size:9px;color:rgba(255,255,255,.35);">${a.scenes} scenes Â· ${a.tone||''}</div>
                        </div>`;
                    }).join('');
                    const insEl = document.getElementById('r-insights');
                    if (insEl) {
                        const arcWrapper = document.createElement('div');
                        arcWrapper.innerHTML = `<div class="si-lbl">Story Arc</div><div style="display:flex;gap:4px;align-items:flex-start;">${arcHtml}</div>`;
                        insEl.parentNode.insertBefore(arcWrapper, insEl);
                    }
                }

                // Scene rows
                document.getElementById('r-scene-rows').innerHTML = s.map((sc,i) => {
                    const cxClass = sc.complexity==='HIGH'?'si-cx-high':sc.complexity==='MEDIUM'?'si-cx-medium':'si-cx-low';
                    const dnClass = ['NIGHT','DAWN','DUSK'].includes(sc.daynight)?'si-night':'si-day';
                    const itClass = sc.intext==='INT'?'si-int':sc.intext==='EXT'?'si-ext':'si-intex';

                    const pills = [
                        ...sc.props.slice(0,4).map(p=>`<span class="si-el-pill si-el-prop">ğŸ­ ${p}</span>`),
                        ...sc.vehicles.slice(0,2).map(v=>`<span class="si-el-pill si-el-vehicle">ğŸš— ${v}</span>`),
                        ...sc.sfx.slice(0,2).map(v=>`<span class="si-el-pill si-el-sfx">ğŸ’¥ ${v}</span>`),
                        ...sc.animals.slice(0,2).map(v=>`<span class="si-el-pill si-el-animal">ğŸ¾ ${v}</span>`),
                        ...sc.stunts.slice(0,2).map(v=>`<span class="si-el-pill si-el-stunt">âš¡ ${v}</span>`),
                        ...sc.makeup.slice(0,2).map(v=>`<span class="si-el-pill si-el-mk">ğŸ’„ ${v}</span>`),
                        ...(sc.vfx||[]).slice(0,2).map(v=>`<span class="si-el-pill" style="border-color:rgba(99,102,241,.3);color:#818cf8;">ğŸ¬ ${v}</span>`),
                        ...(sc.wardrobe||[]).slice(0,2).map(v=>`<span class="si-el-pill" style="border-color:rgba(251,113,133,.3);color:#fda4af;">ğŸ‘— ${v}</span>`),
                        ...(sc.extras||[]).slice(0,2).map(v=>`<span class="si-el-pill" style="border-color:rgba(234,179,8,.3);color:#fde047;">ğŸ‘¥ ${v}</span>`),
                        ...(sc.specialEquip||[]).slice(0,1).map(v=>`<span class="si-el-pill" style="border-color:rgba(20,184,166,.3);color:#5eead4;">ğŸ“· ${v}</span>`),
                        ...(sc.permitFlags||[]).slice(0,1).map(v=>`<span class="si-el-pill" style="border-color:rgba(249,115,22,.4);color:#fb923c;">ğŸ“‹ ${v}</span>`),
                        ...(sc.sound||[]).slice(0,1).map(v=>`<span class="si-el-pill" style="border-color:rgba(34,197,94,.3);color:#86efac;">ğŸµ ${v}</span>`),
                        ...(sc.extrasEstimate>0?[`~${sc.extrasEstimate} BG`]:[] ).map(v=>`<span class="si-el-pill" style="border-color:rgba(234,179,8,.4);color:#fde047;font-weight:700;">ğŸ‘¥ ${v}</span>`),
                    ].join('');
                    const hasElems = pills.length > 0;

                    return `<div class="si-scene-row" ${hasElems?`onclick="this.nextElementSibling.style.display=this.nextElementSibling.style.display==='none'?'':'none';" style="cursor:pointer;"`:''}>
                        <span class="si-sn">${sc.num}</span>
                        <span><span class="si-tag ${itClass}">${sc.intext}</span></span>
                        <span class="si-loc" title="${sc.location}">${sc.location}</span>
                        <span><span class="si-tag ${dnClass}">${sc.daynight}</span></span>
                        <span class="si-pages">${this._fmt8(sc.pages)}</span>
                        <span class="${cxClass}">${sc.complexity}</span>
                        <span class="si-cast-cell" title="${(sc.cast||[]).join(', ')}">${(sc.cast||[]).slice(0,3).join(', ')}${sc.cast.length>3?' +'+(sc.cast.length-3):''}</span>
                    </div>${hasElems?`<div class="si-elements-row" style="display:none;">${pills}</div>`:''}`;
                }).join('');

                // DOD table
                if (r.dodTable && r.dodTable.length > 0) {
                    const totalSD = r.schedPlan.shootDays || 1;
                    const dodRows = r.dodTable.filter(d => d.totalDays > 0).slice(0, 30).map(d => {
                        const dayMarkers = Array.from({length: Math.min(totalSD, 40)}, (_,i) =>
                            d.days.includes(i)
                                ? '<span style="display:inline-block;width:14px;height:14px;background:rgba(34,211,238,.35);border:1px solid rgba(34,211,238,.5);border-radius:2px;margin:0 1px;font-size:8px;line-height:14px;text-align:center;">W</span>'
                                : '<span style="display:inline-block;width:14px;height:14px;border:1px solid rgba(255,255,255,.08);border-radius:2px;margin:0 1px;"></span>'
                        ).join('');
                        const roleColor = {'Lead':'#22d3ee','Supporting':'#a855f7','Featured':'#fbbf24','Day Player':'#22c55e','Bit':'#94a3b8'}[d.role] || '#94a3b8';
                        return '<tr>'
                            + '<td style="padding:6px 10px;font-size:12px;font-weight:600;white-space:nowrap;color:'+roleColor+';">'+d.name+'</td>'
                            + '<td style="padding:6px 4px;font-size:9px;color:rgba(255,255,255,.4);font-family:var(--font-mono);">'+d.role.charAt(0)+'</td>'
                            + '<td style="padding:6px 10px;font-family:var(--font-mono);font-size:10px;color:rgba(34,211,238,.8);">'+d.totalDays+'d / '+d.totalScenes+'sc</td>'
                            + '<td style="padding:6px 6px;">'+dayMarkers+'</td>'
                            + '</tr>';
                    }).join('');
                    const dodContainer = document.createElement('div');
                    dodContainer.innerHTML = '<div class="si-lbl">Day Out of Days <span style="color:var(--text-30);font-size:9px;margin-left:8px;">CAST SCHEDULING MATRIX</span></div>'
                        + '<div style="overflow-x:auto;background:rgba(0,0,0,.3);border:1px solid rgba(255,255,255,.08);border-radius:10px;padding:4px;">'
                        + '<table style="width:100%;border-collapse:collapse;min-width:400px;">'
                        + '<thead><tr style="border-bottom:1px solid rgba(255,255,255,.08);">'
                        + '<th style="padding:8px 10px;font-size:9px;text-transform:uppercase;letter-spacing:1px;color:rgba(255,255,255,.4);text-align:left;font-family:var(--font-mono);">Character</th>'
                        + '<th style="padding:8px 4px;font-size:9px;color:rgba(255,255,255,.4);font-family:var(--font-mono);">R</th>'
                        + '<th style="padding:8px 10px;font-size:9px;text-transform:uppercase;letter-spacing:1px;color:rgba(255,255,255,.4);text-align:left;font-family:var(--font-mono);">Days/Scenes</th>'
                        + '<th style="padding:8px 6px;font-size:9px;text-transform:uppercase;letter-spacing:1px;color:rgba(255,255,255,.4);text-align:left;font-family:var(--font-mono);">Shooting Schedule</th>'
                        + '</tr></thead>'
                        + '<tbody>'+dodRows+'</tbody></table></div>';
                    const sceneTable = document.querySelector('#si-results .si-scene-table');
                    if (sceneTable) sceneTable.parentNode.insertBefore(dodContainer, sceneTable.nextSibling);
                }

                // Co-references
                if (r.coRefs && r.coRefs.length > 0) {
                    const coRefHtml = r.coRefs.slice(0,6).map(cr =>
                        '<div style="padding:6px 12px;background:rgba(251,191,36,.06);border:1px solid rgba(251,191,36,.2);border-radius:6px;font-size:11px;color:rgba(251,191,36,.9);font-family:var(--font-mono);">&#9888; &quot;'+cr.a+'&quot; &harr; &quot;'+cr.b+'&quot; &mdash; '+cr.note+'</div>'
                    ).join('');
                    const coRefDiv = document.createElement('div');
                    coRefDiv.style.marginTop = '12px';
                    coRefDiv.innerHTML = '<div class="si-lbl" style="color:rgba(251,191,36,.8);">&#9888; Possible Co-References / Aliases</div>'
                        + '<div style="display:flex;flex-direction:column;gap:4px;">'+coRefHtml+'</div>'
                        + '<div style="font-size:10px;color:var(--text-30);margin-top:6px;font-family:var(--font-mono);">Review these pairs â€” they may refer to the same person under different names.</div>';
                    const insEl = document.getElementById('r-insights');
                    if (insEl) insEl.parentNode.appendChild(coRefDiv);
                }

                document.getElementById('si-results').classList.add('on');
                document.getElementById('si-results').scrollIntoView({behavior:'smooth',block:'start'});
            },

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            //  ANNOTATED SCRIPT PDF EXPORT
            //  Renders the script in Final Draft style with color-coded
            //  element highlights and margin breakdown annotations
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            async exportAnnotatedPDF() {
                const r = this._result;
                if (!r) { alert('Run analysis first.'); return; }
                if (!this._rawLines || !this._fmt) { alert('Raw script data not available â€” re-analyze first.'); return; }

                this.toast('ğŸ“„ Building annotated script PDFâ€¦', 'info');

                // Load jsPDF
                if (!window.jspdf) {
                    await new Promise((res, rej) => {
                        const s = document.createElement('script');
                        s.src = 'https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js';
                        s.onload = res; s.onerror = rej;
                        document.head.appendChild(s);
                    });
                }

                const { jsPDF } = window.jspdf;

                // â”€â”€ Page geometry â€” US Letter, Courier-style screenplay format â”€
                // Final Draft standard: 8.5" Ã— 11", 1" margins, 12pt Courier
                const doc = new jsPDF({ orientation: 'portrait', unit: 'pt', format: 'letter' });
                const PW   = 612;   // 8.5" Ã— 72pt
                const PH   = 792;   // 11" Ã— 72pt
                const ML   = 108;   // left margin 1.5"
                const MR   = 72;    // right margin 1"
                const MT   = 72;    // top margin 1"
                const MB   = 72;    // bottom margin 1"
                const TW   = PW - ML - MR;  // text width ~432pt
                const ANNOT_X = PW - MR + 6; // annotation start x (right margin area)
                const ANNOT_W = MR - 8;
                const LH   = 14;    // line height for 12pt Courier (matches industry 1pt=1/72")
                const CHAR_W = 7.2; // approx char width for Courier 12pt

                let pageNum = 1;
                let y = MT;

                // â”€â”€ Color palette (subtle pastels for highlights) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                const H = {
                    cast:     [0.85, 0.95, 1.0],    // light blue
                    props:    [0.95, 0.88, 1.0],    // light lavender
                    vehicles: [0.88, 0.98, 0.88],   // light green
                    sfx:      [1.0,  0.90, 0.80],   // light orange
                    animals:  [0.90, 1.0,  0.90],   // mint
                    stunts:   [1.0,  0.82, 0.82],   // light red
                    vfx:      [0.82, 0.88, 1.0],    // light indigo
                    makeup:   [1.0,  0.88, 0.96],   // pink
                };
                const rgb255 = (arr) => arr.map(v => Math.round(v * 255));

                // â”€â”€ Element color legend (for margin) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                const LEGEND = [
                    {label:'CAST',   rgb:[160,215,255]},
                    {label:'PROPS',  rgb:[200,170,255]},
                    {label:'VEH',    rgb:[160,230,160]},
                    {label:'SFX',    rgb:[255,200,140]},
                    {label:'ANML',   rgb:[160,240,180]},
                    {label:'STUNT',  rgb:[255,160,160]},
                    {label:'VFX',    rgb:[160,180,255]},
                    {label:'MKP',    rgb:[255,180,220]},
                ];

                // â”€â”€ Build lookup: scene by line index â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                const sceneByLine = new Map();
                r.scenes.forEach(sc => {
                    sceneByLine.set(sc._lineIdx, sc);
                });

                // â”€â”€ Build element lookup per scene â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                // For each scene, flatten all tagged elements into a set of lowercase words
                const sceneElements = new Map();
                r.scenes.forEach(sc => {
                    const elMap = new Map();
                    sc.cast.forEach(n => elMap.set(n.toLowerCase(), 'cast'));
                    sc.props.forEach(p => elMap.set(p.toLowerCase(), 'props'));
                    sc.vehicles.forEach(v => elMap.set(v.toLowerCase(), 'vehicles'));
                    sc.sfx.forEach(v => elMap.set(v.toLowerCase(), 'sfx'));
                    sc.animals.forEach(v => elMap.set(v.toLowerCase(), 'animals'));
                    sc.stunts.forEach(v => elMap.set(v.toLowerCase(), 'stunts'));
                    sc.vfx.forEach(v => elMap.set(v.toLowerCase(), 'vfx'));
                    sc.makeup.forEach(v => elMap.set(v.toLowerCase(), 'makeup'));
                    sceneElements.set(sc.numInt, elMap);
                });

                const setFont = (size, style, color) => {
                    doc.setFontSize(size);
                    doc.setFont('courier', style || 'normal');
                    if (color) doc.setTextColor(color[0], color[1], color[2]);
                    else doc.setTextColor(0, 0, 0);
                };

                const newPage = () => {
                    // Footer
                    doc.setFontSize(9);
                    doc.setFont('courier', 'normal');
                    doc.setTextColor(150,150,150);
                    doc.text(String(pageNum) + '.', PW - MR, PH - 36, {align:'right'});
                    doc.text(r.title || 'UNTITLED', ML, PH - 36);
                    doc.addPage();
                    pageNum++;
                    y = MT;
                    // Thin top rule
                    doc.setDrawColor(200,200,200);
                    doc.setLineWidth(0.5);
                    doc.line(ML, MT - 6, PW - MR, MT - 6);
                };

                const checkPage = (linesNeeded = 1) => {
                    if (y + linesNeeded * LH > PH - MB) newPage();
                };

                // â”€â”€ COVER PAGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                // Title block center-page per WGA standard
                const titleY = PH / 2 - 60;
                doc.setFontSize(12);
                doc.setFont('courier', 'bold');
                doc.setTextColor(0,0,0);
                const titleText = r.title || 'UNTITLED';
                doc.text(titleText, PW / 2, titleY, {align:'center'});

                if (r.author) {
                    doc.setFont('courier', 'normal');
                    doc.text('Written by', PW / 2, titleY + 28, {align:'center'});
                    doc.text(r.author, PW / 2, titleY + 42, {align:'center'});
                }

                doc.setFontSize(9);
                doc.setTextColor(120,120,120);
                doc.text(`${r.genre}  Â·  ${r.format}  Â·  ${Math.round(r.estimated_pages)} pages`, PW/2, titleY + 70, {align:'center'});
                doc.text(`Annotated Production Breakdown â€” ${new Date().toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric'})}`, PW/2, titleY+84, {align:'center'});
                doc.text(`Production: ${Core.currentProduction}`, PW/2, titleY+98, {align:'center'});

                // Legend box at bottom of cover
                const legX = ML, legY = PH - MB - 120;
                doc.setFillColor(248,248,250);
                doc.roundedRect(legX, legY, TW, 100, 4, 4, 'F');
                doc.setDrawColor(200,200,210);
                doc.setLineWidth(0.5);
                doc.roundedRect(legX, legY, TW, 100, 4, 4, 'S');
                doc.setFontSize(7);
                doc.setFont('courier','bold');
                doc.setTextColor(80,80,90);
                doc.text('ELEMENT COLOR LEGEND', legX + 12, legY + 16);
                LEGEND.forEach(({label, rgb}, i) => {
                    const col = Math.floor(i / 2), row = i % 2;
                    const lx = legX + 14 + col * 120, ly = legY + 32 + row * 22;
                    doc.setFillColor(rgb[0], rgb[1], rgb[2]);
                    doc.roundedRect(lx, ly - 8, 28, 12, 2, 2, 'F');
                    doc.setTextColor(60,60,60);
                    doc.setFontSize(7);
                    doc.text(label, lx + 32, ly);
                });

                pageNum = 1;
                doc.addPage();
                y = MT;
                doc.setDrawColor(200,200,200);
                doc.setLineWidth(0.5);
                doc.line(ML, MT - 6, PW - MR, MT - 6);

                // â”€â”€ SCRIPT BODY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                const lines = this._rawLines;
                const fmt   = this._fmt;
                let currentScene = null;
                let currentSceneNum = 0;
                let pendingAnnotations = []; // {label, rgb} for current scene margin

                const flushAnnotations = () => {
                    if (pendingAnnotations.length === 0) return;
                    // Write stacked annotation chips in right margin for this scene
                    const annY = y - pendingAnnotations.length * 11;
                    pendingAnnotations.forEach(({label, rgb}, i) => {
                        doc.setFillColor(rgb[0], rgb[1], rgb[2]);
                        doc.roundedRect(ANNOT_X, annY + i*11, ANNOT_W, 9, 1.5, 1.5, 'F');
                        doc.setFontSize(5.5);
                        doc.setFont('courier','bold');
                        doc.setTextColor(40,40,40);
                        doc.text(label, ANNOT_X + ANNOT_W/2, annY + i*11 + 6.5, {align:'center'});
                    });
                    pendingAnnotations = [];
                };

                // Helper: highlight words in a line of text
                const drawHighlightedLine = (text, xStart, yPos, scene, lineType) => {
                    if (!scene || !text.trim()) {
                        doc.setFontSize(12);
                        doc.setFont('courier', 'normal');
                        doc.setTextColor(0,0,0);
                        doc.text(text, xStart, yPos);
                        return;
                    }

                    const elMap = sceneElements.get(scene.numInt);
                    if (!elMap || elMap.size === 0) {
                        doc.setFontSize(12);
                        doc.setFont('courier', lineType === 'slug' ? 'bold' : 'normal');
                        doc.setTextColor(lineType === 'slug' ? 0 : lineType === 'char' ? 30 : 0, lineType === 'slug' ? 0 : 30, lineType === 'slug' ? 0 : 30);
                        doc.text(text, xStart, yPos);
                        return;
                    }

                    // Tokenize text, find matches, draw word-by-word with highlights
                    const tokens = [];
                    let remaining = text;
                    let pos = 0;

                    // Find the longest match at each position
                    while (pos < text.length) {
                        let bestMatch = null, bestLen = 0;
                        for (const [phrase, cat] of elMap) {
                            const phraseLen = phrase.length;
                            if (pos + phraseLen <= text.length) {
                                const substr = text.slice(pos, pos + phraseLen).toLowerCase();
                                if (substr === phrase && phraseLen > bestLen) {
                                    // Check word boundaries
                                    const before = pos === 0 || /\W/.test(text[pos-1]);
                                    const after  = pos + phraseLen >= text.length || /\W/.test(text[pos+phraseLen]);
                                    if (before && after) { bestMatch = cat; bestLen = phraseLen; }
                                }
                            }
                        }
                        if (bestMatch && bestLen > 0) {
                            tokens.push({ text: text.slice(pos, pos+bestLen), type: bestMatch });
                            pos += bestLen;
                        } else {
                            // Find next potential match start or word boundary
                            let end = pos + 1;
                            while (end < text.length) {
                                let found = false;
                                for (const [phrase] of elMap) {
                                    if (text.slice(end, end+phrase.length).toLowerCase() === phrase) { found=true; break; }
                                }
                                if (found) break;
                                end++;
                            }
                            tokens.push({ text: text.slice(pos, end), type: null });
                            pos = end;
                        }
                    }

                    // Render tokens
                    let cx = xStart;
                    doc.setFontSize(12);
                    doc.setFont('courier', lineType === 'slug' ? 'bold' : 'normal');

                    for (const tok of tokens) {
                        const tw = tok.text.length * CHAR_W;
                        if (tok.type && H[tok.type]) {
                            const hc = rgb255(H[tok.type]);
                            doc.setFillColor(hc[0], hc[1], hc[2]);
                            doc.rect(cx, yPos - 10, tw, 13, 'F');
                            // Track annotation for margin
                            const legItem = LEGEND.find(l => {
                                const cat = tok.type;
                                return (cat==='cast'&&l.label==='CAST')||(cat==='props'&&l.label==='PROPS')||
                                    (cat==='vehicles'&&l.label==='VEH')||(cat==='sfx'&&l.label==='SFX')||
                                    (cat==='animals'&&l.label==='ANML')||(cat==='stunts'&&l.label==='STUNT')||
                                    (cat==='vfx'&&l.label==='VFX')||(cat==='makeup'&&l.label==='MKP');
                            });
                            if (legItem && !pendingAnnotations.find(a=>a.label===legItem.label))
                                pendingAnnotations.push({label:legItem.label, rgb:legItem.rgb});
                        }

                        doc.setTextColor(0,0,0);
                        if (lineType === 'slug') doc.setTextColor(0,0,0);
                        else if (lineType === 'char') doc.setTextColor(20,20,80);
                        doc.text(tok.text, cx, yPos);
                        cx += tw;
                    }
                };

                for (let li = 0; li < lines.length; li++) {
                    const raw = lines[li];
                    const t   = raw.trim();
                    const indent = raw.match(/^(\s*)/)[1].length;

                    // Detect line type
                    let lineType = 'action';
                    let isSlug   = false;
                    let isChar   = false;
                    let isDialog = false;
                    let isParen  = false;
                    let isTrans  = false;
                    let isBlank  = !t;

                    if (!isBlank) {
                        // Scene heading check
                        if (this._SLUG.test(t) || this._SLUG2.test(t) || this._SLUG3.test(t) || this._SLUGF.test(t)) {
                            isSlug = true; lineType = 'slug';
                        } else if (/^\(.*\)$/.test(t)) {
                            isParen = true; lineType = 'paren';
                        } else if (/^(FADE|CUT TO|DISSOLVE|SMASH CUT|MATCH CUT|IRIS|WIPE)/.test(t) && t === t.toUpperCase()) {
                            isTrans = true; lineType = 'trans';
                        } else if (t === t.toUpperCase() && t.length >= 2 && t.length <= 50
                                   && indent >= (fmt.avgCharIndent - 10)
                                   && !this._NOT_CHAR.has(t)) {
                            isChar = true; lineType = 'char';
                        } else if (indent >= (fmt.dialogIndent - 4) && indent < fmt.avgCharIndent && currentScene) {
                            isDialog = true; lineType = 'dialog';
                        }
                    }

                    // Scene change
                    if (sceneByLine.has(li)) {
                        flushAnnotations();
                        currentScene = sceneByLine.get(li);
                        currentSceneNum++;
                        pendingAnnotations = [];
                    }

                    // Blank line
                    if (isBlank) {
                        checkPage(1);
                        y += LH * 0.6;
                        continue;
                    }

                    checkPage(1);

                    // â”€â”€ Scene heading â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                    if (isSlug) {
                        // Add extra space before slug
                        if (y > MT + LH) y += LH * 0.5;
                        checkPage(2);

                        // Scene number tab (left margin)
                        doc.setFontSize(9);
                        doc.setFont('courier', 'normal');
                        doc.setTextColor(100, 100, 120);
                        doc.text(currentScene ? currentScene.num : String(currentSceneNum), ML - 32, y, {align:'right'});

                        // Complexity indicator
                        if (currentScene) {
                            const cxColor = currentScene.complexity === 'HIGH' ? [220,40,40] : currentScene.complexity === 'MEDIUM' ? [180,130,20] : [60,140,60];
                            doc.setFillColor(...cxColor);
                            doc.roundedRect(ML - 28, y - 9, 22, 11, 2, 2, 'F');
                            doc.setFontSize(5.5);
                            doc.setFont('courier','bold');
                            doc.setTextColor(255,255,255);
                            doc.text(currentScene.complexity === 'HIGH' ? 'HIGH' : currentScene.complexity === 'MEDIUM' ? 'MED' : 'LOW', ML - 28 + 11, y - 3.5, {align:'center'});
                        }

                        // Scene slug text in bold Courier
                        doc.setFontSize(12);
                        doc.setFont('courier', 'bold');
                        doc.setTextColor(0, 0, 0);
                        // Underline for slug
                        const slugText = t;
                        const slugW = Math.min(slugText.length * CHAR_W, TW);
                        doc.setDrawColor(0,0,0);
                        doc.setLineWidth(0.5);
                        doc.line(ML, y + 2, ML + slugW, y + 2);
                        doc.text(slugText, ML, y);

                        // Page count in right gutter
                        if (currentScene) {
                            doc.setFontSize(8);
                            doc.setFont('courier','normal');
                            doc.setTextColor(140,140,160);
                            doc.text(this._fmt8(currentScene.pages), ANNOT_X + ANNOT_W - 2, y, {align:'right'});
                        }

                        y += LH * 1.5;
                    }
                    // â”€â”€ Transition â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                    else if (isTrans) {
                        doc.setFontSize(12);
                        doc.setFont('courier','normal');
                        doc.setTextColor(80,80,80);
                        doc.text(t, PW - MR - t.length * CHAR_W, y);
                        y += LH * 1.5;
                    }
                    // â”€â”€ Character name â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                    else if (isChar) {
                        y += LH * 0.3;
                        checkPage(2);
                        const charX = ML + 144; // standard 2" character indent = ~144pt additional
                        doc.setFontSize(12);
                        doc.setFont('courier','bold');
                        doc.setTextColor(20,20,80);
                        doc.text(t, charX, y);
                        y += LH;
                    }
                    // â”€â”€ Parenthetical â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                    else if (isParen) {
                        const parenX = ML + 90;
                        doc.setFontSize(12);
                        doc.setFont('courier','italic');
                        doc.setTextColor(80,80,80);
                        doc.text(t, parenX, y);
                        y += LH;
                    }
                    // â”€â”€ Dialogue â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                    else if (isDialog) {
                        const dialogX = ML + 72; // ~1" additional indent for dialogue
                        const dialogW = TW - 144; // dialogue column ~3" wide
                        doc.setFontSize(12);
                        doc.setFont('courier','normal');
                        doc.setTextColor(0,0,0);
                        const wrapped = doc.splitTextToSize(t, dialogW);
                        wrapped.forEach(wl => {
                            checkPage(1);
                            drawHighlightedLine(wl, dialogX, y, currentScene, 'dialog');
                            y += LH;
                        });
                    }
                    // â”€â”€ Action / description â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                    else {
                        doc.setFontSize(12);
                        doc.setFont('courier','normal');
                        doc.setTextColor(0,0,0);
                        const wrapped = doc.splitTextToSize(t, TW);
                        wrapped.forEach(wl => {
                            checkPage(1);
                            drawHighlightedLine(wl, ML, y, currentScene, 'action');
                            y += LH;
                        });
                    }

                    // Flush margin annotations at end of scene (when next slug detected in next line)
                    const nextNonBlank = lines.slice(li+1, li+5).find(l=>l.trim());
                    if (nextNonBlank && (this._SLUG.test(nextNonBlank.trim()) || this._SLUG2.test(nextNonBlank.trim()) || this._SLUG3.test(nextNonBlank.trim()))) {
                        flushAnnotations();
                    }
                }

                // Final flush
                flushAnnotations();

                // Last page footer
                doc.setFontSize(9);
                doc.setFont('courier','normal');
                doc.setTextColor(150,150,150);
                doc.text(String(pageNum) + '.', PW - MR, PH - 36, {align:'right'});
                doc.text(r.title || 'UNTITLED', ML, PH - 36);

                // â”€â”€ APPENDIX: Production Breakdown Summary â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                doc.addPage(); pageNum++; y = MT;

                doc.setFontSize(14); doc.setFont('courier','bold'); doc.setTextColor(0,0,0);
                doc.text('PRODUCTION BREAKDOWN SUMMARY', ML, y); y += LH * 2;

                doc.setDrawColor(0,0,0); doc.setLineWidth(0.5);
                doc.line(ML, y - 4, PW - MR, y - 4);

                const appendSection = (title) => {
                    checkPage(3);
                    y += LH * 0.5;
                    doc.setFontSize(10); doc.setFont('courier','bold'); doc.setTextColor(40,40,120);
                    doc.text(title, ML, y); y += LH * 1.3;
                };
                const appendRow = (label, value) => {
                    checkPage(1);
                    doc.setFontSize(9); doc.setFont('courier','bold'); doc.setTextColor(60,60,60);
                    doc.text(label + ':', ML + 8, y);
                    doc.setFont('courier','normal'); doc.setTextColor(0,0,0);
                    const vLines = doc.splitTextToSize(String(value), TW - 140);
                    doc.text(vLines[0] || '', ML + 130, y);
                    y += LH;
                };

                appendSection('SCRIPT INTELLIGENCE');
                appendRow('Title', r.title || 'â€”');
                appendRow('Author', r.author || 'â€”');
                appendRow('Genre', r.genre);
                appendRow('Tone', r.tone);
                appendRow('Language', r.language || 'English');
                appendRow('Format', r.format);
                appendRow('Total Pages', Math.round(r.estimated_pages));
                appendRow('Scenes', r.scenes.length);
                appendRow('Est. Shoot Days', r.insights.shooting_days_estimate);
                appendRow('Budget Tier', r.insights.budget_tier);
                appendRow('Protagonist', r.insights.protagonist);

                appendSection('CAST â€” DAY OUT OF DAYS');
                (r.dodTable || []).filter(d=>d.totalDays>0).forEach(d => {
                    appendRow(d.name, `${d.role} Â· ${d.totalScenes} scenes Â· ${d.totalDays} shoot days`);
                });

                appendSection('LOCATIONS');
                r.locations.slice(0,20).forEach(loc => {
                    appendRow(loc.name, `${loc.type} Â· ${loc.count}x Â· ${loc.notes||''}`);
                });

                appendSection('RISK REGISTER');
                r.risks.forEach(risk => {
                    appendRow(`[${risk.level}] ${risk.title}`, risk.mitigation || risk.description || '');
                });

                appendSection('PRODUCTION NOTES');
                checkPage(4);
                doc.setFontSize(9); doc.setFont('courier','normal'); doc.setTextColor(0,0,0);
                const noteLines = doc.splitTextToSize(r.insights.production_notes || '', TW);
                noteLines.forEach(nl => { checkPage(1); doc.text(nl, ML, y); y += LH; });

                // Save
                const safeName = (r.title || Core.currentProduction || 'script').replace(/[^a-zA-Z0-9_\-]/g,'_');
                doc.save(`${safeName}_annotated_script.pdf`);
                Core.log(`Exported annotated script PDF: ${safeName}`);
                this.toast('ğŸ“„ Annotated script downloaded!', 'success');
            },

            toast(msg, type='info') {
                const colors  = {success:'rgba(16,185,129,.15)',info:'rgba(34,211,238,.15)',warn:'rgba(251,191,36,.15)',error:'rgba(244,63,94,.15)'};
                const borders = {success:'rgba(16,185,129,.4)',info:'rgba(34,211,238,.4)',warn:'rgba(251,191,36,.4)',error:'rgba(244,63,94,.4)'};
                const texts   = {success:'#10b981',info:'#22d3ee',warn:'#fbbf24',error:'#f43f5e'};
                const t = document.createElement('div');
                t.style.cssText = `position:fixed;bottom:32px;left:50%;transform:translateX(-50%);background:${colors[type]||colors.info};border:1px solid ${borders[type]||borders.info};color:${texts[type]||texts.info};font-family:var(--font-mono);font-size:12px;padding:10px 22px;border-radius:8px;z-index:9999;pointer-events:none;transition:opacity .4s;white-space:nowrap`;
                t.textContent = msg;
                document.body.appendChild(t);
                setTimeout(()=>{ t.style.opacity='0'; setTimeout(()=>t.remove(),500); }, 2800);
            },

            commitImport() {
                const r = this._result;
                if (!r) { alert('Run analysis first.'); return; }
                const scenes  = r.scenes    || [];
                const allCast = r.all_cast  || [];
                const locs    = r.locations || [];
                if (!scenes.length) { alert('No scenes found â€” check the script format.'); return; }

                const ins       = r.insights || {};
                const schedPlan = r.schedPlan || {};
                const risks     = r.risks || [];
                const shootDays = Math.max(1, ins.shooting_days_estimate || schedPlan.shootDays || 1);
                const tier      = ins.budget_tier || 'Low';
                const tm        = this._tierMult(tier);
                const today     = new Date();

                const allVehicles = [...new Set(scenes.flatMap(s => s.vehicles || []))];
                const allAnimals  = [...new Set(scenes.flatMap(s => s.animals  || []))];
                const allSFX      = [...new Set(scenes.flatMap(s => s.sfx      || []))];
                const allStunts   = [...new Set(scenes.flatMap(s => s.stunts   || []))];
                const allProps    = [...new Set(scenes.flatMap(s => s.props    || []))];
                const allVFX      = [...new Set(scenes.flatMap(s => s.vfx      || []))];
                const nightScenes = scenes.filter(s => ['NIGHT','DAWN','DUSK'].includes(s.daynight));
                const extScenes   = scenes.filter(s => s.intext === 'EXT' || s.intext === 'INT/EXT');
                const highCX      = scenes.filter(s => s.complexity === 'HIGH');
                const medCX       = scenes.filter(s => s.complexity === 'MEDIUM');
                const leadsArr    = allCast.filter(c => c.role === 'Lead');
                const suppArr     = allCast.filter(c => c.role === 'Supporting');

                if (!confirm(
                    `âš¡ FULL AUTO-IMPORT: "${r.title}" â†’ "${Core.currentProduction}"\n\n` +
                    `This will auto-generate EVERYTHING:\n` +
                    `  ğŸ¬  ${scenes.length} Breakdown Sheets\n` +
                    `  ğŸ“‹  ${scenes.length} Schedule Strips with smart Day Banners\n` +
                    `  ğŸ‘¥  ${allCast.length} Cast members with roles & scene counts\n` +
                    `  ğŸ“  ${locs.length} Locations with type, status & scene lists\n` +
                    `  ğŸ¥  Shot list stubs (Master + Coverage + Inserts)\n` +
                    `  ğŸ—“ï¸  Full production milestone timeline\n` +
                    `  âœ…  All pre-production tasks (conditional on script content)\n` +
                    `  ğŸ’°  Complete financial budget (all categories, auto-estimated)\n` +
                    `  ğŸ­  ${risks.length} Production risks auto-generated from script analysis\n` +
                    `  ğŸ‘·  7 default crew roles (if Film/Short/Doc)\n\n` +
                    `Budget tier: ${r.insights.budget_tier} Â· ${shootDays} shoot days est.\n\n` +
                    `You only review: FINANCIALS (real $) + SCHEDULING (real dates)\n\n` +
                    `Overwrite existing breakdowns and schedule?`
                )) return;

                // STEP 1 â€” BREAKDOWN SHEETS
                Core.data.breakdowns = scenes.map(s => {
                    // Build notes with permit flags and producer alerts
                    const notesArr = [];
                    if (s.description) notesArr.push(s.description.slice(0, 160));
                    if (s.complexity === 'HIGH') notesArr.push('âš ï¸ HIGH COMPLEXITY â€” extra prep time required');
                    if ((s.permitFlags || []).length > 0) notesArr.push('ğŸ“‹ Permits: ' + s.permitFlags.join(', '));
                    if (s.extrasEstimate > 0) notesArr.push('ğŸ‘¥ Est. background: ~' + s.extrasEstimate);
                    if ((s.specialEquip || []).length > 0) notesArr.push('ğŸ“· Special equip: ' + s.specialEquip.join(', '));

                    // Extras elements: combine extras array + estimate note
                    const extrasElements = [...(s.extras || [])];
                    if (s.extrasEstimate > 0 && extrasElements.length === 0) extrasElements.push('~' + s.extrasEstimate + ' background performers');

                    return {
                        sheet:               s.num,
                        pages:               this._fmtPages(s.pages),
                        date:                new Date().toLocaleDateString(),
                        project:             Core.currentProduction,
                        scene:               s.num,
                        intext:              s.intext,
                        daynight:            s.daynight,
                        location:            s.location,
                        description:         s.description || '',
                        complexity:          s.complexity,
                        complexityScore:     s.complexityScore || 0,
                        complexityOverride:  false,   // not manually set
                        prodFlags:           s.prodFlags || [],
                        action_lines:        s.action_lines || 0,
                        dialog_lines:        s.dialog_lines || 0,
                        extrasEstimate:      s.extrasEstimate || 0,
                        permitFlags:         s.permitFlags || [],
                        specialEquip:        s.specialEquip || [],
                        elements: {
                            cast:     s.cast        || [],
                            extras:   extrasElements,
                            stunts:   s.stunts      || [],
                            vehicles: s.vehicles    || [],
                            props:    s.props       || [],
                            sfx:      s.sfx         || [],
                            vfx:      s.vfx         || [],
                            costumes: s.wardrobe    || [],
                            makeup:   s.makeup      || [],
                            animals:  s.animals     || [],
                            greenery: [],
                            security: (s.stunts.length > 0 || (s.permitFlags || []).includes('weapons/pyro permit'))
                                      ? ['Stunt coordinator'] : [],
                            notes:    notesArr.filter(Boolean)
                        }
                    };
                });

                // STEP 2 â€” SCHEDULE STRIPS (use smart plan)
                {
                    const strips = (schedPlan.strips || []).map(strip => {
                        if (strip.type === 'banner') {
                            return { type: 'banner', text: strip.text, color: strip.color || 'cyan' };
                        }
                        return {
                            type:        'scene',
                            scene:       strip.num,
                            intext:      strip.intext,
                            daynight:    strip.daynight,
                            location:    strip.location,
                            description: strip.description || '',
                            cast:        (strip.cast || []).join(', '),
                            pages:       this._fmtPages(strip.pages),
                            complexity:  strip.complexity,
                            prodFlags:   strip.prodFlags || [],
                            shootDay:    strip.day || 1,
                            elements: {
                                cast:     strip.cast     || [],
                                props:    strip.props    || [],
                                vehicles: strip.vehicles || [],
                                sfx:      strip.sfx      || [],
                                animals:  strip.animals  || [],
                                stunts:   strip.stunts   || [],
                                costumes: strip.wardrobe || [],
                                makeup:   strip.makeup   || [],
                                vfx:      strip.vfx      || [],
                            }
                        };
                    });
                    Core.data.schedule = { strips };
                }

                // STEP 3 â€” CAST DATABASE
                CastCrew.syncFromImport(
                    allCast.map(c => ({
                        name:         c.name,
                        role:         c.role,
                        scenes_count: c.scenes_count,
                        dialog_lines: c.dialog_lines,
                        dialog_words: c.dialog_words || 0,
                    }))
                );

                // STEP 4 â€” LOCATIONS DATABASE
                if (!Core.data.locations) Core.data.locations = [];
                const existingLocSet = new Set((Core.data.locations||[]).map(l=>(l.name||'').toUpperCase()));
                locs.forEach(loc => {
                    if (existingLocSet.has(loc.name.toUpperCase())) return;
                    const locScenes = scenes.filter(s => s.location === loc.name);
                    const isRecurring = loc.count >= 3;
                    const hasNight = locScenes.some(s => ['NIGHT','DAWN','DUSK'].includes(s.daynight));
                    Core.data.locations.push({
                        id:             `LOC${Date.now()}${Math.floor(Math.random()*999)}`,
                        name:           loc.name,
                        type:           loc.type || (locScenes[0]?.intext || 'INT'),
                        address:        '',
                        contact:        '',
                        permitRequired: loc.type === 'EXT',
                        nightPermit:    hasNight,
                        scenes:         locScenes.map(s => s.num),
                        count:          loc.count || 1,
                        status:         'Scouting',
                        priority:       isRecurring ? 'High' : 'Normal',
                        notes:          [
                            isRecurring ? `Recurring (${loc.count}x) â€” consider standing set or long-term deal.` : '',
                            hasNight    ? 'Night scenes require additional lighting & permits.' : '',
                            loc.type === 'EXT' ? 'Exterior â€” weather contingency needed.' : ''
                        ].filter(Boolean).join(' '),
                        approved: false
                    });
                    existingLocSet.add(loc.name.toUpperCase());
                });

                // STEP 5 â€” SHOT LIST STUBS
                if (!Core.data.shotlist) Core.data.shotlist = [];
                const existingSceneNums = new Set(Core.data.shotlist.map(sh => sh.scene));
                const newShots = [];
                const estabLocs = new Set();

                scenes.forEach(s => {
                    if (existingSceneNums.has(s.num)) return;
                    const baseId = Date.now() + Math.floor(Math.random() * 99999);
                    const castList2 = s.cast || [];
                    const isExt = s.intext !== 'INT';
                    const isFirstLocAppearance = !estabLocs.has(s.location) && isExt;
                    if (isFirstLocAppearance) estabLocs.add(s.location);

                    if (isFirstLocAppearance) {
                        newShots.push({ id:baseId, scene:s.num, number:`${s.num}EST`,
                            description:`Establishing â€” ${s.location} ${s.daynight}`,
                            type:'Establishing', size:'EWS - Extreme Wide', angle:'Eye Level', movement:'Static',
                            lens:'24mm', fps:'24 fps', cast:'', equipment:'',
                            duration:'10 seconds', vfx:'',
                            notes:`First appearance of ${s.location} â€” establish geography.`,
                            status:'Planned', completed:false });
                    }

                    newShots.push({ id:baseId+1, scene:s.num, number:`${s.num}A`,
                        description:`Master â€” ${s.location} (${s.intext} ${s.daynight})${s.description?': '+s.description.slice(0,55):''}`,
                        type:'Master', size:isExt?'WS - Wide':'MS - Medium', angle:'Eye Level',
                        movement:s.complexity==='HIGH'?'Steadicam':'Static',
                        lens:isExt?'35mm':'50mm', fps:'24 fps',
                        cast:castList2.join(', '), equipment:s.complexity==='HIGH'?'Steadicam rig':'',
                        duration:`${Math.round((s.pages||0.25)*60)} seconds`, vfx:'',
                        notes:[s.complexity==='HIGH'?'âš ï¸ HIGH complexity â€” allow extra time.':'',
                               (s.sfx||[]).length?`SFX: ${(s.sfx||[]).slice(0,3).join(', ')}`:'',
                               (s.stunts||[]).length?`Stunts â€” coordinate with stunt dept.`:'',
                               (s.vfx||[]).length?`VFX: ${(s.vfx||[]).slice(0,2).join(', ')}`:'',
                              ].filter(Boolean).join(' '),
                        status:'Planned', completed:false });

                    if (castList2.length >= 2) {
                        castList2.slice(0, Math.min(castList2.length, 4)).forEach((char, ci) => {
                            const letter = String.fromCharCode(66+ci);
                            newShots.push({ id:baseId+2+ci, scene:s.num, number:`${s.num}${letter}`,
                                description:`OTS / Coverage â€” ${char}${castList2.length>1?` (facing ${castList2[(ci+1)%castList2.length]})`:''}`,
                                type:ci===0?'OTS':'Coverage', size:'MCU - Medium Close-Up',
                                angle:'Eye Level', movement:'Static', lens:'85mm', fps:'24 fps',
                                cast:char, equipment:'',
                                duration:`${Math.round((s.pages||0.25)*45)} seconds`, vfx:'',
                                notes:`Both sides of ${castList2.slice(0,2).join(' & ')} dialogue.`,
                                status:'Planned', completed:false });
                        });
                    }

                    if (s.sfx.length > 0 || s.complexity === 'HIGH') {
                        newShots.push({ id:baseId+10, scene:s.num, number:`${s.num}X`,
                            description:`Insert / Detail â€” ${s.location}${s.props.length>0?': '+s.props.slice(0,2).join(', '):''}`,
                            type:'Insert', size:'ECU - Extreme Close-Up', angle:'High Angle',
                            movement:'Static', lens:'100mm macro', fps:'24 fps',
                            cast:'', equipment:'',
                            duration:'3-5 seconds', vfx:'',
                            notes:'Grab during company moves or between setups.',
                            status:'Planned', completed:false });
                    }
                });
                Core.data.shotlist = [...Core.data.shotlist, ...newShots];

                // STEP 6 â€” MILESTONES
                if (!Core.data.milestones) Core.data.milestones = [];
                if (Core.data.milestones.length === 0) {
                    const msBase = new Date();
                    const addMs = (title, phase, offsetWeeks, desc) => {
                        Core.data.milestones.push({
                            id: `MS${Date.now()}${Math.floor(Math.random()*99)}`,
                            title, phase, description: desc,
                            dueDate: this._addDays(msBase, offsetWeeks*7),
                            completed: false
                        });
                    };
                    addMs('Script Lock & Final Draft',         'Development',     -8,  'All revisions complete. No further creative changes.');
                    addMs('Locations Scouted & Secured',       'Pre-Production',  -6,  `${locs.length} locations. All permits submitted.`);
                    addMs('Full Cast Confirmed',               'Pre-Production',  -5,  `${leadsArr.length} leads, ${suppArr.length} supporting.`);
                    addMs('Department Heads Hired',            'Pre-Production',  -5,  'Camera, Sound, Art, Wardrobe, Makeup leads on board.');
                    addMs('Breakdown & Budget Approved',       'Pre-Production',  -4,  `${scenes.length} scene breakdowns. Budget signed off.`);
                    addMs('Shot List & Storyboards Complete',  'Pre-Production',  -3,  `${newShots.length} shots planned.`);
                    addMs('Camera & Equipment Package Locked', 'Pre-Production',  -2,  'Camera, Grip, Lighting packages confirmed.');
                    addMs('First Day of Principal Photography','Production',       0,  `Day 1 of ${shootDays} shoot days.`);
                    if (nightScenes.length > 0)
                        addMs('Night Unit Begins',             'Production',       1,  `${nightScenes.length} night scenes scheduled.`);
                    addMs('Picture Wrap',                      'Production',       Math.ceil(shootDays/5)*1, 'All principal photography complete.');
                    addMs('Picture Lock',                      'Post-Production',  Math.ceil(shootDays/5)+4, 'Final edit approved. No more cuts.');
                    if (allVFX.length > 0)
                        addMs('VFX Final Delivery',            'Post-Production',  Math.ceil(shootDays/5)+6, `${allVFX.length} VFX elements complete.`);
                    addMs('Sound Mix & Score Complete',        'Post-Production',  Math.ceil(shootDays/5)+7, 'Final mix approved.');
                    addMs('Festival / Distribution Delivery',  'Distribution',     Math.ceil(shootDays/5)+12,'DCP and delivery specs met.');
                }

                // STEP 7 â€” RISK REGISTER (auto-generated risks)
                if (!Core.data.risks) Core.data.risks = [];
                if (Core.data.risks.length === 0 && risks.length > 0) {
                    risks.forEach(risk => {
                        Core.data.risks.push({
                            id:          `RISK${Date.now()}${Math.floor(Math.random()*999)}`,
                            title:       risk.title,
                            description: risk.description,
                            level:       risk.level,
                            category:    risk.category,
                            mitigation:  risk.mitigation,
                            resolved:    false,
                            status:      'Open',
                            source:      'Script Analysis'
                        });
                    });
                }

                // STEP 8 â€” BUDGET (auto-estimated, respects BSP scale if set)
                if (!Core.data.financials) Core.data.financials = { categories:[], notes:'' };
                if (!Core.data.financials.categories || Core.data.financials.categories.length === 0) {
                    // Use BSP-selected scale multiplier if available, otherwise use script tier
                    const _bspScaleId = Core.data.budget && Core.data.budget.scale;
                    const _bspScale   = (typeof BUDGET_SCALES !== 'undefined' && _bspScaleId) ? BUDGET_SCALES[_bspScaleId] : null;
                    const _tmFinal    = _bspScale ? this._tierMult(_bspScale.label) : tm;
                    const _tierLabel  = _bspScale ? _bspScale.label : tier;
                    const B = (name, sub, est) => ({ name, subcategory:sub, estimated: Math.round(est * _tmFinal), actual:0, notes:'' });
                    Core.data.financials.categories = [
                        B('Above-the-Line','Story & Screenplay',   12000),
                        B('Above-the-Line','Director',             25000),
                        B('Above-the-Line','Producers',            20000),
                        B('Above-the-Line','Lead Cast Ã— '+leadsArr.length,  leadsArr.length*15000),
                        B('Above-the-Line','Supporting Cast Ã— '+suppArr.length, suppArr.length*5000),
                        B('Camera Dept',   'Camera Package',       8000 + (allVFX.length>0?5000:0)),
                        B('Camera Dept',   'Steadicam / Specialty',highCX.length>3?6000:0),
                        B('Lighting Dept', 'Grip & Electric Package',6000),
                        B('Lighting Dept', 'Generator / Power',    nightScenes.length>5?4000:1500),
                        B('Sound Dept',    'Production Sound',     4000),
                        B('Sound Dept',    'Post Sound & Mix',     8000),
                        B('Art Dept',      'Production Design',    10000),
                        B('Art Dept',      'Props & Set Dressing', 5000 + allProps.length*50),
                        B('Art Dept',      'Wardrobe',             5000),
                        B('Art Dept',      'Hair & Makeup',        4000 + (scenes.some(s=>s.makeup.length>2)?3000:0)),
                        B('Locations',     'Location Fees Ã— '+locs.length, locs.length*1200),
                        B('Locations',     'Permits & Security',   locs.length*400),
                        B('Transportation','Picture Vehicles',     allVehicles.length*800),
                        B('Transportation','Production Vehicles',  shootDays*200),
                        B('Crew',          'Crew Wages (all depts)', shootDays*2500),
                        B('Crew',          'Catering & Craft',     shootDays*600),
                        B('SFX',           'Practical Effects',    allSFX.length*1500),
                        B('SFX',           'Pyrotechnics',         scenes.some(s=>s.sfx.some(f=>/explo|fire/i.test(f)))?8000:0),
                        B('Stunts',        'Stunt Coordinator & Team', allStunts.length*3000),
                        B('Animals',       'Animal Wrangler & Trainers', allAnimals.length*2500),
                        B('VFX',           'Visual Effects',       allVFX.length*4000),
                        B('Post',          'Editing',              6000),
                        B('Post',          'Color Grade & DI',     5000),
                        B('Post',          'Music & Score',        5000),
                        B('Post',          'Deliverables & DCP',   3000),
                        B('Insurance',     'Production Insurance', shootDays*300),
                        B('Contingency',   '10% Contingency',      0),
                    ].filter(c => c.estimated > 0);

                    const subtotal = Core.data.financials.categories.reduce((t,c)=>t+c.estimated,0);
                    Core.data.financials.categories.push(B('Contingency','10% Contingency', subtotal*0.1/_tmFinal));
                    Core.data.financials.notes = `Auto-generated from script analysis. Budget scale: ${_tierLabel}. ${scenes.length} scenes, ${shootDays} shoot days est.`;
                }

                // STEP 9 â€” TASKS
                if (!Core.data.tasks) Core.data.tasks = [];
                if (Core.data.tasks.length === 0) {
                    const addTask = (title, cat, priority, notes='') => {
                        Core.data.tasks.push({ id:`T${Date.now()}${Math.floor(Math.random()*99)}`, title, category:cat, priority, completed:false, notes, source:'script' });
                    };
                    addTask('Lock script and distribute to all departments', 'Pre-Production', 'High', 'No further creative changes after this point');
                    addTask('Scout and secure all '+locs.length+' locations', 'Locations', 'High');
                    addTask('Confirm all '+allCast.length+' cast members', 'Casting', 'High');
                    if (allStunts.length>0) addTask('Hire stunt coordinator', 'Safety', 'High', allStunts.slice(0,3).join(', '));
                    if (allAnimals.length>0) addTask('Book certified animal trainer/wrangler', 'Production', 'High', allAnimals.slice(0,3).join(', '));
                    if (allSFX.length>3) addTask('Hire SFX supervisor and lock practical FX vendor', 'Production', 'High');
                    if (allVFX.length>0) addTask('Select and contract VFX house', 'Post-Production', 'High', allVFX.slice(0,3).join(', '));
                    addTask('Complete all location permits', 'Locations', 'High');
                    addTask('Build and approve final shooting schedule', 'Production', 'High');
                    addTask('Lock equipment packages (camera, grip, electric, sound)', 'Camera', 'High');
                    addTask('Complete hair/makeup tests with all leads', 'Makeup', 'Medium');
                    addTask('Wardrobe fittings for all principal cast', 'Wardrobe', 'Medium');
                    addTask('Tech scout all locations with department heads', 'Locations', 'High');
                    addTask('Production insurance bound and active', 'Production', 'High');
                    if (nightScenes.length>0) addTask('Night unit logistics: generator, power, turnaround', 'Schedule', 'Medium');
                }

                // STEP 10 â€” CREW DEFAULTS
                if (!Core.data.crew) Core.data.crew = [];
                if (Core.data.crew.length === 0) {
                    ['Director of Photography','1st Assistant Director','Production Designer',
                     'Sound Recordist','Wardrobe Supervisor','Hair & Makeup Head','Script Supervisor'
                    ].forEach(role => {
                        Core.data.crew.push({ id:`CR${Date.now()}${Math.floor(Math.random()*99)}`, name:'TBD', role, status:'Seeking', rate:'', notes:'' });
                    });
                }

                Core.save();
                ['renderDashboard','renderSchedule','renderShotlist','renderContinuity','renderRisks','renderMilestones','renderContacts'].forEach(fn => {
                    try { if (typeof Core[fn]==='function') Core[fn](); } catch(e) {}
                });

                // Show proper import success popup
                (function showImportSuccessPopup(title, sceneCount, castCount, locCount, shotCount, riskCount) {
                    const scaleName = (Core.data.budget && Core.data.budget.scale && typeof BUDGET_SCALES !== 'undefined' && BUDGET_SCALES[Core.data.budget.scale])
                        ? BUDGET_SCALES[Core.data.budget.scale].label
                        : null;
                    const budgetTile = scaleName
                        ? ['ğŸ’°', scaleName, 'Budget Scale']
                        : null;
                    const tiles = [
                        ['ğŸ¬', sceneCount,  'Scenes'],
                        ['ğŸ‘¥', castCount,   'Cast'],
                        ['ğŸ“', locCount,    'Locations'],
                        ['ğŸ¥', shotCount,   'Shots'],
                        ['âš ï¸', riskCount,   'Risks'],
                    ];
                    if (budgetTile) tiles.push(budgetTile);
                    const ov = document.createElement('div');
                    ov.style.cssText = 'position:fixed;inset:0;background:rgba(3,5,8,0.88);backdrop-filter:blur(18px);display:flex;align-items:center;justify-content:center;z-index:9999998;opacity:0;transition:opacity .3s;';
                    ov.innerHTML = `
                    <div style="background:linear-gradient(145deg,#0d1a12,#091310);border:2px solid rgba(16,185,129,0.5);border-radius:20px;width:min(560px,92vw);padding:40px;box-shadow:0 40px 80px rgba(0,0,0,0.9),0 0 60px rgba(16,185,129,0.2);text-align:center;">
                        <div style="font-size:58px;margin-bottom:16px;animation:siPop .5s cubic-bezier(.34,1.56,.64,1) both;">âœ…</div>
                        <div style="font-family:var(--font-mono,monospace);font-size:10px;letter-spacing:3px;color:#10b981;text-transform:uppercase;margin-bottom:8px;opacity:.7;">Import Complete</div>
                        <div style="font-family:var(--font-display,'Bebas Neue',sans-serif);font-size:34px;letter-spacing:2px;color:#fff;margin-bottom:6px;">SCRIPT IMPORTED</div>
                        <div style="font-size:14px;color:rgba(255,255,255,0.5);margin-bottom:28px;font-style:italic;">"${title}"</div>
                        <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:28px;">
                            ${tiles.map(([icon,val,label])=>`
                            <div style="background:rgba(16,185,129,0.07);border:1px solid rgba(16,185,129,0.2);border-radius:10px;padding:14px 10px;">
                                <div style="font-size:22px;margin-bottom:4px;">${icon}</div>
                                <div style="font-family:var(--font-mono,monospace);font-size:${String(val).length > 8 ? '12' : '18'}px;font-weight:700;color:#10b981;">${val}</div>
                                <div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;letter-spacing:.5px;">${label}</div>
                            </div>`).join('')}
                        </div>
                        <button id="si-letsgo-btn" style="padding:14px 40px;background:linear-gradient(135deg,#10b981,#059669);border:none;border-radius:11px;color:#000;font-size:14px;font-weight:800;text-transform:uppercase;letter-spacing:1.5px;cursor:pointer;transition:all .2s;" onmouseover="this.style.transform='translateY(-2px)';this.style.boxShadow='0 8px 30px rgba(16,185,129,0.5)'" onmouseout="this.style.transform='';this.style.boxShadow=''">
                            Let's Go â†’
                        </button>
                        <style>@keyframes siPop{from{transform:scale(0) rotate(-15deg);opacity:0}to{transform:none;opacity:1}}</style>
                    </div>`;
                    document.body.appendChild(ov);
                    requestAnimationFrame(() => { ov.style.opacity = '1'; });
                    // Wire up Let's Go button â€” just close, BSP already ran before import
                    const letsGoBtn = ov.querySelector('#si-letsgo-btn');
                    if (letsGoBtn) {
                        letsGoBtn.addEventListener('click', function() {
                            ov.style.opacity = '0';
                            setTimeout(function(){ ov.remove(); }, 300);
                        });
                    }
                    ov.addEventListener('click', e => { if (e.target === ov) { ov.style.opacity='0'; setTimeout(()=>ov.remove(),300); } });
                })(r.title, scenes.length, allCast.length, locs.length, newShots.length, risks.length);

                Core.navigate('dashboard');
                Core.log(`Script imported: "${r.title}" â€” ${scenes.length} scenes, ${allCast.length} cast, ${locs.length} locations, ${newShots.length} shots, ${risks.length} risks auto-generated.`);
            },

            // â”€â”€ HELPER: budget tier multiplier â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            _tierMult(tier) {
                const t = (tier||'').toLowerCase();
                if (t.includes('block') || t.includes('studio')) return 200;
                if (t.includes('indie feature') || t.includes('feature')) return 8;
                if (t.includes('small indie') || t.includes('indie')) return 2;
                if (t.includes('student')) return 0.25;
                if (t.includes('skit') || t.includes('short')) return 0.04;
                return 1;
            },

            // â”€â”€ HELPER: format page fraction as string â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            _fmtPages(p) {
                const n = parseFloat(p) || 0;
                if (n <= 0) return '1/8';
                const whole = Math.floor(n);
                const frac  = n - whole;
                const fracs = [[7/8,'7/8'],[3/4,'3/4'],[5/8,'5/8'],[1/2,'1/2'],[3/8,'3/8'],[1/4,'1/4'],[1/8,'1/8']];
                const [, label] = fracs.find(([v]) => frac >= v - 0.05) || [0,''];
                return whole > 0 ? (label ? whole+' '+label : ''+whole) : (label || '1/8');
            },

            // â”€â”€ HELPER: add N days to a Date, returns ISO string â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            _addDays(base, days) {
                const d = new Date(base);
                d.setDate(d.getDate() + Math.round(days));
                return d.toISOString().slice(0, 10);
            }

        };



        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           PRODUCTION CRM MODULE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const ProdCRM = {
            draggedLead: null,

            renderPipeline() {
                if (!Core.data.crm) Core.data.crm = { leads: [], ledger: [] };
                const board = document.getElementById('prod-kanban-board');
                if (!board) return;
                
                board.innerHTML = CRM_STAGES.map(stage => {
                    const leads = (Core.data.crm.leads || []).filter(l => l.status === stage.id);
                    return `
                        <div class="kanban-column" data-stage="${stage.id}">
                            <div class="kanban-column-header">
                                <span class="kanban-column-title">${clean(stage.name)}</span>
                                <span class="kanban-column-count">${leads.length}</span>
                            </div>
                            <div class="kanban-column-body" ondragover="ProdCRM.allowDrop(event)" ondrop="ProdCRM.drop(event, '${stage.id}')">
                                ${leads.map(l => this.renderLeadCard(l)).join('')}
                            </div>
                        </div>
                    `;
                }).join('');
            },

            renderLeadCard(lead) {
                const interestClass = {
                    'Talent': 'interest-talent',
                    'Vendor': 'interest-vendor',
                    'Sponsor': 'interest-sponsor',
                    'Investor': 'interest-investor'
                }[lead.interest] || 'interest-custom';
                
                return `
                    <div class="kanban-card ${interestClass}" draggable="true" ondragstart="ProdCRM.dragStart(event, ${lead.id})" data-id="${lead.id}">
                        <div class="kanban-card-actions">
                            <button class="kanban-card-btn call" onclick="ProdCRM.loadToDialer(${lead.id}); event.stopPropagation();" title="Load to Dialer">ğŸ“</button>
                            <button class="kanban-card-btn" onclick="ProdCRM.editLead(${lead.id}); event.stopPropagation();" title="Edit">âœ</button>
                            <button class="kanban-card-btn del" onclick="ProdCRM.deleteLead(${lead.id}); event.stopPropagation();" title="Delete">Ã—</button>
                        </div>
                        <div class="kanban-card-name">${clean(lead.name)}</div>
                        <div class="kanban-card-phone">${lead.phone || 'No phone'}</div>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 8px;">
                            <span class="tag tag-${interestClass === 'interest-talent' ? 'pink' : interestClass === 'interest-vendor' ? 'cyan' : interestClass === 'interest-sponsor' ? 'gold' : interestClass === 'interest-investor' ? 'emerald' : 'violet'}">${lead.interest}</span>
                            <span class="kanban-card-value">$${Number(lead.value || 0).toLocaleString()}</span>
                        </div>
                    </div>
                `;
            },

            dragStart(e, id) {
                this.draggedLead = id;
                e.target.classList.add('dragging');
            },

            allowDrop(e) { 
                e.preventDefault(); 
            },

            drop(e, newStatus) {
                e.preventDefault();
                if (this.draggedLead) {
                    const lead = Core.data.crm.leads.find(l => l.id === this.draggedLead);
                    if (lead) {
                        lead.status = newStatus;
                        Core.save();
                        this.renderPipeline();
                        Core.log(`Contact "${clean(lead.name)}" moved to ${newStatus}`);
                    }
                }
                this.draggedLead = null;
                document.querySelectorAll('.kanban-card').forEach(card => card.classList.remove('dragging'));
            },

            loadToDialer(id) {
                Core.navigate('prod-dialer');
                // The dialer will show all contacts
            },

            renderDialer() {
                const leads = Core.data.crm?.leads || [];
                const container = document.getElementById('prod-dialer-queue');
                
                if (!container) return;
                
                if (leads.length === 0) {
                    container.innerHTML = '<div class="text-muted" style="text-align: center; padding: var(--space-2xl);">No contacts to call</div>';
                    return;
                }
                
                container.innerHTML = leads.map((lead, i) => `
                    <div style="background: var(--surface-3); padding: var(--space-md); border-radius: 6px; margin-bottom: var(--space-sm); display: flex; justify-content: space-between; align-items: center; gap: 8px; flex-wrap: wrap;">
                        <div style="flex:1; min-width:120px;">
                            <div style="font-weight: 700;">${clean(lead.name)}</div>
                            <div style="font-size: 12px; color: var(--text-50);">${lead.interest || 'No type'}</div>
                            ${lead.notes ? `<div style="font-size: 11px; color: var(--neon-cyan); margin-top: 4px;">ğŸ“ ${lead.notes.substring(0, 50)}${lead.notes.length > 50 ? '...' : ''}</div>` : ''}
                        </div>
                        <div style="display: flex; gap: var(--space-sm); align-items: center; flex-wrap: wrap;">
                            ${lead.phone ? `<a href="tel:${clean(lead.phone)}" class="btn btn-sm btn-primary">ğŸ“ Call</a>` : ''}
                            ${lead.email ? `<a href="mailto:${clean(lead.email)}" class="btn btn-sm">âœ‰ Email</a>` : ''}
                            <select class="form-select" style="width: auto; padding: 4px 8px;" onchange="ProdCRM.updateStatusById(${lead.id}, this.value)">
                                <option value="new"         ${lead.status === 'new'         ? 'selected' : ''}>New</option>
                                <option value="contacted"   ${lead.status === 'contacted'   ? 'selected' : ''}>Contacted</option>
                                <option value="interested"  ${lead.status === 'interested'  ? 'selected' : ''}>Interested</option>
                                <option value="negotiating" ${lead.status === 'negotiating' ? 'selected' : ''}>Negotiating</option>
                                <option value="confirmed"   ${lead.status === 'confirmed'   ? 'selected' : ''}>Confirmed</option>
                                <option value="declined"    ${lead.status === 'declined'    ? 'selected' : ''}>Declined</option>
                            </select>
                        </div>
                    </div>
                `).join('');
            },

            updateStatusById(id, status) {
                const lead = (Core.data.crm?.leads || []).find(l => l.id === id);
                if (lead) {
                    lead.status = status;
                    Core.save();
                    this.renderPipeline();
                    this.renderIntel();
                    Core.log(`Contact "${clean(lead.name)}" status â†’ ${status}`);
                }
            },

            renderIntel() {
                const leads = Core.data.crm?.leads || [];
                const ledger = Core.data.crm?.ledger || [];
                
                const totalValue = leads.reduce((sum, l) => sum + (Number(l.value) || 0), 0);
                const confirmed = leads.filter(l => l.status === 'Confirmed');
                const confirmedValue = confirmed.reduce((sum, l) => sum + (Number(l.value) || 0), 0);
                const totalIncome = ledger.reduce((sum, t) => sum + (Number(t.amount) || 0), 0);
                const conversion = leads.length > 0 ? ((confirmed.length / leads.length) * 100).toFixed(0) : 0;
                
                const pipelineEl = document.getElementById('prod-intel-pipeline');
                const revenueEl = document.getElementById('prod-intel-revenue');
                const conversionEl = document.getElementById('prod-intel-conversion');
                
                if (pipelineEl) pipelineEl.textContent = '$' + totalValue.toLocaleString();
                if (revenueEl) revenueEl.textContent = '$' + confirmedValue.toLocaleString();
                if (conversionEl) conversionEl.textContent = conversion + '%';
                
                const tbody = document.getElementById('prod-table-ledger');
                if (!tbody) return;
                
                if (ledger.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="5" class="table-empty">No transactions</td></tr>';
                } else {
                    tbody.innerHTML = ledger.map((t, i) => `
                        <tr>
                            <td class="font-mono">${t.date || ''}</td>
                            <td>${t.source}</td>
                            <td>${t.type || 'Income'}</td>
                            <td class="font-mono font-bold" style="color: var(--neon-emerald);">$${Number(t.amount).toLocaleString()}</td>
                            <td><button class="delete-btn" onclick="ProdCRM.deleteIncome(${i})">Ã—</button></td>
                        </tr>
                    `).join('');
                }
            },

            showLeadModal(id = null) {
                if (!Core.data.crm) Core.data.crm = { leads: [], ledger: [] };
                if (!Core.data.crm.leads) Core.data.crm.leads = [];
                document.getElementById('modal-prod-lead').classList.add('active');
                document.getElementById('prod-lead-modal-title').textContent = id ? 'Edit Contact' : 'Add Contact';
                document.getElementById('prod-lead-id').value = id || '';
                
                if (id) {
                    const lead = Core.data.crm.leads.find(l => l.id === id);
                    if (lead) {
                        document.getElementById('prod-lead-name').value = lead.name || '';
                        document.getElementById('prod-lead-phone').value = lead.phone || '';
                        document.getElementById('prod-lead-email').value = lead.email || '';
                        
                        const standardTypes = ['Talent', 'Vendor', 'Sponsor', 'Investor'];
                        if (standardTypes.includes(lead.interest)) {
                            document.getElementById('prod-lead-interest').value = lead.interest;
                            document.getElementById('prod-custom-interest-group').classList.add('hidden');
                        } else {
                            document.getElementById('prod-lead-interest').value = 'Custom';
                            document.getElementById('prod-lead-custom-interest').value = lead.interest || '';
                            document.getElementById('prod-custom-interest-group').classList.remove('hidden');
                        }
                        
                        document.getElementById('prod-lead-value').value = lead.value || '';
                        document.getElementById('prod-lead-notes').value = lead.notes || '';
                    }
                } else {
                    document.getElementById('prod-lead-name').value = '';
                    document.getElementById('prod-lead-phone').value = '';
                    document.getElementById('prod-lead-email').value = '';
                    document.getElementById('prod-lead-interest').value = 'Talent';
                    document.getElementById('prod-lead-custom-interest').value = '';
                    document.getElementById('prod-custom-interest-group').classList.add('hidden');
                    document.getElementById('prod-lead-value').value = '';
                    document.getElementById('prod-lead-notes').value = '';
                }
            },

            editLead(id) { 
                this.showLeadModal(id); 
            },

            toggleCustomInterest() {
                const select = document.getElementById('prod-lead-interest');
                const customGroup = document.getElementById('prod-custom-interest-group');
                if (select.value === 'Custom') {
                    customGroup.classList.remove('hidden');
                } else {
                    customGroup.classList.add('hidden');
                }
            },

            saveLead() {
                if (!Core.data.crm) Core.data.crm = { leads: [], ledger: [] };
                if (!Core.data.crm.leads) Core.data.crm.leads = [];
                const id = document.getElementById('prod-lead-id').value;
                const name = document.getElementById('prod-lead-name').value.trim();
                if (!name) { alert('Name is required'); return; }
                
                let interest = document.getElementById('prod-lead-interest').value;
                if (interest === 'Custom') {
                    interest = document.getElementById('prod-lead-custom-interest').value.trim() || 'Other';
                }
                
                const leadData = {
                    name,
                    phone: document.getElementById('prod-lead-phone').value.trim(),
                    email: document.getElementById('prod-lead-email').value.trim(),
                    interest,
                    value: document.getElementById('prod-lead-value').value,
                    notes: document.getElementById('prod-lead-notes').value.trim()
                };
                
                if (id) {
                    // Edit existing lead
                    const lead = Core.data.crm.leads.find(l => l.id === parseInt(id));
                    if (lead) {
                        Object.assign(lead, leadData);
                        Core.log(`Updated contact: ${name}`);
                    }
                } else {
                    // Add new lead
                    Core.data.crm.leads.push({ 
                        id: Date.now(), 
                        status: 'new', 
                        ...leadData 
                    });
                    Core.log(`Added contact: ${name}`);
                }
                
                Core.save();
                this.hideModals();
                this.renderPipeline();
                this.renderDialer();
                this.renderIntel();
                Core.renderDashboard();
            },

            deleteLead(id) {
                if (confirm('Delete this contact?')) {
                    if (!Core.data.crm?.leads) return;
                    const index = Core.data.crm.leads.findIndex(l => l.id === id);
                    if (index !== -1) {
                        Core.data.crm.leads.splice(index, 1);
                        Core.save();
                        this.renderPipeline();
                        this.renderDialer();
                        this.renderIntel();
                        Core.renderDashboard();
                    }
                }
            },

            updateStatus(id, status) {
                const lead = Core.data.crm.leads.find(l => l.id === id);
                if (lead) {
                    lead.status = status;
                    Core.save();
                    this.renderPipeline();
                    this.renderIntel();
                }
            },

            showIncomeModal() {
                document.getElementById('prod-income-source').value = '';
                document.getElementById('prod-income-amount').value = '';
                document.getElementById('prod-income-date').value = new Date().toISOString().split('T')[0];
                document.getElementById('modal-prod-income').classList.add('active');
            },

            saveIncome() {
                const source = document.getElementById('prod-income-source').value.trim();
                const amount = document.getElementById('prod-income-amount').value;
                const date = document.getElementById('prod-income-date').value;
                
                if (!source || !amount) { alert('Source and amount required'); return; }
                
                if (!Core.data.crm.ledger) Core.data.crm.ledger = [];
                Core.data.crm.ledger.unshift({ source, amount, date });
                Core.save();
                this.hideModals();
                this.renderIntel();
                Core.log(`Income recorded: $${amount} from ${source}`);
            },

            deleteIncome(index) {
                if (confirm('Delete this transaction?')) {
                    Core.data.crm.ledger.splice(index, 1);
                    Core.save();
                    this.renderIntel();
                }
            },

            hideModals() {
                document.getElementById('modal-prod-lead').classList.remove('active');
                document.getElementById('modal-prod-income').classList.remove('active');
            }
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           BUSINESS CRM MODULE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const BizCRM = {
            draggedLead: null,

            renderPipeline() {
                if (!Core.bizData) Core.bizData = { leads: [], ledger: [] };
                const board = document.getElementById('biz-kanban-board');
                if (!board) return;
                
                board.innerHTML = CRM_STAGES.map(stage => {
                    const leads = (Core.bizData.leads || []).filter(l => l.status === stage.id);
                    return `
                        <div class="kanban-column" data-stage="${stage.id}">
                            <div class="kanban-header">
                                <span>${clean(stage.name)}</span>
                                <span class="kanban-header-count">${leads.length}</span>
                            </div>
                            <div class="kanban-cards" ondragover="BizCRM.allowDrop(event)" ondrop="BizCRM.drop(event, '${stage.id}')">
                                ${leads.map(l => this.renderLeadCard(l)).join('')}
                            </div>
                        </div>
                    `;
                }).join('');
            },

            renderLeadCard(lead) {
                const interestClass = {
                    'Cinema': 'interest-cinema',
                    'VR': 'interest-vr',
                    'General Video': 'interest-video',
                    'Cyber': 'interest-cyber'
                }[lead.interest] || 'interest-custom';
                
                return `
                    <div class="kanban-card ${interestClass}" draggable="true" ondragstart="BizCRM.dragStart(event, ${lead.id})" data-id="${lead.id}">
                        <div class="kanban-card-actions">
                            <button class="kanban-card-btn call" onclick="BizCRM.loadToDialer(${lead.id}); event.stopPropagation();" title="Load to Dialer">ğŸ“</button>
                            <button class="kanban-card-btn" onclick="BizCRM.editLead(${lead.id}); event.stopPropagation();" title="Edit">âœ</button>
                            <button class="kanban-card-btn del" onclick="BizCRM.deleteLead(${lead.id}); event.stopPropagation();" title="Delete">Ã—</button>
                        </div>
                        <div class="kanban-card-name">${clean(lead.name)}</div>
                        ${lead.company ? `<div class="kanban-card-company">${clean(lead.company)}</div>` : ''}
                        <div class="kanban-card-phone">${lead.phone || 'No phone'}</div>
                        <div class="kanban-card-value">$${Number(lead.value || 0).toLocaleString()}</div>
                        ${lead.interest ? `
                        <div class="kanban-card-meta">
                            <span class="kanban-card-tag">${lead.interest}</span>
                        </div>
                        ` : ''}
                    </div>
                `;
            },

            dragStart(e, id) {
                this.draggedLead = id;
                e.target.classList.add('dragging');
            },

            allowDrop(e) { 
                e.preventDefault(); 
            },

            drop(e, newStatus) {
                e.preventDefault();
                if (this.draggedLead) {
                    const lead = Core.bizData.leads.find(l => l.id === this.draggedLead);
                    if (lead) {
                        lead.status = newStatus;
                        Core.saveBizData();
                        this.renderPipeline();
                        Core.renderDashboard(); // Update dashboard stats
                        Core.log(`Lead "${clean(lead.name)}" moved to ${newStatus}`);
                    }
                }
                this.draggedLead = null;
                document.querySelectorAll('.kanban-card').forEach(card => card.classList.remove('dragging'));
            },

            loadToDialer(id) {
                Core.navigate('biz-dialer');
                // The dialer will show all leads
            },

            renderDialer() {
                const leads = Core.bizData?.leads || [];
                const container = document.getElementById('biz-dialer-queue');
                
                if (!container) return;
                
                if (leads.length === 0) {
                    container.innerHTML = '<div class="text-muted" style="text-align: center; padding: var(--space-2xl);">No leads to call</div>';
                    return;
                }
                
                container.innerHTML = leads.map((lead, i) => `
                    <div style="background: var(--surface-3); padding: var(--space-md); border-radius: 6px; margin-bottom: var(--space-sm); display: flex; justify-content: space-between; align-items: center; border-left: 3px solid var(--neon-gold);">
                        <div>
                            <div style="font-weight: 700;">${clean(lead.name)}</div>
                            <div style="font-size: 12px; color: var(--text-50);">${lead.interest || 'No interest'}</div>
                            ${lead.notes ? `<div style="font-size: 11px; color: var(--neon-gold); margin-top: 4px;">ğŸ“ ${lead.notes.substring(0, 50)}${lead.notes.length > 50 ? '...' : ''}</div>` : ''}
                        </div>
                        <div style="display: flex; gap: var(--space-sm); align-items: center;">
                            ${lead.phone ? `<a href="tel:${clean(lead.phone)}" class="btn btn-sm btn-gold">ğŸ“ Call</a>` : ''}
                            ${lead.email ? `<a href="mailto:${clean(lead.email)}" class="btn btn-sm">âœ‰ Email</a>` : ''}
                            <select class="form-select" style="width: auto; padding: 4px 8px;" onchange="BizCRM.updateStatus(${i}, this.value)">
                                <option value="New" ${lead.status === 'New' ? 'selected' : ''}>New</option>
                                <option value="Contacted" ${lead.status === 'Contacted' ? 'selected' : ''}>Contacted</option>
                                <option value="Proposal" ${lead.status === 'Proposal' ? 'selected' : ''}>Proposal</option>
                                <option value="Won" ${lead.status === 'Won' ? 'selected' : ''}>Won</option>
                                <option value="Lost" ${lead.status === 'Lost' ? 'selected' : ''}>Lost</option>
                            </select>
                        </div>
                    </div>
                `).join('');
            },

            renderIntel() {
                const leads = Core.bizData?.leads || [];
                const ledger = Core.bizData?.ledger || [];
                
                const totalValue = leads.reduce((sum, l) => sum + (Number(l.value) || 0), 0);
                const won = leads.filter(l => l.status === 'Won');
                const wonValue = won.reduce((sum, l) => sum + (Number(l.value) || 0), 0);
                const totalIncome = ledger.reduce((sum, t) => sum + (Number(t.amount) || 0), 0);
                const conversion = leads.length > 0 ? ((won.length / leads.length) * 100).toFixed(0) : 0;
                
                const pipelineEl = document.getElementById('biz-intel-pipeline');
                const revenueEl = document.getElementById('biz-intel-revenue');
                const conversionEl = document.getElementById('biz-intel-conversion');
                
                if (pipelineEl) pipelineEl.textContent = '$' + totalValue.toLocaleString();
                if (revenueEl) revenueEl.textContent = '$' + wonValue.toLocaleString();
                if (conversionEl) conversionEl.textContent = conversion + '%';
                
                const tbody = document.getElementById('biz-table-ledger');
                if (!tbody) return;
                
                if (ledger.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="5" class="table-empty">No transactions</td></tr>';
                } else {
                    tbody.innerHTML = ledger.map((t, i) => `
                        <tr>
                            <td class="font-mono">${t.date || ''}</td>
                            <td>${t.source}</td>
                            <td>${t.type || 'Income'}</td>
                            <td class="font-mono font-bold" style="color: var(--neon-gold);">$${Number(t.amount).toLocaleString()}</td>
                            <td><button class="delete-btn" onclick="BizCRM.deleteIncome(${i})">Ã—</button></td>
                        </tr>
                    `).join('');
                }
            },

            showLeadModal(id = null) {
                document.getElementById('modal-biz-lead').classList.add('active');
                document.getElementById('biz-lead-modal-title').textContent = id ? 'Edit Lead' : 'Add Lead';
                document.getElementById('biz-lead-id').value = id || '';
                
                if (id) {
                    const lead = Core.bizData.leads.find(l => l.id === id);
                    if (lead) {
                        document.getElementById('biz-lead-name').value = lead.name || '';
                        document.getElementById('biz-lead-phone').value = lead.phone || '';
                        document.getElementById('biz-lead-email').value = lead.email || '';
                        
                        const standardInterests = ['Cinema', 'VR', 'General Video', 'Cyber'];
                        if (standardInterests.includes(lead.interest)) {
                            document.getElementById('biz-lead-interest').value = lead.interest;
                            document.getElementById('biz-custom-interest-group').classList.add('hidden');
                        } else {
                            document.getElementById('biz-lead-interest').value = 'Custom';
                            document.getElementById('biz-lead-custom-interest').value = lead.interest || '';
                            document.getElementById('biz-custom-interest-group').classList.remove('hidden');
                        }
                        
                        document.getElementById('biz-lead-value').value = lead.value || '';
                        document.getElementById('biz-lead-notes').value = lead.notes || '';
                    }
                } else {
                    document.getElementById('biz-lead-name').value = '';
                    document.getElementById('biz-lead-phone').value = '';
                    document.getElementById('biz-lead-email').value = '';
                    document.getElementById('biz-lead-interest').value = 'Cinema';
                    document.getElementById('biz-lead-custom-interest').value = '';
                    document.getElementById('biz-custom-interest-group').classList.add('hidden');
                    document.getElementById('biz-lead-value').value = '';
                    document.getElementById('biz-lead-notes').value = '';
                }
            },

            editLead(id) { 
                this.showLeadModal(id); 
            },

            toggleCustomInterest() {
                const select = document.getElementById('biz-lead-interest');
                const customGroup = document.getElementById('biz-custom-interest-group');
                if (select.value === 'Custom') {
                    customGroup.classList.remove('hidden');
                } else {
                    customGroup.classList.add('hidden');
                }
            },

            saveLead() {
                const id = document.getElementById('biz-lead-id').value;
                const name = document.getElementById('biz-lead-name').value.trim();
                if (!name) { alert('Name is required'); return; }
                
                let interest = document.getElementById('biz-lead-interest').value;
                if (interest === 'Custom') {
                    interest = document.getElementById('biz-lead-custom-interest').value.trim() || 'Other';
                }
                
                const leadData = {
                    name,
                    phone: document.getElementById('biz-lead-phone').value.trim(),
                    email: document.getElementById('biz-lead-email').value.trim(),
                    interest,
                    value: document.getElementById('biz-lead-value').value,
                    notes: document.getElementById('biz-lead-notes').value.trim()
                };
                
                if (id) {
                    // Edit existing lead
                    const lead = Core.bizData.leads.find(l => l.id === parseInt(id));
                    if (lead) {
                        Object.assign(lead, leadData);
                        Core.log(`Updated lead: ${name}`);
                    }
                } else {
                    // Add new lead
                    if (!Core.bizData.leads) Core.bizData.leads = [];
                    Core.bizData.leads.push({ 
                        id: Date.now(), 
                        status: 'new', 
                        ...leadData 
                    });
                    Core.log(`Added lead: ${name}`);
                }
                
                Core.saveBizData();
                this.hideModals();
                this.renderPipeline();
                this.renderDialer();
                this.renderIntel();
                Core.renderDashboard(); // Update dashboard stats
            },

            deleteLead(id) {
                if (confirm('Delete this lead?')) {
                    const index = Core.bizData.leads.findIndex(l => l.id === id);
                    if (index !== -1) {
                        Core.bizData.leads.splice(index, 1);
                        Core.saveBizData();
                        this.renderPipeline();
                        this.renderDialer();
                        this.renderIntel();
                        Core.renderDashboard(); // Update dashboard stats
                    }
                }
            },

            updateStatus(id, status) {
                const lead = Core.bizData.leads.find(l => l.id === id);
                if (lead) {
                    lead.status = status;
                    Core.saveBizData();
                    this.renderPipeline();
                    this.renderIntel();
                }
            },

            showIncomeModal() {
                document.getElementById('biz-income-source').value = '';
                document.getElementById('biz-income-amount').value = '';
                document.getElementById('biz-income-date').value = new Date().toISOString().split('T')[0];
                document.getElementById('modal-biz-income').classList.add('active');
            },

            saveIncome() {
                const source = document.getElementById('biz-income-source').value.trim();
                const amount = document.getElementById('biz-income-amount').value;
                const date = document.getElementById('biz-income-date').value;
                
                if (!source || !amount) { alert('Source and amount required'); return; }
                
                if (!Core.bizData.ledger) Core.bizData.ledger = [];
                Core.bizData.ledger.unshift({ source, amount, date });
                Core.saveBizData();
                this.hideModals();
                this.renderIntel();
                Core.log(`Business income recorded: $${amount} from ${source}`);
            },

            deleteIncome(index) {
                if (confirm('Delete this transaction?')) {
                    Core.bizData.ledger.splice(index, 1);
                    Core.saveBizData();
                    this.renderIntel();
                }
            },

            hideModals() {
                document.getElementById('modal-biz-lead').classList.remove('active');
                document.getElementById('modal-biz-income').classList.remove('active');
            }
        };


        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           GANTT MODULE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STATE-OF-THE-ART GANTT CHART MODULE
   Features: Drag-and-drop, Dependencies, Progress tracking, Milestones, 
   Critical path, Resource allocation, Export
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const GanttEnhanced = {
    currentView: 'production',
    zoom: 1, // 1 = days, 7 = weeks, 30 = months
    draggedTask: null,
    dependencies: {}, // taskId: [dependsOnIds]
    
    init() {
        if (!Core.data.gantt) Core.data.gantt = { production: [], global: [] };
        this.render();
    },

    switchView(view) {
        this.currentView = view;
        document.getElementById('gantt-btn-production').classList.toggle('btn-primary', view === 'production');
        document.getElementById('gantt-btn-global').classList.toggle('btn-primary', view === 'global');
        this.render();
    },

    render() {
        const container = document.getElementById('gantt-container');
        const tasks = Core.data.gantt?.[this.currentView] || [];
        
        if (tasks.length === 0) {
            container.innerHTML = `
                <div style="text-align: center; padding: 4rem; color: var(--text-50);">
                    <div style="font-size: 48px; margin-bottom: 1rem;">ğŸ“Š</div>
                    <div style="font-size: 18px; margin-bottom: 1rem;">No tasks yet</div>
                    <div style="font-size: 14px;">Click "+ Add Task" to create your first task</div>
                </div>
            `;
            return;
        }

        // Calculate timeline bounds
        const allDates = tasks.flatMap(t => [new Date(t.start), new Date(t.end)]);
        const minDate = new Date(Math.min(...allDates));
        const maxDate = new Date(Math.max(...allDates));
        
        // Add padding to timeline
        minDate.setDate(minDate.getDate() - 7);
        maxDate.setDate(maxDate.getDate() + 7);
        
        const totalDays = Math.ceil((maxDate - minDate) / (1000 * 60 * 60 * 24));
        const today = new Date();

        // Calculate critical path
        const criticalPath = this.calculateCriticalPath(tasks);

        // Render timeline header
        const headerHTML = this.renderTimelineHeader(minDate, maxDate, totalDays);
        
        // Render tasks
        const tasksHTML = tasks.map((task, idx) => {
            const startDate = new Date(task.start);
            const endDate = new Date(task.end);
            const taskDays = Math.ceil((endDate - startDate) / (1000 * 60 * 60 * 24)) + 1;
            const offsetDays = Math.ceil((startDate - minDate) / (1000 * 60 * 60 * 24));
            
            const leftPercent = (offsetDays / totalDays) * 100;
            const widthPercent = (taskDays / totalDays) * 100;
            
            const progress = task.progress || 0;
            const isCritical = criticalPath.includes(task.id || idx);
            const isOverdue = endDate < today && progress < 100;
            
            const phaseColors = {
                development: '#a855f7',
                preproduction: '#00f0ff',
                production: '#10b981',
                postproduction: '#f59e0b',
                distribution: '#f43f5e'
            };
            
            const color = phaseColors[task.phase] || '#00f0ff';
            
            return `
                <div class="gantt-row" data-task-id="${idx}">
                    <div class="gantt-task-info">
                        <div class="gantt-task-name" style="font-weight: ${isCritical ? '700' : '500'}; ${isCritical ? 'color: var(--neon-rose);' : ''}">
                            ${isCritical ? 'âš¡ ' : ''}${this.escapeHTML(task.name)}
                            ${task.milestone ? ' ğŸ' : ''}
                        </div>
                        <div class="gantt-task-meta">
                            <span>${task.owner || 'Unassigned'}</span>
                            <span>${task.start} â†’ ${task.end}</span>
                            <span>${taskDays}d</span>
                        </div>
                    </div>
                    <div class="gantt-timeline-area" style="position: relative;">
                        ${this.renderDependencies(task, idx, tasks, minDate, totalDays)}
                        <div class="gantt-bar ${isOverdue ? 'overdue' : ''} ${isCritical ? 'critical' : ''}" 
                             style="left: ${leftPercent}%; width: ${widthPercent}%; background: ${color};"
                             draggable="true"
                             data-task-idx="${idx}"
                             ondragstart="GanttEnhanced.onDragStart(event, ${idx})"
                             ondragover="GanttEnhanced.onDragOver(event)"
                             ondrop="GanttEnhanced.onDrop(event, ${idx})"
                             title="${this.escapeHTML(task.name)}: ${task.start} to ${task.end}">
                            <div class="gantt-bar-progress" style="width: ${progress}%; background: linear-gradient(90deg, rgba(255,255,255,0.3), rgba(255,255,255,0.1));"></div>
                            <div class="gantt-bar-content">
                                <span class="gantt-bar-label">${this.escapeHTML(task.name)}</span>
                                <span class="gantt-bar-progress-label">${progress}%</span>
                            </div>
                            <div class="gantt-bar-resize-left" onmousedown="GanttEnhanced.startResize(event, ${idx}, 'left')"></div>
                            <div class="gantt-bar-resize-right" onmousedown="GanttEnhanced.startResize(event, ${idx}, 'right')"></div>
                        </div>
                        ${task.milestone ? `
                            <div class="gantt-milestone" style="left: ${leftPercent + widthPercent}%;" title="Milestone: ${this.escapeHTML(task.name)}">
                                <div class="milestone-diamond">â—†</div>
                            </div>
                        ` : ''}
                    </div>
                    <div class="gantt-actions">
                        <button class="btn-icon" onclick="GanttEnhanced.editTask(${idx})" title="Edit">âœï¸</button>
                        <button class="btn-icon" onclick="GanttEnhanced.deleteTask(${idx})" title="Delete">ğŸ—‘ï¸</button>
                    </div>
                </div>
            `;
        }).join('');

        // Render today marker
        const todayOffset = Math.ceil((today - minDate) / (1000 * 60 * 60 * 24));
        const todayPercent = (todayOffset / totalDays) * 100;
        const todayMarker = todayPercent >= 0 && todayPercent <= 100 ? `
            <div class="gantt-today-marker" style="left: ${todayPercent}%;">
                <div class="today-line"></div>
                <div class="today-label">TODAY</div>
            </div>
        ` : '';

        container.innerHTML = `
            <div class="gantt-chart">
                <div class="gantt-header">
                    <div class="gantt-task-info-header">Task</div>
                    <div class="gantt-timeline-header">
                        ${headerHTML}
                        ${todayMarker}
                    </div>
                    <div class="gantt-actions-header">Actions</div>
                </div>
                <div class="gantt-body">
                    ${tasksHTML}
                </div>
            </div>
        `;
    },

    renderTimelineHeader(minDate, maxDate, totalDays) {
        const months = [];
        const weeks = [];
        let currentMonth = null;
        let currentWeek = null;
        let monthDays = 0;
        let weekDays = 0;

        for (let i = 0; i < totalDays; i++) {
            const date = new Date(minDate);
            date.setDate(date.getDate() + i);
            const month = date.toLocaleDateString('en-US', { month: 'short', year: 'numeric' });
            const week = this.getWeekNumber(date);

            if (month !== currentMonth) {
                if (currentMonth) {
                    months.push({ label: currentMonth, days: monthDays });
                }
                currentMonth = month;
                monthDays = 0;
            }
            monthDays++;

            if (week !== currentWeek) {
                if (currentWeek) {
                    weeks.push({ label: `W${currentWeek}`, days: weekDays });
                }
                currentWeek = week;
                weekDays = 0;
            }
            weekDays++;
        }
        
        if (currentMonth) months.push({ label: currentMonth, days: monthDays });
        if (currentWeek) weeks.push({ label: `W${currentWeek}`, days: weekDays });

        const monthsHTML = months.map(m => 
            `<div class="gantt-month" style="width: ${(m.days / totalDays) * 100}%;">${m.label}</div>`
        ).join('');

        const weeksHTML = weeks.map(w => 
            `<div class="gantt-week" style="width: ${(w.days / totalDays) * 100}%;">${w.label}</div>`
        ).join('');

        return `
            <div class="gantt-timeline-months">${monthsHTML}</div>
            <div class="gantt-timeline-weeks">${weeksHTML}</div>
        `;
    },

    renderDependencies(task, taskIdx, allTasks, minDate, totalDays) {
        if (!task.dependencies || task.dependencies.length === 0) return '';
        
        return task.dependencies.map(depId => {
            const depTask = allTasks[depId];
            if (!depTask) return '';
            
            const depEndDate = new Date(depTask.end);
            const taskStartDate = new Date(task.start);
            const depEndOffset = Math.ceil((depEndDate - minDate) / (1000 * 60 * 60 * 24));
            const taskStartOffset = Math.ceil((taskStartDate - minDate) / (1000 * 60 * 60 * 24));
            
            const x1 = (depEndOffset / totalDays) * 100;
            const x2 = (taskStartOffset / totalDays) * 100;
            
            // Simple arrow connecting dependencies
            return `
                <svg class="gantt-dependency-arrow" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; overflow: visible;">
                    <line x1="${x1}%" y1="50%" x2="${x2}%" y2="50%" stroke="var(--neon-cyan)" stroke-width="2" stroke-dasharray="4" opacity="0.6"/>
                    <polygon points="${x2-0.5},47 ${x2},50 ${x2-0.5},53" fill="var(--neon-cyan)" opacity="0.6" transform="translate(0, 0)"/>
                </svg>
            `;
        }).join('');
    },

    getWeekNumber(date) {
        const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));
        const dayNum = d.getUTCDay() || 7;
        d.setUTCDate(d.getUTCDate() + 4 - dayNum);
        const yearStart = new Date(Date.UTC(d.getUTCFullYear(),0,1));
        return Math.ceil((((d - yearStart) / 86400000) + 1)/7);
    },

    calculateCriticalPath(tasks) {
        // Simplified critical path calculation
        // In a full implementation, this would use topological sort + longest path algorithm
        const critical = [];
        tasks.forEach((task, idx) => {
            const duration = Math.ceil((new Date(task.end) - new Date(task.start)) / (1000 * 60 * 60 * 24));
            if (duration > 30 || task.priority === 'high') { // Simple heuristic
                critical.push(idx);
            }
        });
        return critical;
    },

    addTask() {
        const modal = this.createTaskModal();
        document.body.appendChild(modal);
    },

    editTask(idx) {
        const task = Core.data.gantt[this.currentView][idx];
        const modal = this.createTaskModal(task, idx);
        document.body.appendChild(modal);
    },

    createTaskModal(task = null, idx = null) {
        const isEdit = task !== null;
        const modal = document.createElement('div');
        modal.className = 'modal active';
        modal.id = 'gantt-task-modal';
        
        const tasks = Core.data.gantt[this.currentView] || [];
        const dependencyOptions = tasks
            .map((t, i) => i !== idx ? `<option value="${i}" ${task?.dependencies?.includes(i) ? 'selected' : ''}>${this.escapeHTML(t.name)}</option>` : '')
            .join('');

        modal.innerHTML = `
            <div class="modal-content" style="max-width: 700px;">
                <button class="modal-close" onclick="document.getElementById('gantt-task-modal').remove()">Ã—</button>
                <h2 class="modal-title" style="margin-bottom: var(--space-lg);">${isEdit ? 'Edit' : 'Add'} Task</h2>
                <div class="form-grid">
                    <div class="form-group full-width">
                        <label class="form-label">Task Name *</label>
                        <input type="text" class="form-input" id="task-name" value="${task?.name || ''}" placeholder="Enter task name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Phase *</label>
                        <select class="form-select" id="task-phase">
                            <option value="development" ${task?.phase === 'development' ? 'selected' : ''}>Development</option>
                            <option value="preproduction" ${task?.phase === 'preproduction' ? 'selected' : ''}>Pre-Production</option>
                            <option value="production" ${task?.phase === 'production' ? 'selected' : ''}>Production</option>
                            <option value="postproduction" ${task?.phase === 'postproduction' ? 'selected' : ''}>Post-Production</option>
                            <option value="distribution" ${task?.phase === 'distribution' ? 'selected' : ''}>Distribution</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Owner</label>
                        <input type="text" class="form-input" id="task-owner" value="${task?.owner || ''}" placeholder="Assign to">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Start Date *</label>
                        <input type="date" class="form-input" id="task-start" value="${task?.start || ''}">
                    </div>
                    <div class="form-group">
                        <label class="form-label">End Date *</label>
                        <input type="date" class="form-input" id="task-end" value="${task?.end || ''}">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Progress (%)</label>
                        <input type="number" class="form-input" id="task-progress" value="${task?.progress || 0}" min="0" max="100">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Priority</label>
                        <select class="form-select" id="task-priority">
                            <option value="low" ${task?.priority === 'low' ? 'selected' : ''}>Low</option>
                            <option value="medium" ${task?.priority === 'medium' ? 'selected' : ''}>Medium</option>
                            <option value="high" ${task?.priority === 'high' ? 'selected' : ''}>High</option>
                        </select>
                    </div>
                    <div class="form-group full-width">
                        <label class="form-label" style="display: flex; align-items: center; gap: 8px;">
                            <input type="checkbox" id="task-milestone" ${task?.milestone ? 'checked' : ''} style="width: auto;">
                            Mark as Milestone
                        </label>
                    </div>
                    <div class="form-group full-width">
                        <label class="form-label">Dependencies (tasks that must complete first)</label>
                        <select class="form-select" id="task-dependencies" multiple style="height: 100px;">
                            ${dependencyOptions}
                        </select>
                    </div>
                    <div class="form-group full-width">
                        <label class="form-label">Notes</label>
                        <textarea class="form-textarea" id="task-notes" style="min-height: 80px;">${task?.notes || ''}</textarea>
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="btn" onclick="document.getElementById('gantt-task-modal').remove()">Cancel</button>
                    <button class="btn btn-primary" onclick="GanttEnhanced.saveTask(${idx})">Save Task</button>
                </div>
            </div>
        `;
        return modal;
    },

    saveTask(idx = null) {
        const name = document.getElementById('task-name').value.trim();
        const phase = document.getElementById('task-phase').value;
        const owner = document.getElementById('task-owner').value.trim();
        const start = document.getElementById('task-start').value;
        const end = document.getElementById('task-end').value;
        const progress = parseInt(document.getElementById('task-progress').value) || 0;
        const priority = document.getElementById('task-priority').value;
        const milestone = document.getElementById('task-milestone').checked;
        const notes = document.getElementById('task-notes').value.trim();
        
        const dependenciesSelect = document.getElementById('task-dependencies');
        const dependencies = Array.from(dependenciesSelect.selectedOptions).map(opt => parseInt(opt.value));

        if (!name || !start || !end) {
            alert('Please fill in all required fields (name, start date, end date)');
            return;
        }

        if (new Date(end) < new Date(start)) {
            alert('End date must be after start date');
            return;
        }

        const taskData = {
            name,
            phase,
            owner,
            start,
            end,
            progress,
            priority,
            milestone,
            dependencies,
            notes,
            id: idx !== null ? Core.data.gantt[this.currentView][idx].id : Date.now()
        };

        if (idx !== null) {
            Core.data.gantt[this.currentView][idx] = taskData;
        } else {
            Core.data.gantt[this.currentView].push(taskData);
        }

        Core.save();
        document.getElementById('gantt-task-modal').remove();
        this.render();
        Core.log(`Gantt task ${idx !== null ? 'updated' : 'added'}: ${name}`);
    },

    deleteTask(idx) {
        if (confirm('Delete this task?')) {
            Core.data.gantt[this.currentView].splice(idx, 1);
            Core.save();
            this.render();
            Core.log('Gantt task deleted');
        }
    },

    // Drag and drop functionality
    onDragStart(event, idx) {
        this.draggedTask = idx;
        event.dataTransfer.effectAllowed = 'move';
    },

    onDragOver(event) {
        event.preventDefault();
        event.dataTransfer.dropEffect = 'move';
    },

    onDrop(event, targetIdx) {
        event.preventDefault();
        if (this.draggedTask === null || this.draggedTask === targetIdx) return;

        const tasks = Core.data.gantt[this.currentView];
        const [draggedItem] = tasks.splice(this.draggedTask, 1);
        tasks.splice(targetIdx, 0, draggedItem);
        
        Core.save();
        this.render();
        this.draggedTask = null;
    },

    // Resize functionality (simplified - full implementation would track mouse movement)
    startResize(event, idx, direction) {
        event.stopPropagation();
        alert('Resize feature: Click and drag to adjust task duration. Full drag implementation requires more complex event handling.');
    },

    escapeHTML(str) {
        const div = document.createElement('div');
        div.textContent = str;
        return div.innerHTML;
    }
};

// Replace the old Gantt object
const Gantt = GanttEnhanced;

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CALENDAR MODULE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ULTIMATE CALENDAR MODULE - Interactive Production Calendar
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const Calendar = {
            currentDate: new Date(),
            selectedDate: null,
            view: 'month',
            filters: {
                shoots: true,
                milestones: true,
                risks: true,
                gantt: true
            },

            render() {
                // Safety check - only render if calendar view exists
                const calendarGrid = document.getElementById('calendar-grid');
                const calendarMonthYear = document.getElementById('calendar-month-year');
                if (!calendarGrid || !calendarMonthYear) return;
                
                const year = this.currentDate.getFullYear();
                const month = this.currentDate.getMonth();
                
                // Update header
                calendarMonthYear.textContent = 
                    this.currentDate.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });
                
                // Calculate calendar grid
                const firstDay = new Date(year, month, 1);
                const lastDay = new Date(year, month + 1, 0);
                const startPadding = firstDay.getDay();
                const totalDays = lastDay.getDate();
                
                // Get all events
                const shootDays = this.getShootDays();
                const milestones = this.getMilestones();
                const risks = this.getRisks();
                const ganttDates = this.getGanttDates();
                
                // Update stats
                this.updateStats(shootDays, milestones, risks);
                
                // Render calendar grid
                let html = '';
                
                // Empty cells before month starts
                for (let i = 0; i < startPadding; i++) {
                    html += '<div class="calendar-day-cell empty"></div>';
                }
                
                // Days of the month
                for (let day = 1; day <= totalDays; day++) {
                    const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                    const dateObj = new Date(year, month, day);
                    const isToday = new Date().toDateString() === dateObj.toDateString();
                    const isSelected = this.selectedDate === dateStr;
                    
                    // Get events for this day
                    const dayEvents = this.getDayEvents(dateStr, shootDays, milestones, risks, ganttDates);
                    
                    // Determine classes
                    let classes = 'calendar-day-cell';
                    if (isToday) classes += ' today';
                    if (isSelected) classes += ' selected';
                    if (dayEvents.shoots.length > 0) classes += ' has-shoot';
                    if (dayEvents.milestones.length > 0) classes += ' has-milestone';
                    if (dayEvents.risks.length > 0) classes += ' has-risk';
                    if (dayEvents.shoots.length + dayEvents.milestones.length + dayEvents.risks.length > 1) {
                        classes += ' multi-event';
                    }
                    
                    // Build events HTML
                    let eventsHtml = '';
                    let visibleEvents = 0;
                    const maxVisible = 3;
                    
                    if (this.filters.shoots) {
                        dayEvents.shoots.slice(0, maxVisible - visibleEvents).forEach(shoot => {
                            eventsHtml += `
                                <div class="day-event shoot">
                                    <span class="day-event-icon">ğŸ¬</span>
                                    <span class="day-event-time">${shoot.call || 'Shoot'}</span>
                                </div>
                            `;
                            visibleEvents++;
                        });
                    }
                    
                    if (this.filters.milestones && visibleEvents < maxVisible) {
                        dayEvents.milestones.slice(0, maxVisible - visibleEvents).forEach(milestone => {
                            eventsHtml += `
                                <div class="day-event milestone">
                                    <span class="day-event-icon">ğŸ¯</span>
                                    <span>${milestone.title.substring(0, 15)}</span>
                                </div>
                            `;
                            visibleEvents++;
                        });
                    }
                    
                    if (this.filters.risks && visibleEvents < maxVisible) {
                        dayEvents.risks.slice(0, maxVisible - visibleEvents).forEach(risk => {
                            eventsHtml += `
                                <div class="day-event risk">
                                    <span class="day-event-icon">âš ï¸</span>
                                    <span>${risk.category}</span>
                                </div>
                            `;
                            visibleEvents++;
                        });
                    }
                    
                    if (this.filters.gantt && dayEvents.gantt && visibleEvents < maxVisible) {
                        eventsHtml += `
                            <div class="day-event gantt">
                                <span class="day-event-icon">ğŸ“Š</span>
                                <span>${dayEvents.gantt.substring(0, 10)}</span>
                            </div>
                        `;
                        visibleEvents++;
                    }
                    
                    // Show +N more if there are hidden events
                    const totalEvents = dayEvents.shoots.length + dayEvents.milestones.length + dayEvents.risks.length + (dayEvents.gantt ? 1 : 0);
                    if (totalEvents > visibleEvents) {
                        eventsHtml += `<span class="event-count-badge">+${totalEvents - visibleEvents} more</span>`;
                    }
                    
                    html += `
                        <div class="${classes}" onclick="Calendar.selectDay('${dateStr}', ${day}, ${month}, ${year})" data-date="${dateStr}">
                            <div class="day-number">
                                <div class="day-number-value">
                                    ${day}
                                    ${isToday ? '<span class="today-indicator"></span>' : ''}
                                </div>
                            </div>
                            <div class="day-events">
                                ${eventsHtml}
                            </div>
                        </div>
                    `;
                }
                
                document.getElementById('calendar-grid').innerHTML = html;
                
                // If a day was selected, update sidebar
                if (this.selectedDate) {
                    this.updateSidebar(this.selectedDate, shootDays, milestones, risks, ganttDates);
                }
            },

            getShootDays() {
                return (Core.data.days || []).map(d => ({
                    ...d,
                    type: 'shoot'
                }));
            },

            getMilestones() {
                return (Core.data.milestones || []).map(m => ({
                    ...m,
                    date: m.dueDate,
                    type: 'milestone'
                }));
            },

            getRisks() {
                return (Core.data.risks || []).filter(r => !r.resolved).map(r => ({
                    ...r,
                    type: 'risk'
                }));
            },

            getGanttDates() {
                const dates = {};
                const tasks = [...(Core.data.gantt?.production || []), ...(Core.data.gantt?.global || [])];
                
                tasks.forEach(task => {
                    const start = new Date(task.start);
                    const end = new Date(task.end);
                    
                    for (let d = new Date(start); d <= end; d.setDate(d.getDate() + 1)) {
                        const dateStr = d.toISOString().split('T')[0];
                        if (!dates[dateStr]) dates[dateStr] = task.phase;
                    }
                });
                
                return dates;
            },

            getDayEvents(dateStr, shootDays, milestones, risks, ganttDates) {
                return {
                    shoots: shootDays.filter(s => s.date === dateStr),
                    milestones: milestones.filter(m => m.date === dateStr),
                    risks: risks,  // Risks don't have specific dates, shown as ongoing
                    gantt: ganttDates[dateStr]
                };
            },

            updateStats(shootDays, milestones, risks) {
                // Safety check - only update if stats elements exist
                const shootsCountEl = document.getElementById('cal-shoots-count');
                const daysUntilEl = document.getElementById('cal-days-until');
                const milestonesCountEl = document.getElementById('cal-milestones-count');
                const risksCountEl = document.getElementById('cal-risks-count');
                
                if (!shootsCountEl || !daysUntilEl || !milestonesCountEl || !risksCountEl) return;
                
                const year = this.currentDate.getFullYear();
                const month = this.currentDate.getMonth();
                
                // Shoots this month
                const shootsThisMonth = shootDays.filter(s => {
                    const d = new Date(s.date);
                    return d.getMonth() === month && d.getFullYear() === year;
                }).length;
                shootsCountEl.textContent = shootsThisMonth;
                
                // Days until next shoot
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                const upcomingShoots = shootDays.filter(s => new Date(s.date) >= today).sort((a, b) => new Date(a.date) - new Date(b.date));
                if (upcomingShoots.length > 0) {
                    const nextShoot = new Date(upcomingShoots[0].date);
                    const daysUntil = Math.ceil((nextShoot - today) / (1000 * 60 * 60 * 24));
                    daysUntilEl.textContent = daysUntil === 0 ? 'Today' : daysUntil;
                } else {
                    daysUntilEl.textContent = '--';
                }
                
                // Upcoming milestones
                const upcomingMilestones = milestones.filter(m => !m.completed && new Date(m.date) >= today).length;
                milestonesCountEl.textContent = upcomingMilestones;
                
                // Active risks
                risksCountEl.textContent = risks.length;
            },

            selectDay(dateStr, day, month, year) {
                this.selectedDate = dateStr;
                
                // Update selected class
                document.querySelectorAll('.calendar-day-cell').forEach(cell => {
                    cell.classList.remove('selected');
                });
                document.querySelector(`[data-date="${dateStr}"]`)?.classList.add('selected');
                
                // Get all events
                const shootDays = this.getShootDays();
                const milestones = this.getMilestones();
                const risks = this.getRisks();
                const ganttDates = this.getGanttDates();
                
                this.updateSidebar(dateStr, shootDays, milestones, risks, ganttDates);
            },

            updateSidebar(dateStr, shootDays, milestones, risks, ganttDates) {
                // Safety check - only update if sidebar elements exist
                const sidebarTitle = document.getElementById('sidebar-title');
                const sidebarContent = document.getElementById('sidebar-content');
                
                if (!sidebarTitle || !sidebarContent) return;
                
                const dayEvents = this.getDayEvents(dateStr, shootDays, milestones, risks, ganttDates);
                const date = new Date(dateStr);
                
                // Update title
                sidebarTitle.textContent = 
                    date.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric' });
                
                // Build content
                let content = `
                    <div class="sidebar-day-header">
                        <div class="sidebar-day-date">${date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}</div>
                        <div class="sidebar-day-meta">${date.toLocaleDateString('en-US', { weekday: 'long' })}</div>
                    </div>
                `;
                
                // Shoots section
                if (dayEvents.shoots.length > 0) {
                    content += `
                        <div class="sidebar-section">
                            <div class="sidebar-section-title">
                                <span class="sidebar-section-icon">ğŸ¬</span>
                                SHOOT DAYS
                            </div>
                    `;
                    dayEvents.shoots.forEach(shoot => {
                        content += `
                            <div class="sidebar-event-card">
                                <div class="sidebar-event-header">
                                    <div class="sidebar-event-title">${shoot.location || 'Shoot Day'}</div>
                                    <span class="sidebar-event-badge badge-shoot">SHOOT</span>
                                </div>
                                ${shoot.call ? `<div class="sidebar-event-detail"><span class="detail-label">Call:</span> ${shoot.call}</div>` : ''}
                                ${shoot.wrap ? `<div class="sidebar-event-detail"><span class="detail-label">Wrap:</span> ${shoot.wrap}</div>` : ''}
                                ${shoot.location ? `<div class="sidebar-event-detail"><span class="detail-label">Location:</span> ${shoot.location}</div>` : ''}
                                ${shoot.notes ? `<div class="sidebar-event-detail"><span class="detail-label">Notes:</span> ${shoot.notes}</div>` : ''}
                                <div class="sidebar-event-actions">
                                    <button class="btn btn-xs" onclick="Core.navigate('days')">View All Shoots</button>
                                </div>
                            </div>
                        `;
                    });
                    content += '</div>';
                }
                
                // Milestones section
                if (dayEvents.milestones.length > 0) {
                    content += `
                        <div class="sidebar-section">
                            <div class="sidebar-section-title">
                                <span class="sidebar-section-icon">ğŸ¯</span>
                                MILESTONES
                            </div>
                    `;
                    dayEvents.milestones.forEach(milestone => {
                        content += `
                            <div class="sidebar-event-card">
                                <div class="sidebar-event-header">
                                    <div class="sidebar-event-title">${milestone.title}</div>
                                    <span class="sidebar-event-badge badge-milestone">${milestone.phase}</span>
                                </div>
                                ${milestone.description ? `<div class="sidebar-event-detail">${milestone.description}</div>` : ''}
                                <div class="sidebar-event-actions">
                                    <button class="btn btn-xs" onclick="Core.navigate('milestones')">View All Milestones</button>
                                </div>
                            </div>
                        `;
                    });
                    content += '</div>';
                }
                
                // Gantt phase
                if (dayEvents.gantt) {
                    content += `
                        <div class="sidebar-section">
                            <div class="sidebar-section-title">
                                <span class="sidebar-section-icon">ğŸ“Š</span>
                                PRODUCTION PHASE
                            </div>
                            <div class="sidebar-event-card">
                                <div class="sidebar-event-detail">
                                    <span class="detail-label">Phase:</span>
                                    <span class="sidebar-event-badge badge-shoot">${dayEvents.gantt}</span>
                                </div>
                            </div>
                        </div>
                    `;
                }
                
                // Quick add button
                content += `
                    <button class="sidebar-quick-add" onclick="Calendar.quickAddShootDay('${dateStr}')">
                        + Add Shoot Day
                    </button>
                `;
                
                // If no events
                if (dayEvents.shoots.length === 0 && dayEvents.milestones.length === 0 && !dayEvents.gantt) {
                    content += `
                        <div class="sidebar-empty">
                            No events scheduled for this day
                        </div>
                    `;
                }
                
                sidebarContent.innerHTML = content;
            },

            closeSidebar() {
                this.selectedDate = null;
                document.querySelectorAll('.calendar-day-cell').forEach(cell => {
                    cell.classList.remove('selected');
                });
                
                const sidebarContent = document.getElementById('sidebar-content');
                const sidebarTitle = document.getElementById('sidebar-title');
                
                if (sidebarContent) {
                    sidebarContent.innerHTML = `
                        <div class="sidebar-empty">
                            Click on any day to view or add events
                        </div>
                    `;
                }
                
                if (sidebarTitle) {
                    sidebarTitle.textContent = 'Select a day';
                }
            },

            quickAddShootDay(dateStr = null) {
                const modal = document.createElement('div');
                modal.className = 'modal active';
                modal.id = 'modal-quick-add-shoot';
                
                const targetDate = dateStr || new Date().toISOString().split('T')[0];
                
                modal.innerHTML = `
                    <div class="modal-content">
                        <button class="modal-close" onclick="document.getElementById('modal-quick-add-shoot').remove()">Ã—</button>
                        <h2 class="modal-title">Add Shoot Day</h2>
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Date</label>
                                <input type="date" id="quick-shoot-date" value="${targetDate}">
                            </div>
                            <div class="form-group">
                                <label>Call Time</label>
                                <input type="time" id="quick-shoot-call">
                            </div>
                            <div class="form-group">
                                <label>Wrap Time</label>
                                <input type="time" id="quick-shoot-wrap">
                            </div>
                            <div class="form-group full-width">
                                <label>Location</label>
                                <input type="text" id="quick-shoot-location" placeholder="Shoot location">
                            </div>
                            <div class="form-group full-width">
                                <label>Notes</label>
                                <textarea id="quick-shoot-notes" placeholder="Additional notes"></textarea>
                            </div>
                        </div>
                        <div class="modal-actions">
                            <button class="btn" onclick="document.getElementById('modal-quick-add-shoot').remove()">Cancel</button>
                            <button class="btn btn-primary" onclick="Calendar.saveQuickShoot()">Add Shoot</button>
                        </div>
                    </div>
                `;
                document.body.appendChild(modal);
            },

            saveQuickShoot() {
                const date = document.getElementById('quick-shoot-date').value;
                const call = document.getElementById('quick-shoot-call').value;
                const wrap = document.getElementById('quick-shoot-wrap').value;
                const location = document.getElementById('quick-shoot-location').value;
                const notes = document.getElementById('quick-shoot-notes').value;
                
                if (!date) { alert('Date is required'); return; }
                
                Core.data.days.unshift({ id: Date.now(), date, call, wrap, location, notes });
                Core.save();
                Core.log(`Shoot day added: ${date}`);
                Days.render();
                this.render();
                Core.renderDashboard();
                
                document.getElementById('modal-quick-add-shoot').remove();
            },

            toggleFilter(type) {
                const filterEl = document.getElementById(`filter-${type}`);
                if (!filterEl) return;
                
                this.filters[type] = filterEl.checked;
                this.render();
            },

            showFilters() {
                // Already visible in legend, could add advanced filters modal here
                alert('Advanced filters coming soon! Use the legend checkboxes to filter event types.');
            },

            setView(view) {
                this.view = view;
                document.querySelectorAll('.view-toggle-btn').forEach(btn => btn.classList.remove('active'));
                
                const viewBtn = document.getElementById(`view-${view}-btn`);
                if (viewBtn) {
                    viewBtn.classList.add('active');
                }
                
                if (view === 'week') {
                    alert('Week view coming soon! Building an amazing week-by-week timeline.');
                }
            },

            prevMonth() {
                this.currentDate.setMonth(this.currentDate.getMonth() - 1);
                this.render();
            },

            nextMonth() {
                this.currentDate.setMonth(this.currentDate.getMonth() + 1);
                this.render();
            },

            today() {
                this.currentDate = new Date();
                this.selectedDate = null;
                this.render();
            }
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           NOTES MODULE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const Notes = {
            load() {
                const _nel = document.getElementById('production-notes') || document.getElementById('notes-textarea'); if (_nel) _nel.value = Core.data.notes || '';
            },

            save() {
                const _nel2 = document.getElementById('production-notes') || document.getElementById('notes-textarea'); if (_nel2) Core.data.notes = _nel2.value;
                Core.save();
                Core.log('Notes saved');
            }
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           WEATHER MODULE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           PDF EXPORT MODULE - Professional Stylized PDF Generation
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const PDFExport = {
            
            // Common PDF styling and utilities
            getStyles() {
                return `
                    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap');
                    @page { 
                        margin: 0.65in 0.6in 0.8in 0.6in; 
                        size: letter;
                        @bottom-center {
                            content: none;
                        }
                    }
                    * { box-sizing: border-box; margin: 0; padding: 0; }
                    body { 
                        font-family: 'Inter', 'Segoe UI', Arial, sans-serif; 
                        font-size: 10pt; 
                        line-height: 1.5;
                        color: #111827;
                        background: white;
                        -webkit-print-color-adjust: exact;
                        print-color-adjust: exact;
                    }
                    .page { 
                        page-break-after: always;
                        padding-bottom: 0.5in;
                        position: relative;
                    }
                    .page:last-child { page-break-after: avoid; }
                    
                    /* â”€â”€â”€ Header â”€â”€â”€ */
                    .header { 
                        background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
                        color: white;
                        padding: 22px 28px;
                        border-radius: 10px;
                        margin-bottom: 22px;
                    }
                    .header-main { display: flex; justify-content: space-between; align-items: flex-start; gap: 20px; }
                    .header-title { 
                        font-size: 22pt; 
                        font-weight: 800; 
                        letter-spacing: -0.5px; 
                        color: #fff;
                        line-height: 1.1;
                    }
                    .header-subtitle { 
                        font-size: 10pt; 
                        opacity: 0.65; 
                        margin-top: 5px; 
                        text-transform: uppercase; 
                        letter-spacing: 1.5px; 
                        font-weight: 600;
                    }
                    .header-meta { 
                        text-align: right; 
                        font-size: 8.5pt; 
                        opacity: 0.75;
                        white-space: nowrap;
                        flex-shrink: 0;
                    }
                    .header-meta div { margin-bottom: 3px; }
                    .header-badge { 
                        display: inline-block;
                        background: #22d3ee;
                        color: #0f172a;
                        padding: 5px 14px;
                        border-radius: 5px;
                        font-weight: 800;
                        font-size: 9pt;
                        margin-top: 10px;
                        letter-spacing: 0.5px;
                    }
                    
                    /* â”€â”€â”€ Sections â”€â”€â”€ */
                    .section { margin-bottom: 22px; }
                    .section-title {
                        background: #f1f5f9;
                        padding: 9px 16px;
                        font-weight: 700;
                        font-size: 9pt;
                        color: #0f172a;
                        border-left: 4px solid #22d3ee;
                        margin-bottom: 14px;
                        text-transform: uppercase;
                        letter-spacing: 1px;
                        border-radius: 0 5px 5px 0;
                    }
                    
                    /* â”€â”€â”€ Tables â”€â”€â”€ */
                    table { width: 100%; border-collapse: collapse; margin-bottom: 16px; font-size: 9.5pt; }
                    th { 
                        background: #0f172a; 
                        color: white; 
                        padding: 9px 12px; 
                        text-align: left;
                        font-size: 8pt;
                        text-transform: uppercase;
                        letter-spacing: 0.8px;
                        font-weight: 700;
                    }
                    th:first-child { border-radius: 5px 0 0 0; }
                    th:last-child { border-radius: 0 5px 0 0; }
                    td { 
                        padding: 9px 12px; 
                        border-bottom: 1px solid #e2e8f0;
                        vertical-align: top;
                    }
                    tr:nth-child(even) td { background: #f8fafc; }
                    
                    /* â”€â”€â”€ Schedule Strips â”€â”€â”€ */
                    .strip {
                        display: flex;
                        align-items: center;
                        padding: 9px 14px;
                        margin-bottom: 5px;
                        border-radius: 6px;
                        font-size: 9pt;
                        gap: 10px;
                    }
                    .strip-day-int { background: #fef9c3; border-left: 4px solid #eab308; }
                    .strip-day-ext { background: #dcfce7; border-left: 4px solid #16a34a; }
                    .strip-night-int { background: #dbeafe; border-left: 4px solid #2563eb; }
                    .strip-night-ext { background: #ede9fe; border-left: 4px solid #7c3aed; }
                    .strip-daybreak { 
                        background: #0f172a; 
                        color: white; 
                        text-align: center;
                        font-weight: 700;
                        padding: 12px 14px;
                        border-radius: 6px;
                        font-size: 10pt;
                        letter-spacing: 1px;
                        margin: 10px 0 6px;
                    }
                    .strip-banner {
                        background: #fff1f2;
                        border: 2px dashed #f43f5e;
                        text-align: center;
                        font-weight: 600;
                        color: #be123c;
                        border-radius: 6px;
                    }
                    .strip-scene { width: 54px; font-weight: 800; font-family: 'JetBrains Mono', monospace; flex-shrink: 0; }
                    .strip-intext { width: 44px; font-size: 8pt; font-weight: 600; flex-shrink: 0; }
                    .strip-daynight { width: 54px; font-size: 8pt; font-weight: 600; flex-shrink: 0; }
                    .strip-location { flex: 1; font-weight: 600; }
                    .strip-cast { width: 130px; font-size: 8pt; color: #64748b; flex-shrink: 0; }
                    .strip-pages { width: 50px; text-align: right; font-family: 'JetBrains Mono', monospace; font-weight: 700; flex-shrink: 0; }
                    
                    /* â”€â”€â”€ Breakdown Sheet â”€â”€â”€ */
                    .breakdown-scene-header {
                        background: linear-gradient(135deg, #0f172a 0%, #1e3a5f 100%);
                        color: white;
                        padding: 20px 24px;
                        border-radius: 10px;
                        margin-bottom: 18px;
                        display: flex;
                        align-items: center;
                        justify-content: space-between;
                        gap: 16px;
                    }
                    .breakdown-scene-number { 
                        font-size: 38pt; 
                        font-weight: 900; 
                        line-height: 1;
                        font-family: 'Inter', sans-serif;
                        letter-spacing: -2px;
                    }
                    .breakdown-scene-info { 
                        font-size: 13pt; 
                        margin-top: 6px; 
                        opacity: 0.85;
                        font-weight: 500;
                    }
                    .breakdown-meta-grid {
                        display: grid;
                        grid-template-columns: repeat(4, 1fr);
                        gap: 10px;
                        margin-bottom: 18px;
                    }
                    .breakdown-meta-box {
                        background: #f8fafc;
                        border: 1px solid #e2e8f0;
                        border-radius: 7px;
                        padding: 10px 12px;
                    }
                    .breakdown-meta-label { font-size: 7.5pt; color: #64748b; text-transform: uppercase; letter-spacing: 0.8px; font-weight: 600; margin-bottom: 3px; }
                    .breakdown-meta-value { font-weight: 700; font-size: 10.5pt; color: #0f172a; }
                    .breakdown-categories {
                        display: grid;
                        grid-template-columns: repeat(3, 1fr);
                        gap: 12px;
                    }
                    .breakdown-category {
                        background: #f8fafc;
                        border-radius: 8px;
                        padding: 13px 14px;
                        border: 1px solid #e2e8f0;
                        break-inside: avoid;
                    }
                    .breakdown-category-title {
                        font-weight: 700;
                        font-size: 8.5pt;
                        color: #0f172a;
                        margin-bottom: 9px;
                        padding-bottom: 7px;
                        border-bottom: 2px solid #22d3ee;
                        text-transform: uppercase;
                        letter-spacing: 0.5px;
                    }
                    .breakdown-element {
                        font-size: 9pt;
                        padding: 5px 0 4px;
                        border-bottom: 1px solid #f1f5f9;
                        color: #1e293b;
                        line-height: 1.3;
                    }
                    .breakdown-element:last-child { border-bottom: none; }
                    .breakdown-empty { 
                        font-size: 8pt; 
                        color: #94a3b8; 
                        font-style: italic; 
                        padding: 4px 0;
                    }
                    
                    /* â”€â”€â”€ Call Sheet â”€â”€â”€ */
                    .callsheet-info-grid {
                        display: grid;
                        grid-template-columns: repeat(3, 1fr);
                        gap: 16px;
                        margin-bottom: 20px;
                    }
                    .callsheet-info-box {
                        background: #f1f5f9;
                        padding: 16px;
                        border-radius: 8px;
                        text-align: center;
                    }
                    .callsheet-info-label { font-size: 8pt; color: #64748b; text-transform: uppercase; letter-spacing: 0.8px; }
                    .callsheet-info-value { font-size: 18pt; font-weight: 800; color: #0f172a; margin-top: 4px; }
                    .callsheet-weather {
                        background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
                        color: white;
                        padding: 16px;
                        border-radius: 8px;
                        margin-bottom: 20px;
                    }
                    
                    /* â”€â”€â”€ Gantt â”€â”€â”€ */
                    .gantt-container { margin-top: 20px; }
                    .gantt-row { 
                        display: flex; 
                        align-items: center; 
                        margin-bottom: 6px;
                        border-radius: 5px;
                        overflow: hidden;
                    }
                    .gantt-task-name { 
                        width: 190px; 
                        padding: 10px 12px;
                        font-weight: 600;
                        font-size: 8.5pt;
                        background: #0f172a;
                        color: white;
                        flex-shrink: 0;
                    }
                    .gantt-bar-container { 
                        flex: 1; 
                        height: 36px;
                        position: relative;
                        background: #e2e8f0;
                    }
                    .gantt-bar {
                        position: absolute;
                        height: 100%;
                        border-radius: 3px;
                        display: flex;
                        align-items: center;
                        padding: 0 8px;
                        font-size: 7.5pt;
                        color: white;
                        font-weight: 700;
                        overflow: hidden;
                        white-space: nowrap;
                    }
                    .gantt-bar.development { background: #7c3aed; }
                    .gantt-bar.preproduction { background: #0891b2; }
                    .gantt-bar.production { background: #059669; }
                    .gantt-bar.postproduction { background: #d97706; }
                    .gantt-bar.distribution { background: #dc2626; }
                    
                    /* â”€â”€â”€ Release Forms â”€â”€â”€ */
                    .release-form { padding: 24px; }
                    .release-title { 
                        text-align: center;
                        font-size: 17pt;
                        font-weight: 800;
                        margin-bottom: 28px;
                        padding-bottom: 18px;
                        border-bottom: 3px solid #0f172a;
                        letter-spacing: -0.5px;
                    }
                    .release-section { margin-bottom: 22px; }
                    .release-section-title {
                        font-weight: 700;
                        font-size: 10.5pt;
                        margin-bottom: 8px;
                        color: #0f172a;
                        text-transform: uppercase;
                        letter-spacing: 0.5px;
                    }
                    .release-text { 
                        font-size: 9.5pt;
                        line-height: 1.7;
                        text-align: justify;
                        color: #374151;
                    }
                    .release-field-row {
                        display: flex;
                        gap: 24px;
                        margin-bottom: 14px;
                    }
                    .release-field {
                        flex: 1;
                        border-bottom: 1.5px solid #0f172a;
                        padding-bottom: 5px;
                    }
                    .release-field-label {
                        font-size: 7.5pt;
                        color: #64748b;
                        margin-bottom: 3px;
                        text-transform: uppercase;
                        letter-spacing: 0.5px;
                        font-weight: 600;
                    }
                    .release-field-value {
                        font-size: 11pt;
                        min-height: 22px;
                        font-weight: 500;
                    }
                    .signature-section {
                        margin-top: 44px;
                        display: grid;
                        grid-template-columns: 1fr 1fr;
                        gap: 44px;
                    }
                    .signature-box { border-top: 2px solid #0f172a; padding-top: 9px; }
                    .signature-label { font-size: 8.5pt; color: #64748b; }
                    
                    /* â”€â”€â”€ Footer â”€â”€â”€ */
                    /* Use running header/footer at @page level â€” no fixed positioning */
                    .footer {
                        margin-top: 28px;
                        padding-top: 10px;
                        border-top: 1px solid #e2e8f0;
                        text-align: center;
                        font-size: 7.5pt;
                        color: #94a3b8;
                        letter-spacing: 0.3px;
                    }
                    
                    /* â”€â”€â”€ Print suppression â€” hide browser meta â”€â”€â”€ */
                    @media print {
                        /* Prevent browser from printing URL and title in headers/footers */
                        @page { margin: 0.65in 0.6in 0.75in 0.6in; }
                        body { margin: 0; }
                        .no-print { display: none !important; }
                        a { color: inherit; text-decoration: none; }
                    }
                    
                    /* â”€â”€â”€ Utility â”€â”€â”€ */
                    .text-center { text-align: center; }
                    .text-right { text-align: right; }
                    .font-bold { font-weight: 700; }
                    .font-mono { font-family: 'JetBrains Mono', 'Courier New', monospace; }
                    .text-sm { font-size: 8.5pt; }
                    .text-muted { color: #64748b; }
                    .mb-sm { margin-bottom: 8px; }
                    .mb-md { margin-bottom: 16px; }
                    .mb-lg { margin-bottom: 24px; }
                    .pill {
                        display: inline-block;
                        padding: 2px 9px;
                        border-radius: 20px;
                        font-size: 7.5pt;
                        font-weight: 700;
                        text-transform: uppercase;
                        letter-spacing: 0.5px;
                    }
                    .pill-high { background: #fee2e2; color: #dc2626; }
                    .pill-med  { background: #fef9c3; color: #b45309; }
                    .pill-low  { background: #dcfce7; color: #16a34a; }
                `;
            },

            openPrintWindow(content, title) {
                const printWindow = window.open('', '_blank', 'width=950,height=750');
                if (!printWindow) {
                    luxNotify('Popup blocked â€” please allow popups for this site.', 'warn');
                    return;
                }
                printWindow.document.write(`
                    <!DOCTYPE html>
                    <html lang="en">
                    <head>
                        <meta charset="UTF-8">
                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                        <title>${title}</title>
                        <style>${this.getStyles()}</style>
                        <style>
                            /* Print hint bar â€” hidden when printing */
                            #print-hint {
                                position: fixed;
                                top: 0; left: 0; right: 0;
                                background: #0f172a;
                                color: #22d3ee;
                                text-align: center;
                                padding: 12px 20px;
                                font-family: 'Inter', sans-serif;
                                font-size: 13px;
                                font-weight: 600;
                                z-index: 9999;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                gap: 16px;
                            }
                            #print-hint button {
                                background: #22d3ee;
                                color: #0f172a;
                                border: none;
                                border-radius: 6px;
                                padding: 6px 18px;
                                font-weight: 800;
                                font-size: 12px;
                                cursor: pointer;
                                text-transform: uppercase;
                                letter-spacing: 0.5px;
                            }
                            #print-hint .hint-tip {
                                font-size: 11px;
                                color: rgba(255,255,255,0.5);
                            }
                            @media print {
                                #print-hint { display: none !important; }
                                body { margin-top: 0 !important; }
                            }
                            body.has-hint { margin-top: 52px; }
                        </style>
                    </head>
                    <body class="has-hint">
                        <div id="print-hint">
                            <span>ğŸ“„ ${title}</span>
                            <button onclick="window.print()">ğŸ–¨ Print / Save as PDF</button>
                            <span class="hint-tip">In print dialog: set Margins to "None" &amp; disable "Headers and footers" for clean output</span>
                            <button onclick="document.getElementById('print-hint').remove();document.body.classList.remove('has-hint');" style="background:transparent;color:rgba(255,255,255,0.4);font-size:18px;padding:0 8px;">Ã—</button>
                        </div>
                        ${content}
                    </body>
                    </html>
                `);
                printWindow.document.close();
                
                setTimeout(() => {
                    try { printWindow.print(); } catch(e) {}
                }, 600);
                
                Core.log(`PDF generated: ${title}`);
            },

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
               1. SCRIPT BREAKDOWN PDF
               â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            scriptBreakdown() {
                const breakdowns = Core.data.breakdowns || [];
                if (breakdowns.length === 0) {
                    alert('No breakdown sheets to export. Run Script Import or create sheets in the Breakdown view.');
                    return;
                }

                const si = Core.data.scriptImport;
                const CX_COLOR = { HIGH: '#dc2626', MEDIUM: '#d97706', LOW: '#16a34a' };

                // Cover summary page if we have script import metadata
                let html = '';
                if (si) {
                    html += `
                        <div class="page">
                            <div class="header">
                                <div class="header-main">
                                    <div>
                                        <div class="header-title">${clean(Core.currentProduction)}</div>
                                        <div class="header-subtitle">Script Breakdown â€” Master Summary</div>
                                    </div>
                                    <div class="header-meta">
                                        <div><strong>${breakdowns.length} Sheets Total</strong></div>
                                        <div>Est. Pages: ${si.estimatedPages || 'â€”'}</div>
                                        <div>${new Date().toLocaleDateString('en-US', {year:'numeric',month:'long',day:'numeric'})}</div>
                                    </div>
                                </div>
                            </div>
                            <div class="section">
                                <div class="section-title">Script Analysis Summary</div>
                                <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:18px;">
                                    ${[
                                        ['Title', si.title], ['Genre', si.genre],
                                        ['Tone', si.tone], ['Format', si.format],
                                        ['Est. Shoot Days', si.shootDays != null ? si.shootDays + ' days' : null], ['Budget Tier', si.budgetTier],
                                        ['Night Scenes', si.nightScenes != null ? si.nightScenes + ' scenes' : null], ['Exterior Ratio', si.exteriorRatio],
                                        ['High Complexity Scenes', si.highCxCount != null ? si.highCxCount + ' scenes' : null], ['Unique Locations', si.uniqueLocations != null ? si.uniqueLocations + ' locations' : null],
                                    ].filter(([,v]) => v != null && v !== 'â€”').map(([l,v]) => `
                                        <div style="background:#f8fafc;padding:11px 14px;border-radius:8px;border-left:3px solid #22d3ee;">
                                            <div style="font-size:7.5pt;color:#64748b;text-transform:uppercase;letter-spacing:0.8px;font-weight:600;margin-bottom:3px;">${l}</div>
                                            <div style="font-weight:700;font-size:11pt;color:#0f172a;">${v||'â€”'}</div>
                                        </div>`).join('')}
                                </div>
                                ${si.productionNotes ? `
                                    <div style="background:#fefce8;padding:14px 16px;border-radius:8px;font-size:9pt;line-height:1.65;border-left:4px solid #eab308;color:#713f12;">
                                        <strong style="display:block;margin-bottom:4px;font-size:8pt;text-transform:uppercase;letter-spacing:0.5px;">Production Notes</strong>
                                        ${clean(si.productionNotes)}
                                    </div>` : ''}
                            </div>
                            <div class="section">
                                <div class="section-title">Complexity Distribution</div>
                                <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:16px;">
                                    ${['HIGH','MEDIUM','LOW'].map(cx => {
                                        const cnt = breakdowns.filter(b=>b.complexity===cx).length;
                                        const pct = Math.round(cnt / Math.max(1, breakdowns.length) * 100);
                                        return `<div style="text-align:center;padding:20px 14px;border-radius:10px;background:#f8fafc;border:2px solid ${CX_COLOR[cx]}33;">
                                            <div style="font-size:30pt;font-weight:900;color:${CX_COLOR[cx]};line-height:1;">${cnt}</div>
                                            <div style="font-size:8pt;color:#64748b;font-weight:700;text-transform:uppercase;letter-spacing:0.8px;margin-top:5px;">${cx} COMPLEXITY</div>
                                            <div style="font-size:9pt;color:${CX_COLOR[cx]};font-weight:600;margin-top:3px;">${pct}%</div>
                                        </div>`;
                                    }).join('')}
                                </div>
                            </div>
                            <div class="section">
                                <div class="section-title">Scene Index</div>
                                <table>
                                    <thead>
                                        <tr>
                                            <th style="width:60px;">Scene</th>
                                            <th style="width:70px;">Type</th>
                                            <th>Location</th>
                                            <th style="width:60px;">Pages</th>
                                            <th style="width:90px;">Complexity</th>
                                            <th>Cast</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${breakdowns.map((bd,i) => {
                                            const cx = bd.complexity || 'LOW';
                                            return `<tr>
                                                <td class="font-mono font-bold">${bd.scene||i+1}</td>
                                                <td><span style="font-size:8pt;font-weight:600;">${bd.intext||'INT'} ${bd.daynight||'DAY'}</span></td>
                                                <td class="font-bold">${clean(bd.location||'TBD')}</td>
                                                <td class="font-mono text-center">${bd.pages||'â€”'}</td>
                                                <td><span class="pill ${cx==='HIGH'?'pill-high':cx==='MEDIUM'?'pill-med':'pill-low'}">${cx}</span></td>
                                                <td style="font-size:8.5pt;color:#475569;">${(bd.elements?.cast||[]).slice(0,4).join(', ')|| 'â€”'}${(bd.elements?.cast||[]).length>4?' +'+((bd.elements.cast.length)-4)+' more':''}</td>
                                            </tr>`;
                                        }).join('')}
                                    </tbody>
                                </table>
                            </div>
                            <div class="footer">
                                ${clean(Core.currentProduction)} &nbsp;&bull;&nbsp; Script Breakdown Master Summary &nbsp;&bull;&nbsp; ${new Date().toLocaleDateString('en-US', {year:'numeric',month:'long',day:'numeric'})}
                            </div>
                        </div>
                    `;
                }

                // One page per breakdown sheet
                breakdowns.forEach((bd, idx) => {
                    const cx = bd.complexity || '';
                    const cxColor = CX_COLOR[cx] || '#374151';
                    const cxPillClass = cx === 'HIGH' ? 'pill-high' : cx === 'MEDIUM' ? 'pill-med' : 'pill-low';
                    html += `
                        <div class="page">
                            <div class="header">
                                <div class="header-main">
                                    <div>
                                        <div class="header-title">${clean(Core.currentProduction)}</div>
                                        <div class="header-subtitle">Script Breakdown Sheet</div>
                                    </div>
                                    <div class="header-meta">
                                        <div><strong>Sheet ${idx+1} of ${breakdowns.length}</strong></div>
                                        <div>Date: ${bd.date || new Date().toLocaleDateString()}</div>
                                        <div>Pages: ${bd.pages || 'â€”'}</div>
                                        <div class="header-badge">${bd.intext||'INT'} / ${bd.daynight||'DAY'}</div>
                                    </div>
                                </div>
                            </div>

                            <div class="breakdown-scene-header">
                                <div>
                                    <div class="breakdown-scene-number">SCENE ${bd.scene || '?'}</div>
                                    <div class="breakdown-scene-info">${bd.intext||'INT'}. ${clean(bd.location||'LOCATION TBD')} &mdash; ${bd.daynight||'DAY'}</div>
                                </div>
                                <div style="text-align:right;">
                                    ${cx ? `<span class="pill ${cxPillClass}" style="font-size:9pt;padding:6px 14px;">${cx} COMPLEXITY</span>` : ''}
                                    <div style="font-size:9pt;opacity:0.6;margin-top:6px;">Action: ${bd.action_lines||0} lines &nbsp;|&nbsp; Dialog: ${bd.dialog_lines||0} lines</div>
                                </div>
                            </div>

                            <div class="breakdown-meta-grid">
                                <div class="breakdown-meta-box"><div class="breakdown-meta-label">Scene</div><div class="breakdown-meta-value font-mono">${bd.scene||'â€”'}</div></div>
                                <div class="breakdown-meta-box"><div class="breakdown-meta-label">INT/EXT</div><div class="breakdown-meta-value">${bd.intext||'INT'}</div></div>
                                <div class="breakdown-meta-box"><div class="breakdown-meta-label">Day/Night</div><div class="breakdown-meta-value">${bd.daynight||'DAY'}</div></div>
                                <div class="breakdown-meta-box"><div class="breakdown-meta-label">Pages</div><div class="breakdown-meta-value font-mono">${bd.pages||'â€”'}</div></div>
                            </div>

                            ${bd.description ? `
                                <div class="section">
                                    <div class="section-title">Scene Description</div>
                                    <p style="padding:12px 16px;background:#f8fafc;border-radius:7px;font-size:9.5pt;line-height:1.65;border-left:3px solid #22d3ee;color:#1e293b;">${clean(bd.description)}</p>
                                </div>` : ''}

                            <div class="section">
                                <div class="section-title">Production Elements</div>
                                <div class="breakdown-categories">
                                    ${BREAKDOWN_CATEGORIES.map(cat => {
                                        const items = bd.elements?.[cat.id] || [];
                                        return `
                                            <div class="breakdown-category">
                                                <div class="breakdown-category-title">${cat.icon} ${clean(cat.name)}</div>
                                                ${items.length > 0
                                                    ? items.map(item => `<div class="breakdown-element">${clean(String(item))}</div>`).join('')
                                                    : '<div class="breakdown-empty">None noted</div>'
                                                }
                                            </div>`;
                                    }).join('')}
                                </div>
                            </div>

                            <div class="footer">
                                ${clean(Core.currentProduction)} &nbsp;&bull;&nbsp; Script Breakdown &nbsp;&bull;&nbsp; Sheet ${idx+1} of ${breakdowns.length} &nbsp;&bull;&nbsp; Scene ${bd.scene||'?'} &nbsp;&bull;&nbsp; ${new Date().toLocaleDateString('en-US', {year:'numeric',month:'long',day:'numeric'})}
                            </div>
                        </div>`;
                });

                this.openPrintWindow(html, `${clean(Core.currentProduction)} - Script Breakdown`);
            },

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
               2. SHOOTING SCHEDULE PDF
               â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            shootingSchedule() {
                const strips = Core.data.schedule?.strips || [];
                if (strips.length === 0) {
                    alert('No scenes in schedule to export');
                    return;
                }

                const scenes = strips.filter(s => s.type === 'scene');
                const totalPages = scenes.reduce((sum, s) => sum + Schedule.parsePages(s.pages), 0);

                let html = `
                    <div class="page">
                        <div class="header">
                            <div class="header-main">
                                <div>
                                    <div class="header-title">${clean(Core.currentProduction)}</div>
                                    <div class="header-subtitle">Shooting Schedule</div>
                                </div>
                                <div class="header-meta">
                                    <div>Total Scenes: ${scenes.length}</div>
                                    <div>Total Pages: ${totalPages.toFixed(2)}</div>
                                    <div>Generated: ${new Date().toLocaleDateString()}</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="section">
                            <div class="section-title">Schedule Overview</div>
                            <div style="display: flex; gap: 12px; margin-bottom: 20px;">
                                <div style="flex: 1; background: #fef9c3; padding: 14px; border-radius: 8px; text-align: center; border:1px solid #fde68a;">
                                    <div style="font-size: 8pt; color: #92400e; font-weight:700; text-transform:uppercase; letter-spacing:0.5px;">Day INT</div>
                                    <div style="font-size: 20pt; font-weight: 900; color: #92400e; line-height:1.1; margin-top:4px;">${scenes.filter(s => s.intext?.includes('INT') && (s.daynight === 'DAY' || s.daynight === 'DAWN')).length}</div>
                                </div>
                                <div style="flex: 1; background: #dcfce7; padding: 14px; border-radius: 8px; text-align: center; border:1px solid #bbf7d0;">
                                    <div style="font-size: 8pt; color: #065f46; font-weight:700; text-transform:uppercase; letter-spacing:0.5px;">Day EXT</div>
                                    <div style="font-size: 20pt; font-weight: 900; color: #065f46; line-height:1.1; margin-top:4px;">${scenes.filter(s => s.intext === 'EXT' && (s.daynight === 'DAY' || s.daynight === 'DAWN')).length}</div>
                                </div>
                                <div style="flex: 1; background: #dbeafe; padding: 14px; border-radius: 8px; text-align: center; border:1px solid #bfdbfe;">
                                    <div style="font-size: 8pt; color: #1e40af; font-weight:700; text-transform:uppercase; letter-spacing:0.5px;">Night INT</div>
                                    <div style="font-size: 20pt; font-weight: 900; color: #1e40af; line-height:1.1; margin-top:4px;">${scenes.filter(s => s.intext?.includes('INT') && (s.daynight === 'NIGHT' || s.daynight === 'DUSK')).length}</div>
                                </div>
                                <div style="flex: 1; background: #ede9fe; padding: 14px; border-radius: 8px; text-align: center; border:1px solid #ddd6fe;">
                                    <div style="font-size: 8pt; color: #3730a3; font-weight:700; text-transform:uppercase; letter-spacing:0.5px;">Night EXT</div>
                                    <div style="font-size: 20pt; font-weight: 900; color: #3730a3; line-height:1.1; margin-top:4px;">${scenes.filter(s => s.intext === 'EXT' && (s.daynight === 'NIGHT' || s.daynight === 'DUSK')).length}</div>
                                </div>
                                <div style="flex: 1; background: #f1f5f9; padding: 14px; border-radius: 8px; text-align: center; border:1px solid #e2e8f0;">
                                    <div style="font-size: 8pt; color: #475569; font-weight:700; text-transform:uppercase; letter-spacing:0.5px;">Total Pages</div>
                                    <div style="font-size: 20pt; font-weight: 900; color: #0f172a; line-height:1.1; margin-top:4px;">${totalPages.toFixed(1)}</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="section">
                            <div class="section-title">Stripboard</div>
                `;

                strips.forEach(strip => {
                    if (strip.type === 'daybreak') {
                        html += `<div class="strip strip-daybreak">END OF DAY ${strip.dayNumber} â€” ${strip.scenes || 0} scenes, ${strip.totalPages || 0} pages</div>`;
                    } else if (strip.type === 'banner') {
                        html += `<div class="strip strip-banner">${clean(strip.text)} ${strip.duration ? `(${strip.duration} min)` : ''}</div>`;
                    } else {
                        const colorClass = `strip-${Schedule.getStripColorClass(strip.intext, strip.daynight).replace(/-/g, '-')}`;
                        html += `
                            <div class="strip ${colorClass}">
                                <div class="strip-scene">${strip.scene || '?'}</div>
                                <div class="strip-intext">${strip.intext || 'INT'}</div>
                                <div class="strip-daynight">${strip.daynight || 'DAY'}</div>
                                <div class="strip-location">${strip.location || 'TBD'}</div>
                                <div class="strip-cast">${strip.cast || '-'}</div>
                                <div class="strip-pages">${strip.pages || '0'}</div>
                            </div>
                        `;
                    }
                });

                html += `
                        </div>
                        <div class="footer">
                            ${clean(Core.currentProduction)} &nbsp;&bull;&nbsp; Shooting Schedule &nbsp;&bull;&nbsp; ${scenes.length} Scenes &nbsp;&bull;&nbsp; ${totalPages.toFixed(2)} Pages &nbsp;&bull;&nbsp; ${new Date().toLocaleDateString('en-US', {year:'numeric',month:'long',day:'numeric'})}
                        </div>
                    </div>
                `;

                this.openPrintWindow(html, `${clean(Core.currentProduction)} - Shooting Schedule`);
            },

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
               3. CAST & CREW PDF
               â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            castAndCrew() {
                const cast = Object.values(Core.data.cast || {});
                const crew = Object.values(Core.data.crew || {});

                if (cast.length === 0 && crew.length === 0) {
                    alert('No cast or crew members to export');
                    return;
                }

                let html = `
                    <div class="page">
                        <div class="header">
                            <div class="header-main">
                                <div>
                                    <div class="header-title">${clean(Core.currentProduction)}</div>
                                    <div class="header-subtitle">Cast & Crew Directory</div>
                                </div>
                                <div class="header-meta">
                                    <div>Cast: ${cast.length}</div>
                                    <div>Crew: ${crew.length}</div>
                                    <div>Generated: ${new Date().toLocaleDateString()}</div>
                                </div>
                            </div>
                        </div>
                        
                        ${cast.length > 0 ? `
                            <div class="section">
                                <div class="section-title">Cast</div>
                                <table>
                                    <thead>
                                        <tr>
                                            <th style="width: 60px;">ID</th>
                                            <th>Name</th>
                                            <th>Character/Role</th>
                                            <th>Phone</th>
                                            <th>Email</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${cast.sort((a, b) => {
                                            const numA = parseInt(a.id.replace(/\D/g, ''));
                                            const numB = parseInt(b.id.replace(/\D/g, ''));
                                            return numA - numB;
                                        }).map(member => `
                                            <tr>
                                                <td class="font-mono font-bold">${member.id}</td>
                                                <td class="font-bold">${clean(member.name)}</td>
                                                <td>${member.role || '-'}</td>
                                                <td class="font-mono">${member.phone || '-'}</td>
                                                <td>${member.email || '-'}</td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        ` : ''}
                        
                        ${crew.length > 0 ? `
                            <div class="section">
                                <div class="section-title">Crew</div>
                                <table>
                                    <thead>
                                        <tr>
                                            <th style="width: 60px;">ID</th>
                                            <th>Name</th>
                                            <th>Position/Department</th>
                                            <th>Phone</th>
                                            <th>Email</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${crew.sort((a, b) => {
                                            const numA = parseInt(a.id.replace(/\D/g, ''));
                                            const numB = parseInt(b.id.replace(/\D/g, ''));
                                            return numA - numB;
                                        }).map(member => `
                                            <tr>
                                                <td class="font-mono font-bold">${member.id}</td>
                                                <td class="font-bold">${clean(member.name)}</td>
                                                <td>${member.position || '-'}</td>
                                                <td class="font-mono">${member.phone || '-'}</td>
                                                <td>${member.email || '-'}</td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        ` : ''}
                        
                        <div class="footer">
                            ${clean(Core.currentProduction)} &nbsp;&bull;&nbsp; Cast &amp; Crew Directory &nbsp;&bull;&nbsp; ${new Date().toLocaleDateString('en-US', {year:'numeric',month:'long',day:'numeric'})}
                        </div>
                    </div>
                `;

                this.openPrintWindow(html, `${clean(Core.currentProduction)} - Cast & Crew`);
            },

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
               4. TALENT RELEASE FORM PDF
               â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            talentRelease() {
                this.showTalentReleaseModal();
            },

            showTalentReleaseModal() {
                document.getElementById('tr-project').value = Core.currentProduction;
                document.getElementById('modal-talent-release').classList.add('active');
            },

            hideTalentReleaseModal() {
                document.getElementById('modal-talent-release').classList.remove('active');
            },

            generateTalentRelease() {
                const data = {
                    performer: document.getElementById('tr-performer-name').value.trim(),
                    role: document.getElementById('tr-role').value.trim(),
                    company: document.getElementById('tr-company').value.trim(),
                    project: document.getElementById('tr-project').value.trim(),
                    compensation: document.getElementById('tr-compensation').value.trim(),
                    dates: document.getElementById('tr-dates').value.trim(),
                    address: document.getElementById('tr-address').value.trim(),
                    terms: document.getElementById('tr-terms').value.trim()
                };

                const html = `
                    <div class="release-form">
                        <div class="release-title">TALENT RELEASE AGREEMENT</div>
                        
                        <div class="release-section">
                            <div class="release-field-row">
                                <div class="release-field">
                                    <div class="release-field-label">Production Company</div>
                                    <div class="release-field-value">${data.company || '______________________'}</div>
                                </div>
                                <div class="release-field">
                                    <div class="release-field-label">Project Title</div>
                                    <div class="release-field-value">${data.project || '______________________'}</div>
                                </div>
                            </div>
                            <div class="release-field-row">
                                <div class="release-field">
                                    <div class="release-field-label">Performer Name</div>
                                    <div class="release-field-value">${data.performer || '______________________'}</div>
                                </div>
                                <div class="release-field">
                                    <div class="release-field-label">Role/Character</div>
                                    <div class="release-field-value">${data.role || '______________________'}</div>
                                </div>
                            </div>
                            <div class="release-field-row">
                                <div class="release-field">
                                    <div class="release-field-label">Performer Address</div>
                                    <div class="release-field-value">${data.address || '______________________'}</div>
                                </div>
                            </div>
                            <div class="release-field-row">
                                <div class="release-field">
                                    <div class="release-field-label">Compensation</div>
                                    <div class="release-field-value">${data.compensation || '______________________'}</div>
                                </div>
                                <div class="release-field">
                                    <div class="release-field-label">Shoot Date(s)</div>
                                    <div class="release-field-value">${data.dates || '______________________'}</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="release-section">
                            <div class="release-section-title">Grant of Rights</div>
                            <div class="release-text">
                                For good and valuable consideration, the receipt and sufficiency of which is hereby acknowledged, I hereby grant to the Production Company, its successors, assigns, and licensees the irrevocable right and license to use my name, likeness, voice, biography, and performance in connection with the production, distribution, exhibition, advertising, and exploitation of the above-referenced project in any and all media now known or hereafter devised, throughout the universe, in perpetuity.
                            </div>
                        </div>
                        
                        <div class="release-section">
                            <div class="release-section-title">Representations and Warranties</div>
                            <div class="release-text">
                                I represent and warrant that: (a) I have the full right and authority to enter into this Agreement; (b) I am not under any obligation or disability that would prevent or restrict my performance hereunder; (c) my performance will not infringe upon or violate the rights of any third party; and (d) I will not make any claims against the Production Company or its successors based on my performance.
                            </div>
                        </div>
                        
                        <div class="release-section">
                            <div class="release-section-title">Release and Indemnification</div>
                            <div class="release-text">
                                I hereby release and discharge the Production Company from any and all claims, demands, or causes of action that I may have or may hereafter have against the Production Company arising out of or in connection with my performance or the use thereof. I agree to indemnify and hold harmless the Production Company from any claims arising from a breach of my representations and warranties herein.
                            </div>
                        </div>
                        
                        ${data.terms ? `
                            <div class="release-section">
                                <div class="release-section-title">Additional Terms</div>
                                <div class="release-text">${data.terms}</div>
                            </div>
                        ` : ''}
                        
                        <div class="release-section">
                            <div class="release-text">
                                I have read and understand this Agreement and agree to be bound by its terms. I acknowledge that I have been advised to seek independent legal counsel before signing this Agreement.
                            </div>
                        </div>
                        
                        <div class="signature-section">
                            <div>
                                <div class="signature-box">
                                    <div class="signature-label">Performer Signature</div>
                                </div>
                                <div style="margin-top: 20px;">
                                    <div class="release-field">
                                        <div class="release-field-label">Print Name</div>
                                        <div class="release-field-value">${data.performer || ''}</div>
                                    </div>
                                </div>
                                <div style="margin-top: 12px;">
                                    <div class="release-field">
                                        <div class="release-field-label">Date</div>
                                        <div class="release-field-value"></div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <div class="signature-box">
                                    <div class="signature-label">Production Company Representative</div>
                                </div>
                                <div style="margin-top: 20px;">
                                    <div class="release-field">
                                        <div class="release-field-label">Print Name</div>
                                        <div class="release-field-value"></div>
                                    </div>
                                </div>
                                <div style="margin-top: 12px;">
                                    <div class="release-field">
                                        <div class="release-field-label">Date</div>
                                        <div class="release-field-value"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                this.hideTalentReleaseModal();
                this.openPrintWindow(html, `Talent Release - ${data.performer || 'Form'}`);
            },

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
               5. LOCATION RELEASE FORM PDF
               â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            locationRelease() {
                this.showLocationReleaseModal();
            },

            showLocationReleaseModal() {
                document.getElementById('lr-project').value = Core.currentProduction;
                document.getElementById('modal-location-release').classList.add('active');
            },

            hideLocationReleaseModal() {
                document.getElementById('modal-location-release').classList.remove('active');
            },

            generateLocationRelease() {
                const data = {
                    owner: document.getElementById('lr-owner-name').value.trim(),
                    company: document.getElementById('lr-company').value.trim(),
                    address: document.getElementById('lr-address').value.trim(),
                    description: document.getElementById('lr-description').value.trim(),
                    project: document.getElementById('lr-project').value.trim(),
                    fee: document.getElementById('lr-fee').value.trim(),
                    startDate: document.getElementById('lr-start-date').value,
                    endDate: document.getElementById('lr-end-date').value,
                    hours: document.getElementById('lr-hours').value.trim(),
                    crewSize: document.getElementById('lr-crew-size').value,
                    conditions: document.getElementById('lr-conditions').value.trim()
                };

                const html = `
                    <div class="release-form">
                        <div class="release-title">LOCATION RELEASE AGREEMENT</div>
                        
                        <div class="release-section">
                            <div class="release-field-row">
                                <div class="release-field">
                                    <div class="release-field-label">Property Owner/Authorized Representative</div>
                                    <div class="release-field-value">${data.owner || '______________________'}</div>
                                </div>
                                <div class="release-field">
                                    <div class="release-field-label">Production Company</div>
                                    <div class="release-field-value">${data.company || '______________________'}</div>
                                </div>
                            </div>
                            <div class="release-field-row">
                                <div class="release-field" style="flex: 2;">
                                    <div class="release-field-label">Location Address</div>
                                    <div class="release-field-value">${data.address || '______________________'}</div>
                                </div>
                            </div>
                            <div class="release-field-row">
                                <div class="release-field" style="flex: 2;">
                                    <div class="release-field-label">Location Description</div>
                                    <div class="release-field-value">${data.description || '______________________'}</div>
                                </div>
                            </div>
                            <div class="release-field-row">
                                <div class="release-field">
                                    <div class="release-field-label">Project Title</div>
                                    <div class="release-field-value">${data.project || '______________________'}</div>
                                </div>
                                <div class="release-field">
                                    <div class="release-field-label">Fee/Compensation</div>
                                    <div class="release-field-value">${data.fee || '______________________'}</div>
                                </div>
                            </div>
                            <div class="release-field-row">
                                <div class="release-field">
                                    <div class="release-field-label">Start Date</div>
                                    <div class="release-field-value">${data.startDate || '______________________'}</div>
                                </div>
                                <div class="release-field">
                                    <div class="release-field-label">End Date</div>
                                    <div class="release-field-value">${data.endDate || '______________________'}</div>
                                </div>
                            </div>
                            <div class="release-field-row">
                                <div class="release-field">
                                    <div class="release-field-label">Access Hours</div>
                                    <div class="release-field-value">${data.hours || '______________________'}</div>
                                </div>
                                <div class="release-field">
                                    <div class="release-field-label">Approximate Crew Size</div>
                                    <div class="release-field-value">${data.crewSize || '______________________'}</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="release-section">
                            <div class="release-section-title">Grant of Permission</div>
                            <div class="release-text">
                                The undersigned property owner/authorized representative hereby grants to the Production Company, its employees, agents, contractors, successors, assigns, and licensees, permission to enter upon and use the above-described property for the purpose of photographing, filming, and recording scenes for the above-referenced production, including the right to bring personnel, equipment, and vehicles onto the property.
                            </div>
                        </div>
                        
                        <div class="release-section">
                            <div class="release-section-title">Rights Granted</div>
                            <div class="release-text">
                                The Production Company shall have the right to photograph, film, and record the property and to use such photographs, films, and recordings in any manner and in any media now known or hereafter devised, throughout the universe, in perpetuity, including but not limited to theatrical exhibition, television broadcast, home video, streaming, and all forms of advertising and promotion.
                            </div>
                        </div>
                        
                        <div class="release-section">
                            <div class="release-section-title">Production Company Obligations</div>
                            <div class="release-text">
                                The Production Company agrees to: (a) restore the property to substantially the same condition as existed prior to filming; (b) maintain comprehensive general liability insurance during the filming period; (c) comply with all applicable laws and regulations; and (d) indemnify and hold harmless the property owner from any claims arising from the Production Company's use of the property, except for claims arising from the property owner's negligence or willful misconduct.
                            </div>
                        </div>
                        
                        ${data.conditions ? `
                            <div class="release-section">
                                <div class="release-section-title">Special Conditions</div>
                                <div class="release-text">${data.conditions}</div>
                            </div>
                        ` : ''}
                        
                        <div class="release-section">
                            <div class="release-text">
                                The undersigned represents and warrants that they have the authority to grant the permissions contained herein and that such grant does not violate any agreement with any third party.
                            </div>
                        </div>
                        
                        <div class="signature-section">
                            <div>
                                <div class="signature-box">
                                    <div class="signature-label">Property Owner/Representative Signature</div>
                                </div>
                                <div style="margin-top: 20px;">
                                    <div class="release-field">
                                        <div class="release-field-label">Print Name</div>
                                        <div class="release-field-value">${data.owner || ''}</div>
                                    </div>
                                </div>
                                <div style="margin-top: 12px;">
                                    <div class="release-field">
                                        <div class="release-field-label">Date</div>
                                        <div class="release-field-value"></div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <div class="signature-box">
                                    <div class="signature-label">Production Company Representative</div>
                                </div>
                                <div style="margin-top: 20px;">
                                    <div class="release-field">
                                        <div class="release-field-label">Print Name</div>
                                        <div class="release-field-value"></div>
                                    </div>
                                </div>
                                <div style="margin-top: 12px;">
                                    <div class="release-field">
                                        <div class="release-field-label">Date</div>
                                        <div class="release-field-value"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                this.hideLocationReleaseModal();
                this.openPrintWindow(html, `Location Release - ${data.address || 'Form'}`);
            },


            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
               6. GANTT CHART PDF (Production & Global)
               â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            ganttChart(type = 'both') {
                const productionTasks = Core.data.gantt?.production || [];
                const globalTasks = Core.data.gantt?.global || [];

                if (productionTasks.length === 0 && globalTasks.length === 0) {
                    alert('No Gantt tasks to export');
                    return;
                }

                const renderGanttSection = (tasks, title, subtitle) => {
                    if (tasks.length === 0) return '';

                    const allDates = tasks.flatMap(t => [new Date(t.start), new Date(t.end)]);
                    const minDate = new Date(Math.min(...allDates));
                    const maxDate = new Date(Math.max(...allDates));
                    const totalDays = Math.ceil((maxDate - minDate) / (1000 * 60 * 60 * 24)) + 1;

                    const phaseColors = {
                        development: '#8b5cf6',
                        preproduction: '#00d4ff',
                        production: '#10b981',
                        postproduction: '#f59e0b',
                        distribution: '#ef4444'
                    };

                    let monthsHtml = '';
                    const months = {};
                    for (let i = 0; i < totalDays; i++) {
                        const date = new Date(minDate);
                        date.setDate(date.getDate() + i);
                        const monthKey = date.toLocaleDateString('en-US', { month: 'short', year: '2-digit' });
                        if (!months[monthKey]) months[monthKey] = 0;
                        months[monthKey]++;
                    }
                    for (const [month, days] of Object.entries(months)) {
                        const widthPercent = (days / totalDays) * 100;
                        monthsHtml += `<div style="width: ${widthPercent}%; text-align: center; font-size: 8pt; padding: 4px; background: #f0f4f8; border-right: 1px solid #e5e7eb;">${month}</div>`;
                    }

                    let rowsHtml = tasks.map(task => {
                        const startOffset = Math.ceil((new Date(task.start) - minDate) / (1000 * 60 * 60 * 24));
                        const duration = Math.ceil((new Date(task.end) - new Date(task.start)) / (1000 * 60 * 60 * 24)) + 1;
                        const leftPercent = (startOffset / totalDays) * 100;
                        const widthPercent = (duration / totalDays) * 100;
                        const color = phaseColors[task.phase] || '#00d4ff';

                        return `
                            <div class="gantt-row">
                                <div class="gantt-task-name">
                                    ${clean(task.name)}
                                    ${task.owner ? `<div style="font-size: 7pt; font-weight: normal; opacity: 0.8;">${task.owner}</div>` : ''}
                                </div>
                                <div class="gantt-bar-container">
                                    <div class="gantt-bar ${clean(task.phase)}" style="left: ${leftPercent}%; width: ${widthPercent}%; background: ${color};">
                                        ${clean(task.name)}
                                    </div>
                                </div>
                            </div>
                        `;
                    }).join('');

                    return `
                        <div class="section">
                            <div class="section-title">${title}</div>
                            <p style="margin-bottom: 12px; color: #6b7280; font-size: 9pt;">${subtitle}</p>
                            <div style="display: flex; margin-bottom: 8px;">
                                <div style="width: 180px; background: #1a1a2e; color: white; font-size: 8pt; padding: 4px 12px;">Task</div>
                                <div style="flex: 1; display: flex;">${monthsHtml}</div>
                            </div>
                            <div class="gantt-container">${rowsHtml}</div>
                            <div style="margin-top: 16px; display: flex; gap: 16px; flex-wrap: wrap;">
                                <div style="display: flex; align-items: center; gap: 6px; font-size: 8pt;">
                                    <div style="width: 16px; height: 16px; background: #8b5cf6; border-radius: 2px;"></div>
                                    Development
                                </div>
                                <div style="display: flex; align-items: center; gap: 6px; font-size: 8pt;">
                                    <div style="width: 16px; height: 16px; background: #00d4ff; border-radius: 2px;"></div>
                                    Pre-Production
                                </div>
                                <div style="display: flex; align-items: center; gap: 6px; font-size: 8pt;">
                                    <div style="width: 16px; height: 16px; background: #10b981; border-radius: 2px;"></div>
                                    Production
                                </div>
                                <div style="display: flex; align-items: center; gap: 6px; font-size: 8pt;">
                                    <div style="width: 16px; height: 16px; background: #f59e0b; border-radius: 2px;"></div>
                                    Post-Production
                                </div>
                                <div style="display: flex; align-items: center; gap: 6px; font-size: 8pt;">
                                    <div style="width: 16px; height: 16px; background: #ef4444; border-radius: 2px;"></div>
                                    Distribution
                                </div>
                            </div>
                        </div>
                    `;
                };

                let html = `
                    <div class="page">
                        <div class="header">
                            <div class="header-main">
                                <div>
                                    <div class="header-title">${clean(Core.currentProduction)}</div>
                                    <div class="header-subtitle">Production Timeline - Gantt Chart</div>
                                </div>
                                <div class="header-meta">
                                    <div>Production Tasks: ${productionTasks.length}</div>
                                    <div>Global Tasks: ${globalTasks.length}</div>
                                    <div>Generated: ${new Date().toLocaleDateString()}</div>
                                </div>
                            </div>
                        </div>
                        
                        ${(type === 'both' || type === 'production') ? renderGanttSection(productionTasks, 'Production Gantt Chart', 'Tasks specific to this production') : ''}
                        ${(type === 'both' || type === 'global') ? renderGanttSection(globalTasks, 'Global Gantt Chart', 'Company-wide and cross-production tasks') : ''}
                        
                        <div class="footer">
                            ${clean(Core.currentProduction)} | Gantt Chart | Generated ${new Date().toLocaleDateString()}
                        </div>
                    </div>
                `;

                this.openPrintWindow(html, `${clean(Core.currentProduction)} - Gantt Chart`);
            },

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
               7. CALL SHEET PDF
               â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            callSheet() {
                this.showCallSheetModal();
            },

            showCallSheetModal() {
                document.getElementById('cs-date').value = new Date().toISOString().split('T')[0];
                document.getElementById('modal-callsheet').classList.add('active');
            },

            hideCallSheetModal() {
                document.getElementById('modal-callsheet').classList.remove('active');
            },

            generateCallSheet() {
                const data = {
                    dayNumber: document.getElementById('cs-day-number').value || '1',
                    date: document.getElementById('cs-date').value,
                    callTime: document.getElementById('cs-call-time').value || '06:00',
                    director: document.getElementById('cs-director').value.trim(),
                    ad: document.getElementById('cs-ad').value.trim(),
                    producer: document.getElementById('cs-producer').value.trim(),
                    location: document.getElementById('cs-location').value.trim(),
                    address: document.getElementById('cs-address').value.trim(),
                    weather: document.getElementById('cs-weather').value.trim(),
                    notes: document.getElementById('cs-notes').value.trim()
                };

                const strips = Core.data.schedule?.strips || [];
                const scenes = strips.filter(s => s.type === 'scene').slice(0, 8);
                const cast = Object.values(Core.data.cast || {}).slice(0, 15);
                const crew = Object.values(Core.data.crew || {}).slice(0, 15);

                const formatTime = (time) => {
                    if (!time) return '';
                    const [h, m] = time.split(':');
                    const hour = parseInt(h);
                    const ampm = hour >= 12 ? 'PM' : 'AM';
                    const hour12 = hour % 12 || 12;
                    return `${hour12}:${m} ${ampm}`;
                };

                const html = `
                    <div class="page">
                        <div class="header" style="background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);">
                            <div class="header-main">
                                <div>
                                    <div class="header-title">${clean(Core.currentProduction)}</div>
                                    <div class="header-subtitle">CALL SHEET</div>
                                </div>
                                <div class="header-meta">
                                    <div style="font-size: 24pt; font-weight: 700;">DAY ${data.dayNumber}</div>
                                    <div>${data.date ? new Date(data.date).toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric' }) : ''}</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="callsheet-info-grid">
                            <div class="callsheet-info-box" style="background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%); color: white;">
                                <div class="callsheet-info-label" style="color: rgba(255,255,255,0.8);">General Call</div>
                                <div class="callsheet-info-value" style="color: white;">${formatTime(data.callTime)}</div>
                            </div>
                            <div class="callsheet-info-box">
                                <div class="callsheet-info-label">Location</div>
                                <div class="callsheet-info-value" style="font-size: 12pt;">${data.location || 'TBD'}</div>
                                <div style="font-size: 9pt; color: #6b7280; margin-top: 4px;">${data.address || ''}</div>
                            </div>
                            <div class="callsheet-info-box">
                                <div class="callsheet-info-label">Weather</div>
                                <div class="callsheet-info-value" style="font-size: 12pt;">${data.weather || 'Check forecast'}</div>
                            </div>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-bottom: 20px;">
                            <div style="background: #f9fafb; padding: 12px; border-radius: 6px;">
                                <div style="font-size: 8pt; color: #6b7280; text-transform: uppercase;">Director</div>
                                <div style="font-weight: 700;">${data.director || 'TBD'}</div>
                            </div>
                            <div style="background: #f9fafb; padding: 12px; border-radius: 6px;">
                                <div style="font-size: 8pt; color: #6b7280; text-transform: uppercase;">1st AD</div>
                                <div style="font-weight: 700;">${data.ad || 'TBD'}</div>
                            </div>
                            <div style="background: #f9fafb; padding: 12px; border-radius: 6px;">
                                <div style="font-size: 8pt; color: #6b7280; text-transform: uppercase;">Producer</div>
                                <div style="font-weight: 700;">${data.producer || 'TBD'}</div>
                            </div>
                        </div>
                        
                        ${data.notes ? `
                            <div style="background: #fef2f2; border: 1px solid #fecaca; padding: 12px; border-radius: 6px; margin-bottom: 20px;">
                                <div style="font-weight: 700; color: #dc2626; margin-bottom: 4px;">âš ï¸ SPECIAL NOTES</div>
                                <div style="font-size: 10pt;">${clean(data.notes)}</div>
                            </div>
                        ` : ''}
                        
                        <div class="section">
                            <div class="section-title">Shooting Schedule</div>
                            <table>
                                <thead>
                                    <tr>
                                        <th style="width: 50px;">Scene</th>
                                        <th style="width: 40px;">I/E</th>
                                        <th style="width: 50px;">D/N</th>
                                        <th>Location</th>
                                        <th>Description</th>
                                        <th style="width: 100px;">Cast</th>
                                        <th style="width: 50px;">Pages</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${scenes.length > 0 ? scenes.map(s => `
                                        <tr>
                                            <td class="font-mono font-bold">${s.scene || '?'}</td>
                                            <td>${s.intext || 'INT'}</td>
                                            <td>${s.daynight || 'DAY'}</td>
                                            <td class="font-bold">${s.location || 'TBD'}</td>
                                            <td class="text-sm">${s.description || '-'}</td>
                                            <td class="text-sm">${s.cast || '-'}</td>
                                            <td class="font-mono">${s.pages || '0'}</td>
                                        </tr>
                                    `).join('') : '<tr><td colspan="7" style="text-align: center; color: #6b7280;">No scenes scheduled</td></tr>'}
                                </tbody>
                            </table>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div class="section">
                                <div class="section-title">Cast Call Times</div>
                                <table>
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Name</th>
                                            <th>Character</th>
                                            <th>Call</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${cast.length > 0 ? cast.map(c => `
                                            <tr>
                                                <td class="font-mono">${c.id}</td>
                                                <td class="font-bold">${clean(c.name)}</td>
                                                <td>${c.role || '-'}</td>
                                                <td class="font-mono">${formatTime(data.callTime)}</td>
                                            </tr>
                                        `).join('') : '<tr><td colspan="4" style="text-align: center; color: #6b7280;">No cast</td></tr>'}
                                    </tbody>
                                </table>
                            </div>
                            
                            <div class="section">
                                <div class="section-title">Crew</div>
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Position</th>
                                            <th>Call</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${crew.length > 0 ? crew.map(c => `
                                            <tr>
                                                <td class="font-bold">${clean(c.name)}</td>
                                                <td>${c.position || '-'}</td>
                                                <td class="font-mono">${formatTime(data.callTime)}</td>
                                            </tr>
                                        `).join('') : '<tr><td colspan="3" style="text-align: center; color: #6b7280;">No crew</td></tr>'}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <div class="footer">
                            ${clean(Core.currentProduction)} | Call Sheet Day ${data.dayNumber} | Generated ${new Date().toLocaleDateString()}
                        </div>
                    </div>
                `;

                this.hideCallSheetModal();
                this.openPrintWindow(html, `${clean(Core.currentProduction)} - Call Sheet Day ${data.dayNumber}`);
            },

            /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
               BONUS: DAILY PRODUCTION REPORT PDF
               â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
            dailyReport() {
                this.showDailyReportModal();
            },

            showDailyReportModal() {
                document.getElementById('dr-date').value = new Date().toISOString().split('T')[0];
                document.getElementById('modal-daily-report').classList.add('active');
            },

            hideDailyReportModal() {
                document.getElementById('modal-daily-report').classList.remove('active');
            },

            generateDailyReport() {
                const data = {
                    date: document.getElementById('dr-date').value,
                    dayOf: document.getElementById('dr-day-of').value.trim(),
                    call: document.getElementById('dr-call').value,
                    firstShot: document.getElementById('dr-first-shot').value,
                    lunch: document.getElementById('dr-lunch').value.trim(),
                    wrap: document.getElementById('dr-wrap').value,
                    scenes: document.getElementById('dr-scenes').value.trim(),
                    pages: document.getElementById('dr-pages').value.trim(),
                    notes: document.getElementById('dr-notes').value.trim()
                };

                const html = `
                    <div class="page">
                        <div class="header">
                            <div class="header-main">
                                <div>
                                    <div class="header-title">${clean(Core.currentProduction)}</div>
                                    <div class="header-subtitle">Daily Production Report</div>
                                </div>
                                <div class="header-meta">
                                    <div style="font-size: 14pt; font-weight: 700;">Day ${data.dayOf || '?'}</div>
                                    <div>${data.date ? new Date(data.date).toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric' }) : ''}</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="section">
                            <div class="section-title">Schedule Summary</div>
                            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px;">
                                <div style="background: #f9fafb; padding: 16px; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 8pt; color: #6b7280; text-transform: uppercase;">Call Time</div>
                                    <div style="font-size: 18pt; font-weight: 700; color: #1a1a2e;">${data.call || '-'}</div>
                                </div>
                                <div style="background: #f9fafb; padding: 16px; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 8pt; color: #6b7280; text-transform: uppercase;">First Shot</div>
                                    <div style="font-size: 18pt; font-weight: 700; color: #1a1a2e;">${data.firstShot || '-'}</div>
                                </div>
                                <div style="background: #f9fafb; padding: 16px; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 8pt; color: #6b7280; text-transform: uppercase;">Lunch</div>
                                    <div style="font-size: 18pt; font-weight: 700; color: #1a1a2e;">${data.lunch || '-'}</div>
                                </div>
                                <div style="background: #f9fafb; padding: 16px; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 8pt; color: #6b7280; text-transform: uppercase;">Wrap</div>
                                    <div style="font-size: 18pt; font-weight: 700; color: #1a1a2e;">${data.wrap || '-'}</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="section">
                            <div class="section-title">Production Progress</div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                                <div style="background: #d1fae5; padding: 16px; border-radius: 8px;">
                                    <div style="font-size: 9pt; color: #065f46; text-transform: uppercase; margin-bottom: 4px;">Scenes Shot Today</div>
                                    <div style="font-size: 14pt; font-weight: 700; color: #065f46;">${data.scenes || 'None recorded'}</div>
                                </div>
                                <div style="background: #dbeafe; padding: 16px; border-radius: 8px;">
                                    <div style="font-size: 9pt; color: #1e40af; text-transform: uppercase; margin-bottom: 4px;">Pages Shot Today</div>
                                    <div style="font-size: 14pt; font-weight: 700; color: #1e40af;">${data.pages || 'None recorded'}</div>
                                </div>
                            </div>
                        </div>
                        
                        ${data.notes ? `
                            <div class="section">
                                <div class="section-title">Notes & Issues</div>
                                <div style="background: #f9fafb; padding: 16px; border-radius: 8px;">
                                    <p style="line-height: 1.6;">${clean(data.notes)}</p>
                                </div>
                            </div>
                        ` : ''}
                        
                        <div class="signature-section" style="margin-top: 40px;">
                            <div>
                                <div class="signature-box">
                                    <div class="signature-label">Production Manager</div>
                                </div>
                            </div>
                            <div>
                                <div class="signature-box">
                                    <div class="signature-label">1st Assistant Director</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="footer">
                            ${clean(Core.currentProduction)} | Daily Production Report | Generated ${new Date().toLocaleDateString()}
                        </div>
                    </div>
                `;

                this.hideDailyReportModal();
                this.openPrintWindow(html, `${clean(Core.currentProduction)} - Daily Report ${data.date}`);
            }
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           NEW FEATURE 1: BUDGET TRACKER MODULE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           FINANCIALS MODULE - Complete Budget Ledger with Purchase Orders
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           BUDGET SCALE SYSTEM â€” Quick Skit â†’ $1B Blockbuster
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const BUDGET_SCALES = {
            micro: {
                id:'micro', label:'Quick Short / Skit', icon:'ğŸ“±',
                range:'$0 â€“ $500', rangeMin:0, rangeMax:500, color:'#6ee7b7',
                description:'Shot on phone or basic DSLR. No paid crew. Favors & borrowed gear.',
                lines:[
                    {code:'100',name:'Story & Script',dept:'ATL',est:0},
                    {code:'200',name:'Talent (Friends/Favors)',dept:'Cast',est:0},
                    {code:'300',name:'Camera (Phone/Own DSLR)',dept:'Camera',est:0},
                    {code:'310',name:'Lighting (Practicals/Bounce)',dept:'Lighting',est:25},
                    {code:'400',name:'Sound (Lav/Phone Mic)',dept:'Sound',est:30},
                    {code:'500',name:'Location (Free/Home)',dept:'Locations',est:0},
                    {code:'600',name:'Props & Wardrobe (Own)',dept:'Art',est:40},
                    {code:'700',name:'Food & Craft (Self-Catered)',dept:'Catering',est:50},
                    {code:'800',name:'Editing (Free Software)',dept:'Post',est:0},
                    {code:'810',name:'Color (LUT/Basic)',dept:'Post',est:0},
                    {code:'820',name:'Music (Free License)',dept:'Post',est:20},
                    {code:'900',name:'Miscellaneous',dept:'Other',est:50},
                ]
            },
            student_high: {
                id:'student_high', label:'High-End Student', icon:'ğŸ“',
                range:'$280 â€“ $5,000', rangeMin:280, rangeMax:5000, color:'#67e8f9',
                description:'Festival-quality student film. Some paid crew, rented gear, real locations.',
                lines:[
                    {code:'100',name:'Story & Screenplay',dept:'ATL',est:0},
                    {code:'200',name:'Lead Cast (Deferred/Low)',dept:'Cast',est:300},
                    {code:'210',name:'Supporting Cast',dept:'Cast',est:150},
                    {code:'300',name:'Camera Package (Rental)',dept:'Camera',est:400},
                    {code:'310',name:'Steadicam / Gimbal',dept:'Camera',est:100},
                    {code:'320',name:'Lenses & Accessories',dept:'Camera',est:150},
                    {code:'400',name:'Grip & Electric Package',dept:'Lighting',est:300},
                    {code:'410',name:'Generator / Power',dept:'Lighting',est:100},
                    {code:'500',name:'Production Sound Package',dept:'Sound',est:200},
                    {code:'510',name:'Post Sound & Mix',dept:'Sound',est:200},
                    {code:'600',name:'Location Fees & Permits',dept:'Locations',est:300},
                    {code:'700',name:'Production Design & Dressing',dept:'Art',est:200},
                    {code:'710',name:'Props',dept:'Art',est:150},
                    {code:'720',name:'Wardrobe',dept:'Art',est:150},
                    {code:'730',name:'Hair & Makeup',dept:'Art',est:100},
                    {code:'800',name:'Transportation',dept:'Transport',est:200},
                    {code:'810',name:'Catering & Craft Services',dept:'Catering',est:300},
                    {code:'900',name:'Editing (Software Sub)',dept:'Post',est:50},
                    {code:'910',name:'Color Grade',dept:'Post',est:150},
                    {code:'920',name:'Music & SFX',dept:'Post',est:100},
                    {code:'930',name:'Deliverables & DCP',dept:'Post',est:100},
                    {code:'1000',name:'Contingency (10%)',dept:'Contingency',est:300},
                ]
            },
            indie_small: {
                id:'indie_small', label:'Small Indie', icon:'ğŸ¬',
                range:'$5K â€“ $150K', rangeMin:5000, rangeMax:150000, color:'#818cf8',
                description:'SAG Ultra Low / Non-Union. Paid key crew, deferred rates. 5â€“15 shoot days.',
                lines:[
                    {code:'100',name:'Story Rights & Screenplay',dept:'ATL',est:2000},
                    {code:'110',name:'Director Fee',dept:'ATL',est:3000},
                    {code:'120',name:'Producer(s)',dept:'ATL',est:2000},
                    {code:'200',name:'Lead Cast (SAG Ultra Low)',dept:'Cast',est:5000},
                    {code:'210',name:'Supporting Cast',dept:'Cast',est:2500},
                    {code:'220',name:'Extras / Background',dept:'Cast',est:800},
                    {code:'221',name:'Casting Director',dept:'Cast',est:1500},
                    {code:'300',name:'DP / Camera Operator',dept:'Camera',est:3000},
                    {code:'310',name:'Camera Package Rental',dept:'Camera',est:3500},
                    {code:'320',name:'1st AC / Focus Puller',dept:'Camera',est:1500},
                    {code:'330',name:'2nd AC / Loader',dept:'Camera',est:800},
                    {code:'400',name:'Gaffer',dept:'Lighting',est:2000},
                    {code:'410',name:'Grip & Electric Package',dept:'Lighting',est:3000},
                    {code:'420',name:'Best Boy Electric',dept:'Lighting',est:1000},
                    {code:'430',name:'Generator / Power',dept:'Lighting',est:800},
                    {code:'500',name:'Production Sound Mixer',dept:'Sound',est:2500},
                    {code:'510',name:'Boom Operator',dept:'Sound',est:1200},
                    {code:'520',name:'Sound Package',dept:'Sound',est:800},
                    {code:'530',name:'Post Sound & Mix',dept:'Sound',est:3000},
                    {code:'600',name:'Location Manager',dept:'Locations',est:1500},
                    {code:'610',name:'Location Fees & Permits',dept:'Locations',est:4000},
                    {code:'620',name:'Location PA',dept:'Locations',est:800},
                    {code:'700',name:'Production Designer',dept:'Art',est:2000},
                    {code:'710',name:'Set Decorator',dept:'Art',est:1000},
                    {code:'720',name:'Props Budget',dept:'Art',est:1500},
                    {code:'730',name:'Wardrobe Designer',dept:'Art',est:1500},
                    {code:'740',name:'Wardrobe Budget',dept:'Art',est:1500},
                    {code:'750',name:'Makeup / Hair Dept Head',dept:'Art',est:1500},
                    {code:'760',name:'Makeup Budget',dept:'Art',est:500},
                    {code:'800',name:'1st AD',dept:'Production',est:2000},
                    {code:'810',name:'2nd AD',dept:'Production',est:1200},
                    {code:'820',name:'Script Supervisor',dept:'Production',est:1500},
                    {code:'830',name:'Production Coordinator',dept:'Production',est:1500},
                    {code:'840',name:'PA Staff',dept:'Production',est:1200},
                    {code:'850',name:'Transportation / Vehicles',dept:'Transport',est:2500},
                    {code:'860',name:'Catering & Craft Services',dept:'Catering',est:3500},
                    {code:'870',name:'Hotel / Accommodations',dept:'Travel',est:2000},
                    {code:'900',name:'Editor',dept:'Post',est:4000},
                    {code:'910',name:'Color Grade & DI',dept:'Post',est:3000},
                    {code:'920',name:'Music & Composer',dept:'Post',est:2500},
                    {code:'930',name:'Licensed Music',dept:'Post',est:1000},
                    {code:'940',name:'VFX / Motion Graphics',dept:'Post',est:2000},
                    {code:'950',name:'Deliverables & DCP',dept:'Post',est:1500},
                    {code:'960',name:'E&O Insurance',dept:'Insurance',est:2000},
                    {code:'970',name:'Production Insurance',dept:'Insurance',est:1500},
                    {code:'980',name:'Legal & Clearances',dept:'Legal',est:2000},
                    {code:'990',name:'Festival Submissions',dept:'Distribution',est:500},
                    {code:'1000',name:'Contingency (10%)',dept:'Contingency',est:0},
                ]
            },
            indie: {
                id:'indie', label:'Indie Feature', icon:'ğŸ†',
                range:'$150K â€“ $5M', rangeMin:150000, rangeMax:5000000, color:'#f59e0b',
                description:'SAG Low Budget. Professional paid crew. 20â€“35 shoot days. Festival or limited release.',
                lines:[
                    {code:'100',name:'Story Rights & Optioning',dept:'ATL',est:10000},
                    {code:'105',name:'Screenplay',dept:'ATL',est:15000},
                    {code:'110',name:'Director Fee',dept:'ATL',est:50000},
                    {code:'115',name:'Director Prep & Wrap',dept:'ATL',est:10000},
                    {code:'120',name:'Executive Producer(s)',dept:'ATL',est:20000},
                    {code:'125',name:'Line Producer',dept:'ATL',est:25000},
                    {code:'200',name:'Lead Cast (2-3 Leads)',dept:'Cast',est:80000},
                    {code:'205',name:'Supporting Cast',dept:'Cast',est:40000},
                    {code:'210',name:'Day Players',dept:'Cast',est:15000},
                    {code:'215',name:'Extras / Stand-Ins',dept:'Cast',est:8000},
                    {code:'220',name:'Casting Director & Assoc',dept:'Cast',est:10000},
                    {code:'225',name:'Stunt Coordinator & Team',dept:'Cast',est:15000},
                    {code:'300',name:'Director of Photography',dept:'Camera',est:35000},
                    {code:'305',name:'Camera Package (Arri/Sony)',dept:'Camera',est:25000},
                    {code:'310',name:'1st AC',dept:'Camera',est:12000},
                    {code:'315',name:'2nd AC',dept:'Camera',est:8000},
                    {code:'320',name:'Camera PA / DIT',dept:'Camera',est:6000},
                    {code:'325',name:'Steadicam Operator',dept:'Camera',est:10000},
                    {code:'330',name:'Drone / Aerial Unit',dept:'Camera',est:5000},
                    {code:'400',name:'Gaffer',dept:'Lighting',est:20000},
                    {code:'405',name:'Best Boy Electric',dept:'Lighting',est:12000},
                    {code:'410',name:'Electric Crew (3-4 people)',dept:'Lighting',est:18000},
                    {code:'415',name:'Key Grip',dept:'Lighting',est:18000},
                    {code:'420',name:'Best Boy Grip',dept:'Lighting',est:12000},
                    {code:'425',name:'Grip & Electric Package',dept:'Lighting',est:20000},
                    {code:'430',name:'Generator(s) & Fuel',dept:'Lighting',est:8000},
                    {code:'500',name:'Production Sound Mixer',dept:'Sound',est:18000},
                    {code:'505',name:'Boom Operator',dept:'Sound',est:10000},
                    {code:'510',name:'Sound Package',dept:'Sound',est:5000},
                    {code:'515',name:'ADR & Loop Group',dept:'Sound',est:8000},
                    {code:'520',name:'Sound Design',dept:'Sound',est:12000},
                    {code:'525',name:'Final Mix & Deliverables',dept:'Sound',est:15000},
                    {code:'600',name:'Location Manager',dept:'Locations',est:15000},
                    {code:'605',name:'Asst Location Manager',dept:'Locations',est:8000},
                    {code:'610',name:'Location Fees',dept:'Locations',est:30000},
                    {code:'615',name:'Permits & Security',dept:'Locations',est:10000},
                    {code:'620',name:'Location PA',dept:'Locations',est:5000},
                    {code:'700',name:'Production Designer',dept:'Art',est:20000},
                    {code:'705',name:'Art Director',dept:'Art',est:12000},
                    {code:'710',name:'Set Decorator',dept:'Art',est:10000},
                    {code:'715',name:'Set Construction',dept:'Art',est:20000},
                    {code:'720',name:'Props Master',dept:'Art',est:10000},
                    {code:'725',name:'Props Budget',dept:'Art',est:12000},
                    {code:'730',name:'Costume Designer',dept:'Art',est:12000},
                    {code:'735',name:'Wardrobe Supervisor',dept:'Art',est:8000},
                    {code:'740',name:'Wardrobe Budget',dept:'Art',est:10000},
                    {code:'745',name:'Makeup Dept Head',dept:'Art',est:12000},
                    {code:'750',name:'Hair Dept Head',dept:'Art',est:10000},
                    {code:'755',name:'Makeup & Hair Budget',dept:'Art',est:8000},
                    {code:'800',name:'1st AD',dept:'Production',est:18000},
                    {code:'805',name:'2nd AD',dept:'Production',est:10000},
                    {code:'810',name:'2nd 2nd AD / Set PA',dept:'Production',est:7000},
                    {code:'815',name:'Script Supervisor',dept:'Production',est:12000},
                    {code:'820',name:'Production Coordinator',dept:'Production',est:10000},
                    {code:'825',name:'Production Secretary',dept:'Production',est:6000},
                    {code:'830',name:'PA Staff (4-6 PAs)',dept:'Production',est:8000},
                    {code:'835',name:'Office Expenses',dept:'Production',est:5000},
                    {code:'840',name:'Transportation Coordinator',dept:'Transport',est:8000},
                    {code:'845',name:'Cast Drivers',dept:'Transport',est:12000},
                    {code:'850',name:'Picture Cars',dept:'Transport',est:8000},
                    {code:'855',name:'Production Vehicles',dept:'Transport',est:10000},
                    {code:'860',name:'Catering (Full Service)',dept:'Catering',est:25000},
                    {code:'865',name:'Craft Services',dept:'Catering',est:10000},
                    {code:'870',name:'Hotel / Accommodations',dept:'Travel',est:20000},
                    {code:'875',name:'Per Diem',dept:'Travel',est:12000},
                    {code:'900',name:'Editor & Editing Suite',dept:'Post',est:30000},
                    {code:'905',name:'Assistant Editor',dept:'Post',est:15000},
                    {code:'910',name:'Color Grade & DI',dept:'Post',est:20000},
                    {code:'915',name:'Composer',dept:'Post',est:20000},
                    {code:'920',name:'Licensed Music',dept:'Post',est:15000},
                    {code:'925',name:'VFX Supervisor & Artists',dept:'Post',est:25000},
                    {code:'930',name:'Motion Graphics / Titles',dept:'Post',est:5000},
                    {code:'935',name:'DCP & Deliverables',dept:'Post',est:8000},
                    {code:'940',name:'Online / Mastering',dept:'Post',est:5000},
                    {code:'960',name:'Production Insurance',dept:'Insurance',est:20000},
                    {code:'965',name:'E&O Insurance',dept:'Insurance',est:8000},
                    {code:'970',name:'Workers Comp',dept:'Insurance',est:5000},
                    {code:'975',name:'Legal & Contracts',dept:'Legal',est:15000},
                    {code:'980',name:'Clearances & Rights',dept:'Legal',est:8000},
                    {code:'985',name:'Accounting / Payroll',dept:'Legal',est:10000},
                    {code:'990',name:'Marketing & Poster',dept:'Distribution',est:10000},
                    {code:'995',name:'Festival Submissions & Travel',dept:'Distribution',est:8000},
                    {code:'1000',name:'Contingency (10%)',dept:'Contingency',est:0},
                ]
            },
            blockbuster: {
                id:'blockbuster', label:'Blockbuster / Studio', icon:'ğŸ†',
                range:'$5M â€“ $1B+', rangeMin:5000000, rangeMax:1000000000, color:'#f43f5e',
                description:'Studio-level. Full union. A-list talent. Major VFX. Global P&A campaign.',
                lines:[
                    {code:'100',name:'Story Rights / IP Acquisition',dept:'ATL',est:5000000},
                    {code:'105',name:'Screenplay / Writing Team',dept:'ATL',est:2000000},
                    {code:'108',name:'Script Development & Rewrites',dept:'ATL',est:500000},
                    {code:'110',name:'Director Fee',dept:'ATL',est:5000000},
                    {code:'112',name:'Director DGA Residuals',dept:'ATL',est:500000},
                    {code:'115',name:'Executive Producer(s)',dept:'ATL',est:3000000},
                    {code:'118',name:'Producers',dept:'ATL',est:2000000},
                    {code:'120',name:'Line Producer / UPM',dept:'ATL',est:300000},
                    {code:'200',name:'Lead Cast A-List (1-2 stars)',dept:'Cast',est:20000000},
                    {code:'205',name:'Lead Cast (Supporting Stars)',dept:'Cast',est:8000000},
                    {code:'210',name:'Principal Cast',dept:'Cast',est:4000000},
                    {code:'215',name:'Day Players (SAG)',dept:'Cast',est:1500000},
                    {code:'220',name:'Extras & Stand-Ins',dept:'Cast',est:800000},
                    {code:'225',name:'Casting Director(s)',dept:'Cast',est:250000},
                    {code:'230',name:'Stunt Coordinator',dept:'Cast',est:500000},
                    {code:'235',name:'Stunt Performers',dept:'Cast',est:1500000},
                    {code:'240',name:'Stunt Equipment & Safety',dept:'Cast',est:400000},
                    {code:'300',name:'Director of Photography',dept:'Camera',est:600000},
                    {code:'305',name:'A-Camera Package',dept:'Camera',est:500000},
                    {code:'308',name:'B-Camera Package',dept:'Camera',est:300000},
                    {code:'310',name:'Specialty Camera (UW/HFR)',dept:'Camera',est:200000},
                    {code:'315',name:'1st AC / 2nd AC',dept:'Camera',est:300000},
                    {code:'320',name:'DIT & Digital Workflow',dept:'Camera',est:150000},
                    {code:'325',name:'Steadicam / Motion Control',dept:'Camera',est:300000},
                    {code:'330',name:'Drone / Aerial Photography',dept:'Camera',est:500000},
                    {code:'335',name:'Helicopter / Aircraft Unit',dept:'Camera',est:800000},
                    {code:'400',name:'Gaffer',dept:'Lighting',est:400000},
                    {code:'405',name:'Electric Crew (10+ people)',dept:'Lighting',est:1200000},
                    {code:'410',name:'Key Grip / Grip Crew',dept:'Lighting',est:1000000},
                    {code:'415',name:'Lighting & Grip Package',dept:'Lighting',est:2000000},
                    {code:'420',name:'Generators & Fuel',dept:'Lighting',est:400000},
                    {code:'425',name:'Special Effects Lighting',dept:'Lighting',est:300000},
                    {code:'500',name:'Production Sound Mixer',dept:'Sound',est:300000},
                    {code:'505',name:'Sound Dept (Boom/Utility)',dept:'Sound',est:200000},
                    {code:'510',name:'Sound Package',dept:'Sound',est:150000},
                    {code:'515',name:'ADR Studio',dept:'Sound',est:300000},
                    {code:'520',name:'Foley Studio & Artists',dept:'Sound',est:200000},
                    {code:'525',name:'Sound Design',dept:'Sound',est:400000},
                    {code:'530',name:'Orchestral Score / Composer',dept:'Sound',est:2000000},
                    {code:'535',name:'Score Recording (Live Orchestra)',dept:'Sound',est:500000},
                    {code:'540',name:'Licensed Music & Master Rights',dept:'Sound',est:1500000},
                    {code:'545',name:'Final Mix (Dolby Atmos)',dept:'Sound',est:500000},
                    {code:'600',name:'Location Manager / Team',dept:'Locations',est:400000},
                    {code:'605',name:'Location Fees (Domestic)',dept:'Locations',est:2000000},
                    {code:'610',name:'Location Fees (International)',dept:'Locations',est:3000000},
                    {code:'615',name:'Permits & Security',dept:'Locations',est:500000},
                    {code:'620',name:'Stage Rental (Major Studios)',dept:'Locations',est:3000000},
                    {code:'625',name:'Standing Sets (Long-Term)',dept:'Locations',est:1000000},
                    {code:'700',name:'Production Designer',dept:'Art',est:500000},
                    {code:'705',name:'Art Director(s)',dept:'Art',est:400000},
                    {code:'710',name:'Art Dept Crew',dept:'Art',est:800000},
                    {code:'715',name:'Set Construction & Materials',dept:'Art',est:3000000},
                    {code:'720',name:'Set Decoration & Dressing',dept:'Art',est:1500000},
                    {code:'725',name:'Props Master & Dept',dept:'Art',est:600000},
                    {code:'730',name:'Prop Fabrication / Hero Props',dept:'Art',est:800000},
                    {code:'735',name:'Costume Designer',dept:'Art',est:400000},
                    {code:'740',name:'Wardrobe Dept (Large)',dept:'Art',est:600000},
                    {code:'745',name:'Principal Costumes (Custom)',dept:'Art',est:1000000},
                    {code:'750',name:'Makeup Dept Head & Key',dept:'Art',est:500000},
                    {code:'755',name:'Prosthetics & SFX Makeup',dept:'Art',est:800000},
                    {code:'760',name:'Wigs & Hair Department',dept:'Art',est:300000},
                    {code:'800',name:'1st AD / 2nd AD / Set PA Team',dept:'Production',est:600000},
                    {code:'805',name:'Script Supervisor',dept:'Production',est:150000},
                    {code:'810',name:'Production Coordinator & Staff',dept:'Production',est:400000},
                    {code:'815',name:'Production Accountant & Team',dept:'Production',est:300000},
                    {code:'820',name:'PA Staff (20+ PAs)',dept:'Production',est:200000},
                    {code:'825',name:'Office & Production Expenses',dept:'Production',est:500000},
                    {code:'830',name:'Communications / Radios',dept:'Production',est:100000},
                    {code:'840',name:'Transportation Coordinator',dept:'Transport',est:200000},
                    {code:'845',name:'Cast Drivers & Vehicles',dept:'Transport',est:500000},
                    {code:'850',name:'Crew Transportation',dept:'Transport',est:800000},
                    {code:'855',name:'Picture Cars',dept:'Transport',est:600000},
                    {code:'860',name:'Vehicle Coordinator',dept:'Transport',est:100000},
                    {code:'870',name:'Catering (Full Craft Service)',dept:'Catering',est:1500000},
                    {code:'875',name:'Craft Services',dept:'Catering',est:500000},
                    {code:'880',name:'Hotel / Accommodations (Crew)',dept:'Travel',est:2000000},
                    {code:'885',name:'Hotel (Cast - A-List)',dept:'Travel',est:1000000},
                    {code:'890',name:'Airfare & Private Travel',dept:'Travel',est:1500000},
                    {code:'895',name:'Per Diem (All Crew)',dept:'Travel',est:800000},
                    {code:'900',name:'Editor & Editing Suite',dept:'Post',est:500000},
                    {code:'905',name:'Assistant Editor(s)',dept:'Post',est:200000},
                    {code:'910',name:'Color Grade & Digital Intermediate',dept:'Post',est:600000},
                    {code:'915',name:'VFX Supervisor',dept:'Post',est:400000},
                    {code:'920',name:'VFX Production (Major House)',dept:'Post',est:25000000},
                    {code:'925',name:'VFX Production (Secondary)',dept:'Post',est:5000000},
                    {code:'930',name:'Motion Graphics & Titles',dept:'Post',est:300000},
                    {code:'935',name:'Previsualization (Previs)',dept:'Post',est:1000000},
                    {code:'940',name:'Deliverables (DCP/HDR/IMF)',dept:'Post',est:300000},
                    {code:'945',name:'IMAX / Premium Format Master',dept:'Post',est:500000},
                    {code:'950',name:'SFX / Practical Effects',dept:'Post',est:2000000},
                    {code:'955',name:'Pyrotechnics',dept:'Post',est:500000},
                    {code:'960',name:'Production Insurance',dept:'Insurance',est:3000000},
                    {code:'962',name:'E&O Insurance',dept:'Insurance',est:500000},
                    {code:'964',name:'Cast Insurance',dept:'Insurance',est:1000000},
                    {code:'966',name:'Workers Compensation',dept:'Insurance',est:800000},
                    {code:'970',name:'Legal (Film Counsel)',dept:'Legal',est:1000000},
                    {code:'972',name:'Clearances & IP Rights',dept:'Legal',est:500000},
                    {code:'974',name:'Guild Residuals Reserve',dept:'Legal',est:2000000},
                    {code:'976',name:'Payroll Processing',dept:'Legal',est:400000},
                    {code:'980',name:'Marketing (P&A) - Domestic',dept:'Distribution',est:50000000},
                    {code:'982',name:'Marketing (P&A) - International',dept:'Distribution',est:30000000},
                    {code:'984',name:'Trailer & AV Production',dept:'Distribution',est:1000000},
                    {code:'986',name:'EPK & Behind-the-Scenes',dept:'Distribution',est:500000},
                    {code:'988',name:'Awards Campaign',dept:'Distribution',est:3000000},
                    {code:'1000',name:'Contingency (10%)',dept:'Contingency',est:0},
                ]
            }
        };

        function applyBudgetScale(scaleId) {
            const scale = BUDGET_SCALES[scaleId];
            if (!scale) return;
            if (!Core.data.budget) Core.data.budget = {lines:[], pos:[]};
            const lines = scale.lines.map(l => ({...l, act:0, committed:0}));
            const subtotal = lines.filter(l => l.dept !== 'Contingency').reduce((s,l) => s + l.est, 0);
            const contLine = lines.find(l => l.dept === 'Contingency');
            if (contLine) contLine.est = Math.round(subtotal * 0.1);
            Core.data.budget.lines = lines;
            Core.data.budget.scale = scaleId;
            Core.save();
            Core.log('Budget scale applied: ' + scale.label);
            if (typeof Financials !== 'undefined') Financials.render();
            Core.renderDashboard();
        }

        function showBudgetScalePopup(onSelect) {
            const existing = document.getElementById('bsp-overlay');
            if (existing) existing.remove();
            const overlay = document.createElement('div');
            overlay.id = 'bsp-overlay';
            overlay.style.cssText = 'position:fixed;inset:0;background:rgba(3,5,8,0.93);backdrop-filter:blur(20px);display:flex;align-items:center;justify-content:center;z-index:9999999;opacity:0;transition:opacity 0.3s ease;';

            // Check if a scale is already set for this production
            const currentScale = Core && Core.data && Core.data.budget && Core.data.budget.scale;

            const scaleCards = Object.values(BUDGET_SCALES).map(s => {
                const isActive = s.id === currentScale;
                return `
                <div class="bsp-card${isActive ? ' sel' : ''}" data-scale="${s.id}" style="--bc:${s.color};" onclick="BSP.select('${s.id}')">
                    ${isActive ? `<div class="bsp-active-badge" style="position:absolute;top:12px;left:14px;background:${s.color};color:#000;font-size:8px;font-weight:800;text-transform:uppercase;letter-spacing:1px;padding:3px 7px;border-radius:4px;z-index:2;">âœ“ Active</div>` : ''}
                    <div class="bsp-line-ct">${s.lines.length} LINES</div>
                    <div class="bsp-icon" style="margin-top:${isActive ? '12px' : '0'}">${s.icon}</div>
                    <div class="bsp-label">${s.label}</div>
                    <div class="bsp-range" style="color:${s.color};">${s.range}</div>
                    <div class="bsp-desc">${s.description}</div>
                </div>`;
            }).join('');

            overlay.innerHTML = `
<style>
#bsp-modal{background:linear-gradient(145deg,#0c1118 0%,#080c12 100%);border:1px solid rgba(34,211,238,0.2);border-radius:22px;width:min(960px,96vw);max-height:92vh;overflow-y:auto;box-shadow:0 50px 100px rgba(0,0,0,0.85),0 0 80px rgba(34,211,238,0.06);animation:bspIn 0.4s cubic-bezier(0.34,1.4,0.64,1) both;}
@keyframes bspIn{from{transform:translateY(50px) scale(0.95);opacity:0}to{transform:none;opacity:1}}
.bsp-head{padding:34px 38px 22px;border-bottom:1px solid rgba(34,211,238,0.1);}
.bsp-eyebrow{font-family:var(--font-mono,'JetBrains Mono',monospace);font-size:10px;letter-spacing:3px;color:#22d3ee;text-transform:uppercase;opacity:.65;margin-bottom:10px;}
.bsp-title{font-family:var(--font-display,'Bebas Neue',sans-serif);font-size:40px;letter-spacing:3px;color:#fff;margin:0 0 6px;line-height:1;}
.bsp-subtitle{color:rgba(255,255,255,0.45);font-size:14px;line-height:1.5;}
.bsp-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;padding:26px 38px;}
.bsp-card{background:rgba(255,255,255,0.03);border:1.5px solid rgba(255,255,255,0.07);border-radius:14px;padding:22px;cursor:pointer;transition:all 0.22s cubic-bezier(0.4,0,0.2,1);position:relative;overflow:hidden;user-select:none;}
.bsp-card::after{content:'';position:absolute;inset:0;border-radius:13px;background:radial-gradient(circle at 30% 30%,var(--bc,#22d3ee),transparent 70%);opacity:0;transition:opacity 0.3s;}
.bsp-card:hover{transform:translateY(-5px);border-color:var(--bc,#22d3ee);box-shadow:0 20px 50px rgba(0,0,0,0.5),0 0 25px color-mix(in srgb,var(--bc,#22d3ee) 20%,transparent);}
.bsp-card:hover::after{opacity:0.08;}
.bsp-card.sel{border-color:var(--bc) !important;box-shadow:0 0 0 2px var(--bc),0 20px 50px rgba(0,0,0,0.6) !important;}
.bsp-card.sel::after{opacity:0.1 !important;}
.bsp-line-ct{position:absolute;top:13px;right:14px;font-family:var(--font-mono,monospace);font-size:9px;color:rgba(255,255,255,0.22);letter-spacing:1.5px;}
.bsp-icon{font-size:32px;margin-bottom:14px;display:block;position:relative;z-index:1;}
.bsp-label{font-family:var(--font-display,'Bebas Neue',sans-serif);font-size:20px;letter-spacing:1.5px;color:#fff;margin-bottom:5px;position:relative;z-index:1;}
.bsp-range{font-family:var(--font-mono,monospace);font-size:13px;font-weight:700;margin-bottom:9px;position:relative;z-index:1;}
.bsp-desc{font-size:12px;color:rgba(255,255,255,0.48);line-height:1.6;position:relative;z-index:1;}
.bsp-warn{background:rgba(251,191,36,0.07);border:1px solid rgba(251,191,36,0.2);border-radius:10px;padding:13px 18px;margin:0 38px 6px;display:flex;align-items:flex-start;gap:10px;font-size:12px;color:rgba(251,191,36,0.85);line-height:1.5;}
.bsp-foot{padding:20px 38px 30px;display:flex;justify-content:space-between;align-items:center;border-top:1px solid rgba(255,255,255,0.05);}
.bsp-skip{background:none;border:none;color:rgba(255,255,255,0.35);font-size:13px;cursor:pointer;padding:10px 16px;border-radius:8px;transition:all 0.2s;}
.bsp-skip:hover{color:rgba(255,255,255,0.75);background:rgba(255,255,255,0.05);}
.bsp-apply{padding:14px 36px;background:linear-gradient(135deg,#22d3ee,#0891b2);border:none;border-radius:11px;color:#000;font-size:13px;font-weight:800;text-transform:uppercase;letter-spacing:1.5px;cursor:pointer;transition:all 0.25s;opacity:0.35;pointer-events:none;white-space:nowrap;}
.bsp-apply.on{opacity:1;pointer-events:all;}
.bsp-apply.on:hover{box-shadow:0 8px 30px rgba(34,211,238,0.5);transform:translateY(-2px);}
</style>
<div id="bsp-modal">
  <div class="bsp-head">
    <div class="bsp-eyebrow">Production Configuration</div>
    <div class="bsp-title">SELECT BUDGET SCALE</div>
    <div class="bsp-subtitle">Choose the tier that best matches your production. All figures are starting estimates â€” fine-tune after importing.</div>
  </div>
  <div class="bsp-grid">${scaleCards}</div>
  <div class="bsp-warn">
    <span style="font-size:16px;flex-shrink:0;">âš¡</span>
    <span><strong>Budget lines will be auto-populated from your script analysis.</strong> Review and adjust all figures before sharing with stakeholders. Contingency is calculated at 10% of subtotal.</span>
  </div>
  <div class="bsp-foot">
    <button class="bsp-skip" onclick="BSP.cancel()">Skip for now</button>
    <button class="bsp-apply" id="bsp-apply-btn" onclick="BSP.apply()">Select a scale to continue</button>
  </div>
</div>`;
            document.body.appendChild(overlay);
            requestAnimationFrame(() => { overlay.style.opacity = '1'; });

            window.BSP = {
                _sel: currentScale || null, _cb: onSelect || null,
                select(id) {
                    this._sel = id;
                    document.querySelectorAll('.bsp-card').forEach(c => c.classList.toggle('sel', c.dataset.scale === id));
                    const btn = document.getElementById('bsp-apply-btn');
                    if (btn) { btn.classList.add('on'); btn.textContent = 'Apply: ' + BUDGET_SCALES[id].label + '  â†’'; }
                },
                apply() {
                    if (!this._sel) return;
                    applyBudgetScale(this._sel);
                    this.close();
                    if (this._cb) this._cb(this._sel);
                },
                cancel() { this.close(); if (this._cb) this._cb(null); },
                close() {
                    const el = document.getElementById('bsp-overlay');
                    if (el) { el.style.opacity = '0'; setTimeout(() => el.remove(), 320); }
                }
            };

            // If scale already selected, activate the apply button immediately
            if (currentScale && BUDGET_SCALES[currentScale]) {
                const btn = document.getElementById('bsp-apply-btn');
                if (btn) { btn.classList.add('on'); btn.textContent = 'Apply: ' + BUDGET_SCALES[currentScale].label + '  â†’'; }
            }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           FINANCIALS MODULE â€” Full Production Finance Command Center
           Supports $0 skits â†’ $1B+ studio blockbusters
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const Financials = {
            _tab: 'ledger',
            _dept: 'ALL',
            _status: 'ALL',
            _q: '',

            fmt(n) { return '$' + (parseFloat(n)||0).toLocaleString('en-US', {minimumFractionDigits:0, maximumFractionDigits:0}); },
            fmtFull(n) { return '$' + (parseFloat(n)||0).toLocaleString('en-US', {minimumFractionDigits:2, maximumFractionDigits:2}); },
            lines() { return Core.data?.budget?.lines || []; },
            pos() { return Core.data?.budget?.pos || []; },
            depts() { return ['ALL', ...[...new Set(this.lines().map(l => l.dept||'Other'))].sort()]; },
            totals() {
                const L = this.lines();
                const est = L.reduce((s,l) => s+(parseFloat(l.est)||0), 0);
                const act = L.reduce((s,l) => s+(parseFloat(l.act)||0), 0);
                return { est, act, variance: est-act, pct: est ? Math.round((act/est)*100) : 0, over: L.filter(l => (parseFloat(l.act)||0)>(parseFloat(l.est)||0)) };
            },

            render() {
                const el = document.getElementById('view-financials');
                if (!el) return;
                const {est, act, variance, pct, over} = this.totals();
                const P = this.pos();
                const scale = Core.data?.budget?.scale;
                const SI = scale ? BUDGET_SCALES[scale] : null;
                const barW = Math.min(100, pct);
                const barGrad = variance < 0 ? 'linear-gradient(90deg,#f43f5e,#be123c)' : pct >= 90 ? 'linear-gradient(90deg,#f59e0b,#d97706)' : 'linear-gradient(90deg,#22d3ee,#0891b2)';

                el.innerHTML = `
<style>
.fv-hero{background:linear-gradient(145deg,#0c1118,#080d12);border:1px solid rgba(34,211,238,0.14);border-radius:18px;padding:34px 38px;margin-bottom:22px;position:relative;overflow:hidden;}
.fv-hero::before{content:'';position:absolute;top:-80px;right:-80px;width:350px;height:350px;background:radial-gradient(circle,rgba(34,211,238,0.055) 0%,transparent 70%);pointer-events:none;}
.fv-ey{font-family:var(--font-mono,monospace);font-size:10px;letter-spacing:3px;color:#22d3ee;text-transform:uppercase;opacity:.65;margin-bottom:8px;}
.fv-title{font-family:var(--font-display,'Bebas Neue',sans-serif);font-size:52px;letter-spacing:3px;color:#fff;margin:0 0 4px;line-height:1;}
.fv-sub{color:rgba(255,255,255,0.4);font-size:14px;margin-bottom:26px;}
.fv-kpis{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:13px;margin-bottom:22px;}
.fv-kpi{background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.07);border-radius:12px;padding:14px 17px;}
.fv-kpi-l{font-family:var(--font-mono,monospace);font-size:9px;letter-spacing:2px;color:rgba(255,255,255,0.38);text-transform:uppercase;margin-bottom:7px;}
.fv-kpi-v{font-family:var(--font-mono,monospace);font-size:21px;font-weight:700;color:#fff;letter-spacing:-0.5px;}
.fv-kpi-v.c{color:#22d3ee}.fv-kpi-v.r{color:#f43f5e}.fv-kpi-v.g{color:#f59e0b}.fv-kpi-v.e{color:#34d399}
.fv-bar{height:6px;background:rgba(255,255,255,0.07);border-radius:99px;overflow:hidden;margin-bottom:5px;}
.fv-bar-fill{height:100%;border-radius:99px;transition:width 0.6s cubic-bezier(.4,0,.2,1);}
.fv-bar-lbl{display:flex;justify-content:space-between;font-family:var(--font-mono,monospace);font-size:10px;color:rgba(255,255,255,0.32);}
.fv-acts{display:flex;gap:10px;flex-wrap:wrap;margin-top:20px;align-items:center;}
.fv-scale-tag{display:inline-flex;align-items:center;gap:7px;padding:7px 15px;background:rgba(34,211,238,0.08);border:1px solid rgba(34,211,238,0.22);border-radius:9px;font-size:11px;color:#22d3ee;font-family:var(--font-mono,monospace);letter-spacing:0.5px;cursor:pointer;transition:all 0.2s;}
.fv-scale-tag:hover{background:rgba(34,211,238,0.15);}
.fv-tabs{display:flex;gap:3px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.07);border-radius:12px;padding:4px;margin-bottom:18px;flex-wrap:wrap;}
.fv-tab{flex:1;min-width:80px;padding:10px 14px;border-radius:9px;border:none;background:transparent;color:rgba(255,255,255,0.42);font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:1px;cursor:pointer;transition:all 0.2s;text-align:center;white-space:nowrap;}
.fv-tab:hover{color:rgba(255,255,255,0.78);background:rgba(255,255,255,0.05);}
.fv-tab.on{background:linear-gradient(135deg,rgba(34,211,238,0.18),rgba(34,211,238,0.09));color:#22d3ee;border:1px solid rgba(34,211,238,0.28);}
.fv-ctrl{display:flex;gap:9px;margin-bottom:14px;flex-wrap:wrap;align-items:center;}
.fv-inp{flex:1;min-width:150px;padding:10px 14px;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.09);border-radius:9px;color:#fff;font-size:13px;outline:none;transition:border-color 0.2s;}
.fv-inp:focus{border-color:rgba(34,211,238,0.4);}
.fv-inp::placeholder{color:rgba(255,255,255,0.22);}
.fv-sel{padding:10px 13px;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.09);border-radius:9px;color:#fff;font-size:12px;outline:none;cursor:pointer;min-width:120px;}
.fv-sel option{background:#0c1118;}
.fv-add{padding:10px 15px;background:rgba(34,211,238,0.1);border:1px solid rgba(34,211,238,0.28);border-radius:9px;color:#22d3ee;font-size:12px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;cursor:pointer;white-space:nowrap;transition:all 0.2s;}
.fv-add:hover{background:rgba(34,211,238,0.2);}
.fv-dept-row{background:rgba(34,211,238,0.04);border-top:1px solid rgba(34,211,238,0.1);border-bottom:1px solid rgba(34,211,238,0.05);}
.fv-dept-row td{padding:7px 12px!important;font-family:var(--font-mono,monospace);font-size:9px;letter-spacing:2.5px;text-transform:uppercase;color:rgba(34,211,238,0.65);font-weight:700;}
.fv-row{transition:background 0.15s;}
.fv-row:hover{background:rgba(255,255,255,0.025);}
.fv-row.ov{background:rgba(244,63,94,0.05);}
.fv-ec{cursor:pointer;border-radius:5px;padding:3px 7px;transition:background 0.15s;font-family:var(--font-mono,monospace)!important;}
.fv-ec:hover{background:rgba(34,211,238,0.13);}
.fv-ii{background:rgba(34,211,238,0.11);border:1px solid rgba(34,211,238,0.45);border-radius:5px;color:#22d3ee;font-family:var(--font-mono,monospace);font-size:13px;padding:2px 7px;width:110px;outline:none;}
.fv-ok{color:#34d399;font-size:11px;font-weight:700;}
.fv-warn{color:#f59e0b;font-size:11px;font-weight:700;}
.fv-over{color:#f43f5e;font-size:11px;font-weight:700;}
.fv-del{background:none;border:none;color:rgba(244,63,94,0.35);cursor:pointer;font-size:15px;padding:2px 6px;border-radius:4px;transition:all 0.2s;line-height:1;}
.fv-del:hover{color:#f43f5e;background:rgba(244,63,94,0.1);}
.fv-tbl{width:100%;border-collapse:collapse;}
.fv-tbl th{padding:10px 12px;text-align:left;font-family:var(--font-mono,monospace);font-size:9px;letter-spacing:1.5px;text-transform:uppercase;color:rgba(255,255,255,0.3);border-bottom:1px solid rgba(255,255,255,0.055);}
.fv-tbl td{padding:10px 12px;font-size:13px;color:rgba(255,255,255,0.78);border-bottom:1px solid rgba(255,255,255,0.035);}
.fv-tbl tr:last-child td{border-bottom:none;}
.fv-empty{text-align:center;padding:52px 20px;color:rgba(255,255,255,0.28);font-size:14px;}
.fv-po-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px;}
@media(max-width:700px){.fv-po-grid{grid-template-columns:1fr;}}
.fv-panel{background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.07);border-radius:12px;padding:22px;}
.fv-panel-title{font-family:var(--font-mono,monospace);font-size:10px;letter-spacing:2px;text-transform:uppercase;color:rgba(255,255,255,0.35);margin-bottom:14px;}
.fv-po-tag{display:inline-block;padding:3px 10px;background:rgba(251,191,36,0.13);border:1px solid rgba(251,191,36,0.28);border-radius:5px;font-family:var(--font-mono,monospace);font-size:11px;font-weight:700;color:#fbbf24;}
.fv-s-open{color:#22d3ee;font-size:11px;font-weight:700;}
.fv-s-paid{color:#34d399;font-size:11px;font-weight:700;}
.fv-s-void{color:#f43f5e;font-size:11px;font-weight:700;}
.fv-s-comm{color:#f59e0b;font-size:11px;font-weight:700;}
.fv-dept-card{background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.065);border-radius:12px;padding:18px;margin-bottom:11px;}
.fv-rpt-title{font-family:var(--font-mono,monospace);font-size:10px;letter-spacing:2px;text-transform:uppercase;color:rgba(34,211,238,0.65);margin-bottom:11px;padding-bottom:8px;border-bottom:1px solid rgba(34,211,238,0.09);}
.fv-over-item{display:flex;justify-content:space-between;padding:10px 13px;border-radius:8px;background:rgba(244,63,94,0.055);border:1px solid rgba(244,63,94,0.13);margin-bottom:7px;}
</style>

<div class="fv-hero">
  <div class="fv-ey">Production Finance Command</div>
  <div class="fv-title">FINANCIALS</div>
  <div class="fv-sub">Full budget ledger Â· Purchase orders Â· Department reporting Â· Scale-aware from skit to blockbuster</div>
  <div class="fv-kpis">
    <div class="fv-kpi"><div class="fv-kpi-l">Total Budget</div><div class="fv-kpi-v c">${this.fmt(est)}</div></div>
    <div class="fv-kpi"><div class="fv-kpi-l">Actual Spent</div><div class="fv-kpi-v ${act>est?'r':'g'}">${this.fmt(act)}</div></div>
    <div class="fv-kpi"><div class="fv-kpi-l">${variance>=0?'Remaining':'Over Budget'}</div><div class="fv-kpi-v ${variance<0?'r':'e'}">${this.fmt(Math.abs(variance))}</div></div>
    <div class="fv-kpi"><div class="fv-kpi-l">Budget Used</div><div class="fv-kpi-v ${pct>=100?'r':pct>=90?'g':'c'}">${pct}%</div></div>
    <div class="fv-kpi"><div class="fv-kpi-l">Purchase Orders</div><div class="fv-kpi-v">${P.length}</div></div>
    <div class="fv-kpi"><div class="fv-kpi-l">Over-Budget Lines</div><div class="fv-kpi-v ${over.length?'r':'e'}">${over.length}</div></div>
  </div>
  <div class="fv-bar"><div class="fv-bar-fill" style="width:${barW}%;background:${barGrad};"></div></div>
  <div class="fv-bar-lbl"><span>${this.fmt(act)} spent</span><span>${this.fmt(est)} budgeted</span></div>
  <div class="fv-acts">
    ${SI ? `<div class="fv-scale-tag" onclick="showBudgetScalePopup()">${SI.icon} ${SI.label} Â· ${SI.range} <span style="opacity:.45;margin-left:3px;">âŸ³</span></div>` : `<div class="fv-scale-tag" onclick="showBudgetScalePopup()">âš™ Set Budget Scale</div>`}
    <button class="btn btn-sm" style="margin-left:auto;" onclick="Financials.exportFullCSV()">ğŸ“Š CSV</button>
    <button class="btn btn-sm" onclick="Financials.exportPDF()">ğŸ“„ PDF</button>
  </div>
</div>

<div class="fv-tabs">
  <button class="fv-tab ${this._tab==='ledger'?'on':''}" onclick="Financials.setTab('ledger')">ğŸ“‹ Budget Ledger</button>
  <button class="fv-tab ${this._tab==='pos'?'on':''}" onclick="Financials.setTab('pos')">ğŸ“„ Purchase Orders</button>
  <button class="fv-tab ${this._tab==='depts'?'on':''}" onclick="Financials.setTab('depts')">ğŸ¢ By Department</button>
  <button class="fv-tab ${this._tab==='reports'?'on':''}" onclick="Financials.setTab('reports')">ğŸ“Š Reports</button>
</div>
<div id="fv-content"></div>`;
                this._renderTab();
            },

            setTab(t) {
                this._tab = t;
                document.querySelectorAll('.fv-tab').forEach(b => {
                    b.classList.toggle('on',
                        (t==='ledger'&&b.textContent.includes('Ledger'))||
                        (t==='pos'&&b.textContent.includes('Purchase'))||
                        (t==='depts'&&b.textContent.includes('Department'))||
                        (t==='reports'&&b.textContent.includes('Reports')));
                });
                this._renderTab();
            },

            _renderTab() {
                const el = document.getElementById('fv-content');
                if (!el) return;
                if (this._tab==='ledger')  this._tabLedger(el);
                else if (this._tab==='pos') this._tabPOs(el);
                else if (this._tab==='depts') this._tabDepts(el);
                else if (this._tab==='reports') this._tabReports(el);
            },

            /* â”€â”€ LEDGER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
            _tabLedger(el) {
                const D = this.depts();
                el.innerHTML = `
<div class="fv-ctrl">
  <input class="fv-inp" id="fv-search" placeholder="ğŸ”  Search linesâ€¦" value="${this._q}" oninput="Financials._q=this.value;Financials._renderLedger()">
  <select class="fv-sel" onchange="Financials._dept=this.value;Financials._renderLedger()">${D.map(d=>`<option value="${d}"${d===this._dept?' selected':''}>${d}</option>`).join('')}</select>
  <select class="fv-sel" onchange="Financials._status=this.value;Financials._renderLedger()">
    <option value="ALL">All</option><option value="OVER"${this._status==='OVER'?' selected':''}>Over Budget</option><option value="OK"${this._status==='OK'?' selected':''}>On Track</option>
  </select>
  <button class="fv-add" onclick="Financials.addLine()">ï¼‹ Add Line</button>
</div>
<div class="card"><div class="table-container">
<table class="fv-tbl">
  <thead><tr><th>Code</th><th>Dept</th><th>Line Item</th><th style="text-align:right">Estimated</th><th style="text-align:right">Committed</th><th style="text-align:right">Actual</th><th style="text-align:right">Variance</th><th>% Used</th><th>Status</th><th></th></tr></thead>
  <tbody id="fv-tbody"></tbody><tfoot id="fv-tfoot"></tfoot>
</table>
</div></div>`;
                this._renderLedger();
            },

            _renderLedger() {
                const tbody = document.getElementById('fv-tbody');
                const tfoot = document.getElementById('fv-tfoot');
                if (!tbody) return;
                let L = this.lines();
                const q = (this._q||'').toLowerCase();
                if (q) L = L.filter(l => (l.name||'').toLowerCase().includes(q)||(l.code||'').toLowerCase().includes(q)||(l.dept||'').toLowerCase().includes(q));
                if (this._dept!=='ALL') L = L.filter(l => (l.dept||'Other')===this._dept);
                if (this._status==='OVER') L = L.filter(l => (parseFloat(l.act)||0)>(parseFloat(l.est)||0));
                if (this._status==='OK') L = L.filter(l => (parseFloat(l.act)||0)<=(parseFloat(l.est)||0));

                const grp = {};
                L.forEach(l => { const d=l.dept||'Other'; if(!grp[d])grp[d]=[]; grp[d].push(l); });

                let html = '';
                Object.entries(grp).forEach(([dept,dl]) => {
                    const de=dl.reduce((s,l)=>s+(parseFloat(l.est)||0),0), da=dl.reduce((s,l)=>s+(parseFloat(l.act)||0),0);
                    html += `<tr class="fv-dept-row"><td colspan="10"><span>${dept}</span><span style="float:right;opacity:.55">${this.fmt(da)} / ${this.fmt(de)}</span></td></tr>`;
                    dl.forEach(l => {
                        const e=parseFloat(l.est)||0, a=parseFloat(l.act)||0, c=parseFloat(l.committed)||0, v=e-a;
                        const pu = e ? Math.round((a/e)*100) : (a>0?999:0);
                        const isO=a>e, isW=!isO&&e>0&&a>=e*.85;
                        const st = isO?'<span class="fv-over">âš  OVER</span>':isW?'<span class="fv-warn">â— WARN</span>':'<span class="fv-ok">âœ“ OK</span>';
                        html += `<tr class="fv-row${isO?' ov':''}">
<td style="font-family:var(--font-mono,monospace);font-size:11px;color:rgba(255,255,255,0.35);">${l.code}</td>
<td style="font-size:11px;color:rgba(255,255,255,0.38);">${l.dept||'â€”'}</td>
<td style="font-weight:600;cursor:pointer;" onclick="Financials.editName('${l.code}',this)">${l.name}</td>
<td style="text-align:right;" class="fv-ec" onclick="Financials.editCell('${l.code}','est',this)">${this.fmt(e)}</td>
<td style="text-align:right;font-family:var(--font-mono,monospace);color:rgba(251,191,36,0.75);">${this.fmt(c)}</td>
<td style="text-align:right;" class="fv-ec" onclick="Financials.editCell('${l.code}','act',this)">${this.fmt(a)}</td>
<td style="text-align:right;font-family:var(--font-mono,monospace);color:${v<0?'#f43f5e':v===0?'rgba(255,255,255,0.4)':'#34d399'};">${v<0?'âˆ’':'+'}${this.fmt(Math.abs(v))}</td>
<td><div style="display:flex;align-items:center;gap:6px;"><div style="flex:1;height:4px;background:rgba(255,255,255,0.06);border-radius:99px;min-width:34px;overflow:hidden;"><div style="height:100%;width:${Math.min(pu,100)}%;background:${isO?'#f43f5e':isW?'#f59e0b':'#22d3ee'};border-radius:99px;"></div></div><span style="font-family:var(--font-mono,monospace);font-size:10px;color:rgba(255,255,255,0.35);white-space:nowrap;">${Math.min(pu,999)}%</span></div></td>
<td>${st}</td>
<td><button class="fv-del" onclick="Financials.delLine('${l.code}')">Ã—</button></td>
</tr>`;
                    });
                });
                if (!html) html = `<tr><td colspan="10" class="fv-empty">No lines match your filter. <button class="fv-add" style="margin-left:10px;" onclick="Financials.addLine()">ï¼‹ Add</button></td></tr>`;
                tbody.innerHTML = html;

                const tE=L.reduce((s,l)=>s+(parseFloat(l.est)||0),0), tA=L.reduce((s,l)=>s+(parseFloat(l.act)||0),0), tC=L.reduce((s,l)=>s+(parseFloat(l.committed)||0),0), tV=tE-tA;
                tfoot.innerHTML = `<tr style="background:rgba(34,211,238,0.04);border-top:2px solid rgba(34,211,238,0.18);">
<td colspan="3" style="font-family:var(--font-mono,monospace);font-size:10px;font-weight:700;color:rgba(34,211,238,0.75);padding:12px;">TOTAL (${L.length} lines)</td>
<td style="text-align:right;font-family:var(--font-mono,monospace);font-weight:700;color:#22d3ee;">${this.fmt(tE)}</td>
<td style="text-align:right;font-family:var(--font-mono,monospace);color:rgba(251,191,36,0.75);">${this.fmt(tC)}</td>
<td style="text-align:right;font-family:var(--font-mono,monospace);font-weight:700;color:#f59e0b;">${this.fmt(tA)}</td>
<td style="text-align:right;font-family:var(--font-mono,monospace);font-weight:700;color:${tV<0?'#f43f5e':'#34d399'};">${tV<0?'âˆ’':'+'}${this.fmt(Math.abs(tV))}</td>
<td colspan="3"></td></tr>`;
            },

            editCell(code, field, cell) {
                const L = Core.data.budget?.lines;
                if (!L) return;
                const l = L.find(x => x.code===code);
                if (!l) return;
                const cur = parseFloat(l[field])||0;
                const inp = document.createElement('input');
                inp.type='number'; inp.className='fv-ii'; inp.value=cur; inp.style.textAlign='right';
                inp.onblur = () => { const v=parseFloat(inp.value); if(!isNaN(v)){l[field]=Math.max(0,v);Core.save();Core.renderDashboard();} this._renderLedger(); };
                inp.onkeydown = e => { if(e.key==='Enter')inp.blur(); if(e.key==='Escape'){inp.value=cur;inp.blur();} };
                cell.innerHTML=''; cell.appendChild(inp); inp.focus(); inp.select();
            },

            editName(code, cell) {
                const L = Core.data.budget?.lines;
                if (!L) return;
                const l = L.find(x => x.code===code);
                if (!l) return;
                const cur = l.name;
                const inp = document.createElement('input');
                inp.type='text'; inp.className='fv-ii'; inp.value=cur; inp.style.width='190px';
                inp.onblur = () => { if(inp.value.trim()){l.name=inp.value.trim();Core.save();} this._renderLedger(); };
                inp.onkeydown = e => { if(e.key==='Enter')inp.blur(); if(e.key==='Escape'){inp.value=cur;inp.blur();} };
                cell.innerHTML=''; cell.appendChild(inp); inp.focus();
            },

            addLine() {
                if (!Core.data.budget) Core.data.budget={lines:[],pos:[]};
                if (!Core.data.budget.lines) Core.data.budget.lines=[];
                const codes = Core.data.budget.lines.map(l=>parseInt(l.code)||0);
                const max = codes.length ? Math.max(...codes) : 1000;
                const code = (Math.ceil((max+1)/10)*10).toString();
                const dept = this._dept!=='ALL' ? this._dept : 'Other';
                Core.data.budget.lines.push({code, name:'New Budget Line', dept, est:0, act:0, committed:0});
                Core.save(); this._renderLedger();
            },

            delLine(code) {
                if (!confirm('Remove budget line "'+code+'"?')) return;
                Core.data.budget.lines = (Core.data.budget.lines||[]).filter(l => l.code!==code);
                Core.save(); this.render(); this._tab='ledger'; this._renderTab();
            },

            /* â”€â”€ PURCHASE ORDERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
            _tabPOs(el) {
                const L = this.lines();
                const P = this.pos();
                const tot=P.reduce((s,p)=>s+(parseFloat(p.amount)||0),0);
                const paid=P.filter(p=>p.status==='Paid').reduce((s,p)=>s+(parseFloat(p.amount)||0),0);
                const open=P.filter(p=>p.status==='Open'||p.status==='Committed').reduce((s,p)=>s+(parseFloat(p.amount)||0),0);

                el.innerHTML = `
<div class="fv-po-grid">
  <div class="fv-panel">
    <div class="fv-panel-title">Issue New Purchase Order</div>
    <div class="form-group" style="margin-bottom:10px;"><label class="form-label">Budget Line</label><select class="form-select" id="po-code">${L.map(l=>`<option value="${l.code}">${l.code} â€” ${l.name}</option>`).join('')}</select></div>
    <div class="form-group" style="margin-bottom:10px;"><label class="form-label">Vendor / Payee</label><input type="text" class="form-input" id="po-vendor" placeholder="Vendor name"></div>
    <div class="form-group" style="margin-bottom:10px;"><label class="form-label">Description</label><input type="text" class="form-input" id="po-desc" placeholder="What is this for?"></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:10px;">
      <div class="form-group"><label class="form-label">Amount ($)</label><input type="number" class="form-input" id="po-amount" placeholder="0.00" min="0"></div>
      <div class="form-group"><label class="form-label">Type</label><select class="form-select" id="po-type"><option value="PO">Purchase Order</option><option value="INV">Invoice</option><option value="CHK">Check</option><option value="ACH">ACH / Wire</option><option value="CC">Credit Card</option><option value="PETTY">Petty Cash</option></select></div>
    </div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px;">
      <div class="form-group"><label class="form-label">Date</label><input type="date" class="form-input" id="po-date" value="${new Date().toISOString().split('T')[0]}"></div>
      <div class="form-group"><label class="form-label">Status</label><select class="form-select" id="po-status"><option value="Open">Open</option><option value="Committed">Committed</option><option value="Paid">Paid</option><option value="Void">Void</option></select></div>
    </div>
    <button class="btn btn-primary" style="width:100%;" onclick="Financials.issuePO()">Issue Purchase Order</button>
  </div>
  <div class="fv-panel">
    <div class="fv-panel-title">PO Summary</div>
    ${!P.length ? '<div class="fv-empty" style="padding:24px 0;">No purchase orders yet.</div>' :
    `<div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">
      ${[['Total POs',P.length,''],['Total Value',this.fmt(tot),'c'],['Paid',this.fmt(paid),'e'],['Open / Committed',this.fmt(open),'g']].map(([lb,v,cl])=>`
        <div style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.06);border-radius:9px;padding:13px;">
          <div style="font-size:9px;letter-spacing:1.5px;text-transform:uppercase;color:rgba(255,255,255,0.32);margin-bottom:7px;">${lb}</div>
          <div style="font-family:var(--font-mono,monospace);font-size:19px;font-weight:700;color:${cl==='c'?'#22d3ee':cl==='e'?'#34d399':cl==='g'?'#f59e0b':'#fff'};">${v}</div>
        </div>`).join('')}
    </div>`}
  </div>
</div>
<div class="card">
  <div class="card-header"><div class="card-title">Purchase Order Ledger</div>
    <div style="display:flex;gap:8px;">
      <input class="fv-inp" style="width:180px;" placeholder="Search POsâ€¦" oninput="Financials._renderPOTable(this.value.toLowerCase())">
      <button class="btn btn-sm" onclick="Financials.exportPOCSV()">Export</button>
    </div>
  </div>
  <div class="table-container">
    <table class="fv-tbl">
      <thead><tr><th>PO #</th><th>Date</th><th>Type</th><th>Vendor</th><th>Budget Line</th><th>Description</th><th style="text-align:right">Amount</th><th>Status</th><th></th></tr></thead>
      <tbody id="fv-po-tbody"></tbody>
    </table>
  </div>
</div>`;
                this._renderPOTable('');
            },

            _renderPOTable(q) {
                const tbody = document.getElementById('fv-po-tbody');
                if (!tbody) return;
                let P = this.pos();
                if (q) P = P.filter(p => (p.vendor||'').toLowerCase().includes(q)||(p.desc||'').toLowerCase().includes(q)||(p.poNum||'').toLowerCase().includes(q));
                if (!P.length) { tbody.innerHTML='<tr><td colspan="9" class="fv-empty">No purchase orders found.</td></tr>'; return; }
                const L = this.lines();
                tbody.innerHTML = P.map(p => {
                    const ln = L.find(l=>l.code===p.code);
                    const sc = p.status==='Paid'?'fv-s-paid':p.status==='Void'?'fv-s-void':p.status==='Committed'?'fv-s-comm':'fv-s-open';
                    return `<tr>
<td><span class="fv-po-tag">${p.poNum}</span></td>
<td style="font-family:var(--font-mono,monospace);font-size:12px;">${p.date||'â€”'}</td>
<td style="font-size:11px;color:rgba(255,255,255,0.38);">${p.type||'PO'}</td>
<td style="font-weight:600;">${p.vendor||'â€”'}</td>
<td style="font-size:11px;color:rgba(255,255,255,0.38);">${p.code}${ln?' â€” '+ln.name:''}</td>
<td style="color:rgba(255,255,255,0.55);">${p.desc||'â€”'}</td>
<td style="text-align:right;font-family:var(--font-mono,monospace);font-weight:700;">${this.fmtFull(p.amount)}</td>
<td><span class="${sc}">${p.status||'Open'}</span></td>
<td style="display:flex;gap:4px;"><button class="fv-del" title="Cycle Status" onclick="Financials.cyclePO(${p.id})">âŸ³</button><button class="fv-del" title="Delete" onclick="Financials.delPO(${p.id})">Ã—</button></td>
</tr>`;
                }).join('');
            },

            issuePO() {
                const code = document.getElementById('po-code')?.value;
                const vendor = (document.getElementById('po-vendor')?.value||'').trim();
                const desc = (document.getElementById('po-desc')?.value||'').trim();
                const amount = parseFloat(document.getElementById('po-amount')?.value);
                const type = document.getElementById('po-type')?.value||'PO';
                const date = document.getElementById('po-date')?.value||new Date().toISOString().split('T')[0];
                const status = document.getElementById('po-status')?.value||'Open';
                if (!vendor) { alert('Vendor name is required.'); return; }
                if (!amount||amount<=0) { alert('A valid amount is required.'); return; }
                if (!Core.data.budget) Core.data.budget={lines:[],pos:[]};
                if (!Core.data.budget.pos) Core.data.budget.pos=[];
                const poNum = type+'-'+(Core.data.budget.pos.length+1).toString().padStart(4,'0');
                Core.data.budget.pos.unshift({id:Date.now(),poNum,code,vendor,desc,amount,date,type,status});
                const ln = (Core.data.budget.lines||[]).find(l=>l.code===code);
                if (ln) {
                    if (status==='Paid') ln.act=(parseFloat(ln.act)||0)+amount;
                    else if (status!=='Void') ln.committed=(parseFloat(ln.committed)||0)+amount;
                }
                Core.save(); Core.log(type+' issued: '+poNum+' â€” '+this.fmtFull(amount)+' to '+vendor);
                this.render(); this._tab='pos'; this._renderTab();
            },

            cyclePO(id) {
                const p = (Core.data.budget?.pos||[]).find(x=>x.id===id);
                if (!p) return;
                const cyc = {'Open':'Committed','Committed':'Paid','Paid':'Void','Void':'Open'};
                const old=p.status||'Open', nw=cyc[old]||'Open';
                const ln = (Core.data.budget?.lines||[]).find(l=>l.code===p.code);
                if (ln) {
                    if (old==='Paid') ln.act=Math.max(0,(parseFloat(ln.act)||0)-(p.amount||0));
                    else if (old!=='Void') ln.committed=Math.max(0,(parseFloat(ln.committed)||0)-(p.amount||0));
                    if (nw==='Paid') ln.act=(parseFloat(ln.act)||0)+(p.amount||0);
                    else if (nw!=='Void') ln.committed=(parseFloat(ln.committed)||0)+(p.amount||0);
                }
                p.status=nw; Core.save(); this._renderTab(); Core.renderDashboard();
            },

            delPO(id) {
                const p = (Core.data.budget?.pos||[]).find(x=>x.id===id);
                if (!p||!confirm('Delete '+p.poNum+'? Actuals will be reversed.')) return;
                const ln = (Core.data.budget?.lines||[]).find(l=>l.code===p.code);
                if (ln) {
                    if (p.status==='Paid') ln.act=Math.max(0,(parseFloat(ln.act)||0)-(p.amount||0));
                    else if (p.status!=='Void') ln.committed=Math.max(0,(parseFloat(ln.committed)||0)-(p.amount||0));
                }
                Core.data.budget.pos=Core.data.budget.pos.filter(x=>x.id!==id);
                Core.save(); Core.log('PO deleted: '+p.poNum); this._renderTab(); Core.renderDashboard();
            },

            /* â”€â”€ DEPARTMENT BREAKDOWN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
            _tabDepts(el) {
                const L = this.lines();
                const depts = [...new Set(L.map(l=>l.dept||'Other'))].sort();
                const totEst = L.reduce((s,l)=>s+(parseFloat(l.est)||0),0);
                el.innerHTML = '<div id="fv-depts"></div>';
                const cnt = el.querySelector('#fv-depts');
                depts.forEach(dept => {
                    const dl = L.filter(l=>(l.dept||'Other')===dept);
                    const de=dl.reduce((s,l)=>s+(parseFloat(l.est)||0),0);
                    const da=dl.reduce((s,l)=>s+(parseFloat(l.act)||0),0);
                    const dv=de-da, pct=totEst?Math.round((de/totEst)*100):0;
                    const ps=de?Math.round((da/de)*100):0, isO=da>de;
                    const bc=isO?'#f43f5e':ps>=85?'#f59e0b':'#22d3ee';
                    const card=document.createElement('div');
                    card.className='fv-dept-card';
                    card.innerHTML=`
<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;">
  <div><div style="font-weight:700;font-size:15px;color:#fff;">${dept}</div><div style="font-size:11px;color:rgba(255,255,255,0.32);margin-top:2px;">${dl.length} line items Â· ${pct}% of total budget</div></div>
  <div style="text-align:right;"><div style="font-family:var(--font-mono,monospace);font-weight:700;color:${isO?'#f43f5e':'#22d3ee'};font-size:16px;">${this.fmt(de)}</div><div style="font-size:11px;color:rgba(255,255,255,0.35);">est Â· ${this.fmt(da)} spent</div></div>
</div>
<div style="height:4px;background:rgba(255,255,255,0.06);border-radius:99px;overflow:hidden;margin-bottom:5px;"><div style="height:100%;width:${Math.min(ps,100)}%;background:${bc};border-radius:99px;"></div></div>
<div style="display:flex;justify-content:space-between;font-size:11px;color:rgba(255,255,255,0.32);margin-bottom:10px;"><span>${ps}% spent</span><span>Variance: <span style="color:${dv<0?'#f43f5e':'#34d399'}">${dv<0?'âˆ’':'+'}${this.fmt(Math.abs(dv))}</span></span></div>
<details><summary style="font-size:11px;color:rgba(34,211,238,0.6);letter-spacing:1px;text-transform:uppercase;cursor:pointer;list-style:none;">â–¸ Show ${dl.length} lines</summary>
<table class="fv-tbl" style="margin-top:10px;"><thead><tr><th>Code</th><th>Line</th><th style="text-align:right">Est</th><th style="text-align:right">Actual</th><th style="text-align:right">Var</th></tr></thead>
<tbody>${dl.map(l=>{const e=parseFloat(l.est)||0,a=parseFloat(l.act)||0,v=e-a;return`<tr><td style="font-size:11px;color:rgba(255,255,255,0.28);font-family:var(--font-mono,monospace);">${l.code}</td><td>${l.name}</td><td style="text-align:right;font-family:var(--font-mono,monospace);">${this.fmt(e)}</td><td style="text-align:right;font-family:var(--font-mono,monospace);color:#f59e0b;">${this.fmt(a)}</td><td style="text-align:right;font-family:var(--font-mono,monospace);color:${v<0?'#f43f5e':'#34d399'}">${v<0?'âˆ’':'+'}${this.fmt(Math.abs(v))}</td></tr>`;}).join('')}</tbody></table>
</details>`;
                    cnt.appendChild(card);
                });
            },

            /* â”€â”€ REPORTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
            _tabReports(el) {
                const L=this.lines(), {est:tE,act:tA,variance:tV,over}=this.totals();
                const depts=[...new Set(L.map(l=>l.dept||'Other'))].sort();
                const topBudget=[...L].sort((a,b)=>(parseFloat(b.est)||0)-(parseFloat(a.est)||0)).slice(0,8);
                el.innerHTML=`
<div style="display:grid;grid-template-columns:1fr 1fr;gap:18px;margin-bottom:20px;">
  <div class="fv-dept-card">
    <div class="fv-rpt-title">âš  Over-Budget Lines (${over.length})</div>
    ${over.length ? over.slice(0,10).map(l=>{const x=(parseFloat(l.act)||0)-(parseFloat(l.est)||0);return`<div class="fv-over-item"><div><div style="font-weight:600;font-size:13px;">${l.name}</div><div style="font-size:11px;color:rgba(255,255,255,0.38);">${l.dept||'â€”'}</div></div><div style="text-align:right;"><div style="font-family:var(--font-mono,monospace);color:#f43f5e;font-weight:700;">+${this.fmt(x)}</div><div style="font-size:10px;color:rgba(255,255,255,0.28);">over est</div></div></div>`;}).join('') : '<div class="fv-empty" style="padding:28px 0;">âœ“ All lines on budget</div>'}
  </div>
  <div class="fv-dept-card">
    <div class="fv-rpt-title">ğŸ’° Largest Budget Items</div>
    ${topBudget.map(l=>{const p=tE?Math.round(((parseFloat(l.est)||0)/tE)*100):0;return`<div style="display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid rgba(255,255,255,0.035);"><div style="flex:1;min-width:0;"><div style="font-size:13px;font-weight:600;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">${l.name}</div><div style="font-size:11px;color:rgba(255,255,255,0.32);">${l.dept} Â· ${p}% of budget</div></div><div style="font-family:var(--font-mono,monospace);font-weight:700;color:#22d3ee;margin-left:12px;white-space:nowrap;">${this.fmt(l.est)}</div></div>`;}).join('')}
  </div>
</div>
<div class="fv-dept-card">
  <div class="fv-rpt-title">ğŸ“Š Budget Summary by Department</div>
  <table class="fv-tbl">
    <thead><tr><th>Department</th><th>Lines</th><th style="text-align:right">Estimated</th><th style="text-align:right">Actual</th><th style="text-align:right">Variance</th><th>% of Budget</th><th>Status</th></tr></thead>
    <tbody>
      ${depts.map(d=>{const dl=L.filter(l=>(l.dept||'Other')===d);const e=dl.reduce((s,l)=>s+(parseFloat(l.est)||0),0),a=dl.reduce((s,l)=>s+(parseFloat(l.act)||0),0),v=e-a,p=tE?Math.round((e/tE)*100):0,ov=a>e;return`<tr><td style="font-weight:600;">${d}</td><td style="color:rgba(255,255,255,0.38);">${dl.length}</td><td style="text-align:right;font-family:var(--font-mono,monospace);">${this.fmt(e)}</td><td style="text-align:right;font-family:var(--font-mono,monospace);color:#f59e0b;">${this.fmt(a)}</td><td style="text-align:right;font-family:var(--font-mono,monospace);color:${v<0?'#f43f5e':'#34d399'};">${v<0?'âˆ’':'+'}${this.fmt(Math.abs(v))}</td><td><div style="display:flex;align-items:center;gap:6px;"><div style="width:60px;height:4px;background:rgba(255,255,255,0.06);border-radius:99px;overflow:hidden;"><div style="width:${p}%;height:100%;background:#22d3ee;border-radius:99px;"></div></div><span style="font-size:11px;color:rgba(255,255,255,0.35);">${p}%</span></div></td><td><span style="font-size:11px;font-weight:700;color:${ov?'#f43f5e':'#34d399'};">${ov?'âš  OVER':'âœ“ OK'}</span></td></tr>`;}).join('')}
    </tbody>
    <tfoot><tr style="background:rgba(34,211,238,0.04);border-top:2px solid rgba(34,211,238,0.17);"><td style="font-weight:700;">TOTAL</td><td style="color:rgba(255,255,255,0.38);">${L.length}</td><td style="text-align:right;font-family:var(--font-mono,monospace);font-weight:700;color:#22d3ee;">${this.fmt(tE)}</td><td style="text-align:right;font-family:var(--font-mono,monospace);font-weight:700;color:#f59e0b;">${this.fmt(tA)}</td><td style="text-align:right;font-family:var(--font-mono,monospace);font-weight:700;color:${tV<0?'#f43f5e':'#34d399'};">${tV<0?'âˆ’':'+'}${this.fmt(Math.abs(tV))}</td><td>100%</td><td></td></tr></tfoot>
  </table>
</div>`;
            },

            /* â”€â”€ EXPORTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
            exportFullCSV() {
                const L=this.lines();
                let csv='Code,Department,Line Item,Estimated,Committed,Actual,Variance,% Used\n';
                L.forEach(l=>{const e=parseFloat(l.est)||0,a=parseFloat(l.act)||0,c=parseFloat(l.committed)||0,p=e?Math.round((a/e)*100):0;csv+=`"${l.code}","${l.dept||''}","${l.name}",${e},${c},${a},${e-a},${p}%\n`;});
                const u=URL.createObjectURL(new Blob([csv],{type:'text/csv'}));
                const a=document.createElement('a');a.href=u;a.download=(Core.currentProduction||'production')+'_budget.csv';a.click();URL.revokeObjectURL(u);
                Core.log('Budget exported to CSV');
            },

            exportPOCSV() {
                const P=this.pos();
                let csv='PO Number,Date,Type,Vendor,Budget Code,Description,Amount,Status\n';
                P.forEach(p=>{csv+=`"${p.poNum}","${p.date}","${p.type||'PO'}","${p.vendor}","${p.code}","${p.desc||''}",${p.amount},"${p.status||'Open'}"\n`;});
                const u=URL.createObjectURL(new Blob([csv],{type:'text/csv'}));
                const a=document.createElement('a');a.href=u;a.download=(Core.currentProduction||'production')+'_purchase_orders.csv';a.click();URL.revokeObjectURL(u);
            },

            exportPDF() {
                if (!window.jspdf) { const s=document.createElement('script');s.src='https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js';s.onload=()=>this._doPDF();document.head.appendChild(s); }
                else this._doPDF();
            },
            _doPDF() {
                try {
                    const {jsPDF}=window.jspdf;
                    const doc=new jsPDF({orientation:'landscape',unit:'pt',format:'a4'});
                    const L=this.lines(),{est:tE,act:tA,variance:tV}=this.totals();
                    doc.setFontSize(20);doc.setTextColor(34,211,238);doc.text('PRODUCTION BUDGET REPORT',40,40);
                    doc.setTextColor(150,150,150);doc.setFontSize(10);doc.text(`${Core.currentProduction||'Production'} Â· Generated ${new Date().toLocaleDateString()}`,40,58);
                    doc.setFontSize(11);doc.setTextColor(255,255,255);doc.text(`Budget: $${tE.toLocaleString()}  |  Spent: $${tA.toLocaleString()}  |  Variance: ${tV>=0?'+':''}$${tV.toLocaleString()}`,40,80);
                    let y=100;doc.setFontSize(9);doc.setTextColor(100,100,100);
                    ['Code','Department','Line Item','Estimated','Actual','Variance','Status'].forEach((c,i)=>doc.text(c,[40,80,160,360,440,520,590][i],y));
                    y+=14;
                    L.forEach(l=>{
                        if(y>520){doc.addPage();y=40;}
                        const e=parseFloat(l.est)||0,a=parseFloat(l.act)||0,v=e-a;
                        doc.setTextColor(a>e?244:200,a>e?63:200,a>e?94:200);
                        doc.text(l.code||'',[40,80,160,360,440,520,590][0],y);
                        doc.text((l.dept||'').slice(0,12),[40,80,160,360,440,520,590][1],y);
                        doc.text((l.name||'').slice(0,24),[40,80,160,360,440,520,590][2],y);
                        doc.text('$'+e.toLocaleString(),[40,80,160,360,440,520,590][3],y);
                        doc.text('$'+a.toLocaleString(),[40,80,160,360,440,520,590][4],y);
                        doc.text((v<0?'-':'+')+' $'+Math.abs(v).toLocaleString(),[40,80,160,360,440,520,590][5],y);
                        doc.text(a>e?'OVER':'OK',[40,80,160,360,440,520,590][6],y);y+=13;
                    });
                    doc.save((Core.currentProduction||'production')+'_budget_report.pdf');
                    Core.log('Budget PDF exported');
                } catch(e){alert('PDF export failed: '+e.message);}
            },

            /* Backward-compat stubs */
            exportCSV() { this.exportPOCSV(); },
            renderBudgetLines() { if(this._tab==='ledger') this._renderLedger(); },
            renderPOs() { if(this._tab==='pos') this._renderTab(); },
            issuePO: function() { this.issuePO(); }, // already defined above
        };


        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           NEW FEATURE 2: SHOT LIST MANAGER
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const ShotList = {
            init() {
                this.render();
            },
            
            getData() {
                return Core.data.shotlist || [];
            },
            
            render() {
                console.log('ğŸ¬ ShotList.render() called');
                console.log('ğŸ“Š Core.data:', Core.data);
                console.log('ğŸ“Š Core.data.shotlist:', Core.data.shotlist);
                
                const container = document.getElementById('view-shotlist');
                if (!container) {
                    console.log('âš ï¸ Shot list container not found!');
                    return;
                }
                
                const shots = this.getData();
                console.log('ğŸ“Š Shots from getData():', shots);
                console.log('ğŸ“Š Number of shots:', shots.length);
                
                const completed = shots.filter(s => s.completed || s.status === 'Completed').length;
                const inReview = shots.filter(s => s.status === 'Review').length;
                const inProgress = shots.filter(s => s.status === 'In Progress').length;
                const planned = shots.filter(s => s.status === 'Planned').length;
                
                container.innerHTML = `
                    <style>
                        .shotlist-header {
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            margin-bottom: 24px;
                        }
                        .shotlist-actions {
                            display: flex;
                            gap: 12px;
                        }
                        .shotlist-stats {
                            display: grid;
                            grid-template-columns: repeat(4, 1fr);
                            gap: 16px;
                            margin-bottom: 32px;
                        }
                        .shotlist-stat-card {
                            background: var(--surface-2);
                            border: 1px solid var(--border-default);
                            border-radius: 8px;
                            padding: 20px;
                        }
                        .shotlist-stat-label {
                            font-size: 10px;
                            text-transform: uppercase;
                            letter-spacing: 1.5px;
                            color: var(--text-50);
                            font-family: var(--font-mono);
                            margin-bottom: 8px;
                            display: flex;
                            align-items: center;
                            gap: 6px;
                        }
                        .shotlist-stat-value {
                            font-size: 36px;
                            font-weight: 700;
                            font-family: var(--font-display);
                            letter-spacing: 1px;
                            line-height: 1;
                        }
                        .shotlist-grid {
                            display: grid;
                            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
                            gap: 20px;
                        }
                        .shot-card {
                            background: linear-gradient(145deg, #1a1a1a 0%, #0f0f0f 100%);
                            border: 2px solid rgba(34, 211, 238, 0.2);
                            border-radius: 12px;
                            padding: 24px;
                            transition: all 0.3s ease;
                            position: relative;
                            overflow: hidden;
                        }
                        .shot-card::before {
                            content: '';
                            position: absolute;
                            top: 0;
                            left: 0;
                            right: 0;
                            height: 4px;
                            background: linear-gradient(90deg, var(--neon-cyan), var(--neon-violet));
                            opacity: 0;
                            transition: opacity 0.3s;
                        }
                        .shot-card:hover {
                            border-color: var(--neon-cyan);
                            box-shadow: 0 8px 32px rgba(34, 211, 238, 0.2);
                            transform: translateY(-4px);
                        }
                        .shot-card:hover::before {
                            opacity: 1;
                        }
                        .shot-card-header {
                            display: flex;
                            justify-content: space-between;
                            align-items: flex-start;
                            margin-bottom: 16px;
                        }
                        .shot-number {
                            font-family: var(--font-display);
                            font-size: 28px;
                            letter-spacing: 2px;
                            color: var(--neon-cyan);
                            font-weight: 700;
                        }
                        .shot-scene-label {
                            font-size: 11px;
                            text-transform: uppercase;
                            letter-spacing: 1px;
                            color: var(--text-50);
                            font-family: var(--font-mono);
                            margin-top: 4px;
                        }
                        .shot-badge {
                            padding: 6px 14px;
                            border-radius: 6px;
                            font-size: 10px;
                            font-weight: 700;
                            text-transform: uppercase;
                            letter-spacing: 1.2px;
                            font-family: var(--font-mono);
                        }
                        .shot-badge.completed {
                            background: rgba(16, 185, 129, 0.2);
                            color: var(--neon-emerald);
                            border: 1px solid rgba(16, 185, 129, 0.4);
                        }
                        .shot-badge.review {
                            background: rgba(251, 191, 36, 0.2);
                            color: var(--neon-gold);
                            border: 1px solid rgba(251, 191, 36, 0.4);
                        }
                        .shot-badge.in-progress {
                            background: rgba(59, 130, 246, 0.2);
                            color: #3b82f6;
                            border: 1px solid rgba(59, 130, 246, 0.4);
                        }
                        .shot-badge.planned {
                            background: rgba(167, 139, 250, 0.2);
                            color: var(--neon-violet);
                            border: 1px solid rgba(167, 139, 250, 0.4);
                        }
                        .shot-title {
                            font-size: 15px;
                            font-weight: 600;
                            color: var(--text-90);
                            margin-bottom: 16px;
                            line-height: 1.4;
                        }
                        .shot-meta {
                            display: grid;
                            grid-template-columns: repeat(2, 1fr);
                            gap: 12px;
                            margin-bottom: 16px;
                        }
                        .shot-meta-item {
                            display: flex;
                            flex-direction: column;
                            gap: 4px;
                        }
                        .shot-meta-label {
                            font-size: 9px;
                            text-transform: uppercase;
                            letter-spacing: 1px;
                            color: var(--text-50);
                            font-family: var(--font-mono);
                        }
                        .shot-meta-value {
                            font-size: 13px;
                            color: var(--text-90);
                            font-family: var(--font-mono);
                            font-weight: 500;
                        }
                        .shot-details {
                            background: rgba(34, 211, 238, 0.05);
                            border: 1px solid rgba(34, 211, 238, 0.15);
                            border-radius: 6px;
                            padding: 12px;
                            margin-bottom: 12px;
                        }
                        .shot-details-row {
                            display: flex;
                            justify-content: space-between;
                            padding: 6px 0;
                            border-bottom: 1px solid rgba(34, 211, 238, 0.1);
                            font-size: 12px;
                        }
                        .shot-details-row:last-child {
                            border-bottom: none;
                        }
                        .shot-details-label {
                            color: var(--text-60);
                            font-family: var(--font-mono);
                        }
                        .shot-details-value {
                            color: var(--text-90);
                            font-weight: 600;
                        }
                        .shot-notes {
                            font-size: 12px;
                            color: var(--text-70);
                            font-style: italic;
                            margin-top: 12px;
                            padding: 12px;
                            background: var(--surface-3);
                            border-radius: 6px;
                            border-left: 3px solid var(--neon-cyan);
                        }
                        .shot-actions {
                            display: flex;
                            gap: 8px;
                            margin-top: 16px;
                        }
                        .shot-btn {
                            flex: 1;
                            padding: 10px 16px;
                            background: var(--surface-3);
                            border: 1px solid var(--border-default);
                            color: var(--text-90);
                            border-radius: 6px;
                            font-size: 11px;
                            font-weight: 700;
                            text-transform: uppercase;
                            letter-spacing: 0.5px;
                            cursor: pointer;
                            transition: all 0.2s ease;
                        }
                        .shot-btn:hover {
                            background: rgba(34, 211, 238, 0.15);
                            border-color: var(--neon-cyan);
                            color: var(--neon-cyan);
                        }
                        .shot-btn.delete:hover {
                            background: rgba(244, 63, 94, 0.15);
                            border-color: var(--neon-rose);
                            color: var(--neon-rose);
                        }
                    </style>
                    
                    <!-- Shot List Banner -->
                    <div style="width:100%;height:170px;border-radius:14px;margin-bottom:26px;position:relative;overflow:hidden;">
                        <svg viewBox="0 0 900 170" preserveAspectRatio="xMidYMid slice" style="position:absolute;inset:0;width:100%;height:100%;">
                            <defs>
                                <linearGradient id="slbg" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#0a1a10"/><stop offset="100%" stop-color="#060e08"/></linearGradient>
                                <radialGradient id="slg1" cx="70%" cy="30%" r="55%"><stop offset="0%" stop-color="rgba(34,197,94,0.25)"/><stop offset="100%" stop-color="rgba(34,197,94,0)"/></radialGradient>
                                <radialGradient id="slg2" cx="20%" cy="70%" r="45%"><stop offset="0%" stop-color="rgba(251,191,36,0.15)"/><stop offset="100%" stop-color="rgba(251,191,36,0)"/></radialGradient>
                            </defs>
                            <rect width="900" height="170" fill="url(#slbg)"/>
                            <rect width="900" height="170" fill="url(#slg1)"/>
                            <rect width="900" height="170" fill="url(#slg2)"/>
                            <g stroke="rgba(34,197,94,0.06)" stroke-width="1">
                                <line x1="0" y1="34" x2="900" y2="34"/><line x1="0" y1="68" x2="900" y2="68"/>
                                <line x1="0" y1="102" x2="900" y2="102"/><line x1="0" y1="136" x2="900" y2="136"/>
                                <line x1="180" y1="0" x2="180" y2="170"/><line x1="360" y1="0" x2="360" y2="170"/>
                                <line x1="540" y1="0" x2="540" y2="170"/><line x1="720" y1="0" x2="720" y2="170"/>
                            </g>
                            <rect x="680" y="55" width="160" height="100" rx="10" fill="none" stroke="rgba(34,197,94,0.25)" stroke-width="2"/>
                            <rect x="700" y="70" width="120" height="70" rx="6" fill="rgba(34,197,94,0.06)" stroke="rgba(34,197,94,0.15)" stroke-width="1.5"/>
                            <circle cx="760" cy="105" r="24" fill="none" stroke="rgba(34,197,94,0.3)" stroke-width="2"/>
                            <circle cx="760" cy="105" r="14" fill="none" stroke="rgba(34,197,94,0.2)" stroke-width="1.5"/>
                            <circle cx="760" cy="105" r="5" fill="rgba(34,197,94,0.4)"/>
                            <rect x="720" y="48" width="40" height="12" rx="4" fill="none" stroke="rgba(34,197,94,0.2)" stroke-width="1.5"/>
                            <rect x="840" y="70" width="20" height="18" rx="3" fill="none" stroke="rgba(34,197,94,0.2)" stroke-width="1.5"/>
                            <rect x="840" y="108" width="20" height="18" rx="3" fill="none" stroke="rgba(34,197,94,0.2)" stroke-width="1.5"/>
                            <rect x="580" y="35" width="55" height="42" rx="3" fill="rgba(251,191,36,0.08)" stroke="rgba(251,191,36,0.25)" stroke-width="1.5"/>
                            <line x1="580" y1="50" x2="635" y2="50" stroke="rgba(251,191,36,0.2)" stroke-width="1"/>
                            <rect x="580" y="100" width="55" height="42" rx="3" fill="rgba(34,197,94,0.08)" stroke="rgba(34,197,94,0.2)" stroke-width="1.5"/>
                            <line x1="580" y1="115" x2="635" y2="115" stroke="rgba(34,197,94,0.15)" stroke-width="1"/>
                        </svg>
                        <div style="position:absolute;inset:0;background:linear-gradient(90deg,rgba(0,0,0,.75) 0%,rgba(0,0,0,.15) 55%,transparent 100%);z-index:2;"></div>
                        <div style="position:absolute;bottom:22px;left:28px;z-index:3;">
                            <h1 style="font-family:'Bebas Neue','Space Grotesk',sans-serif;font-size:42px;letter-spacing:6px;color:#fff;margin:0;line-height:1;text-shadow:0 2px 20px rgba(0,0,0,.6);">SHOT LIST</h1>
                            <p style="font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:3px;color:rgba(34,197,94,.9);margin:5px 0 0;text-transform:uppercase;">Scene &amp; Coverage Tracker</p>
                        </div>
                        <div style="position:absolute;bottom:22px;right:24px;z-index:3;display:flex;gap:24px;">
                            <div style="text-align:right;"><div style="font-family:'Bebas Neue',sans-serif;font-size:34px;line-height:1;color:#22c55e;">${shots.length}</div><div style="font-family:'JetBrains Mono',monospace;font-size:9px;letter-spacing:2px;color:rgba(255,255,255,.4);text-transform:uppercase;">Shots</div></div>
                            <div style="text-align:right;"><div style="font-family:'Bebas Neue',sans-serif;font-size:34px;line-height:1;color:#fbbf24;">${completed}</div><div style="font-family:'JetBrains Mono',monospace;font-size:9px;letter-spacing:2px;color:rgba(255,255,255,.4);text-transform:uppercase;">Done</div></div>
                        </div>
                    </div>
                    <div class="shotlist-header" style="margin-top:-8px;">
                        <div></div>
                        <div class="shotlist-actions">
                            <button class="btn btn-sm" onclick="ShotList.exportPDF()">ğŸ“„ Export PDF</button>
                            <button class="btn btn-sm btn-primary" onclick="PopupSystem.show(PopupConfigs.shot)">+ Add Shot</button>
                        </div>
                    </div>
                    
                    <div class="shotlist-stats">
                        <div class="shotlist-stat-card">
                            <div class="shotlist-stat-label">ğŸ“¹ Total Shots</div>
                            <div class="shotlist-stat-value" style="color: var(--text-100);">${shots.length}</div>
                        </div>
                        <div class="shotlist-stat-card">
                            <div class="shotlist-stat-label">âœ… Completed</div>
                            <div class="shotlist-stat-value" style="color: var(--neon-emerald);">${completed}</div>
                        </div>
                        <div class="shotlist-stat-card">
                            <div class="shotlist-stat-label">âš¡ In Progress</div>
                            <div class="shotlist-stat-value" style="color: #3b82f6;">${inProgress}</div>
                        </div>
                        <div class="shotlist-stat-card">
                            <div class="shotlist-stat-label">ğŸ“ Planned</div>
                            <div class="shotlist-stat-value" style="color: var(--neon-violet);">${planned}</div>
                        </div>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                        <span style="font-size: 12px; color: var(--text-50); font-family: var(--font-mono);">${shots.length} SHOTS TOTAL</span>
                        <span style="font-size: 12px; color: var(--text-50); font-family: var(--font-mono);">COMPLETION: ${shots.length > 0 ? Math.round(completed/shots.length*100) : 0}%</span>
                    </div>
                    
                    <div class="shotlist-grid">
                        ${shots.length === 0 ? '<div style="grid-column: 1/-1; text-align: center; padding: 60px; color: var(--text-50);"><div style="font-size: 48px; margin-bottom: 16px;">ğŸ¬</div><div style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">No shots added yet</div><div>Click "+ Add Shot" to begin building your shot list.</div></div>' : ''}
                        ${shots.map((shot, idx) => {
                            const statusClass = shot.status === 'Completed' ? 'completed' : (shot.status === 'Review' ? 'review' : (shot.status === 'In Progress' ? 'in-progress' : 'planned'));
                            const statusText = shot.status || 'Planned';
                            return `
                            <div class="shot-card">
                                <div class="shot-card-header">
                                    <div>
                                        <div class="shot-number">${shot.number || (idx + 1) + 'A'}</div>
                                        <div class="shot-scene-label">SCENE ${shot.scene || '1'}</div>
                                    </div>
                                    <span class="shot-badge ${statusClass}">${statusText}</span>
                                </div>
                                
                                <div class="shot-title">${shot.description || 'Untitled Shot'}</div>
                                
                                <div class="shot-meta">
                                    <div class="shot-meta-item">
                                        <div class="shot-meta-label">Type</div>
                                        <div class="shot-meta-value">${shot.type || 'Master'}</div>
                                    </div>
                                    <div class="shot-meta-item">
                                        <div class="shot-meta-label">Size</div>
                                        <div class="shot-meta-value">${shot.size ? shot.size.split(' - ')[0] : 'WS'}</div>
                                    </div>
                                    <div class="shot-meta-item">
                                        <div class="shot-meta-label">Movement</div>
                                        <div class="shot-meta-value">${shot.movement || 'Static'}</div>
                                    </div>
                                    <div class="shot-meta-item">
                                        <div class="shot-meta-label">Angle</div>
                                        <div class="shot-meta-value">${shot.angle || 'Eye Level'}</div>
                                    </div>
                                </div>
                                
                                ${shot.lens || shot.fps || shot.equipment || shot.cast ? `
                                <div class="shot-details">
                                    ${shot.lens ? `<div class="shot-details-row"><span class="shot-details-label">Lens:</span><span class="shot-details-value">${shot.lens}</span></div>` : ''}
                                    ${shot.fps ? `<div class="shot-details-row"><span class="shot-details-label">Frame Rate:</span><span class="shot-details-value">${shot.fps}</span></div>` : ''}
                                    ${shot.equipment ? `<div class="shot-details-row"><span class="shot-details-label">Equipment:</span><span class="shot-details-value">${shot.equipment}</span></div>` : ''}
                                    ${shot.cast ? `<div class="shot-details-row"><span class="shot-details-label">Cast:</span><span class="shot-details-value">${shot.cast}</span></div>` : ''}
                                    ${shot.duration ? `<div class="shot-details-row"><span class="shot-details-label">Duration:</span><span class="shot-details-value">${shot.duration}</span></div>` : ''}
                                </div>
                                ` : ''}
                                
                                ${shot.notes || shot.vfx ? `
                                <div class="shot-notes">
                                    ${shot.vfx ? `<div style="margin-bottom: 8px;"><strong style="color: var(--neon-violet);">VFX:</strong> ${shot.vfx}</div>` : ''}
                                    ${shot.notes ? `<div><strong>Notes:</strong> ${shot.notes}</div>` : ''}
                                </div>
                                ` : ''}
                                
                                <div class="shot-actions">
                                    <button class="shot-btn" onclick="ShotList.editShot(${idx})">âœï¸ Edit</button>
                                    <button class="shot-btn" onclick="ShotList.toggleComplete(${idx})">${shot.status === 'Completed' ? 'â†© Reopen' : 'âœ“ Complete'}</button>
                                    <button class="shot-btn delete" onclick="ShotList.deleteShot(${idx})">ğŸ—‘ï¸</button>
                                </div>
                            </div>
                        `}).join('')}
                    </div>
                `;
            },
            
            showByScene() {
                alert('Group by scene feature - sorts shots by scene number');
            },
            
            toggleComplete(idx) {
                const shots = this.getData();
                if (shots[idx]) {
                    if (shots[idx].status === 'Completed') {
                        shots[idx].status = 'Planned';
                        shots[idx].completed = false;
                    } else {
                        shots[idx].status = 'Completed';
                        shots[idx].completed = true;
                    }
                    Core.data.shotlist = shots;
                    Core.save();
                    
                    // Immediate cloud sync
                    if (Auth.user && !Auth.isDemoMode) {
                        Core.syncToCloud();
                    }
                    
                    this.render();
                }
            },
            
            editShot(idx) {
                const shots = this.getData();
                const shot = shots[idx];
                if (!shot) return;
                
                // Create edit popup with pre-filled values
                const editConfig = {
                    ...PopupConfigs.shot,
                    title: 'Edit Shot',
                    subtitle: `Editing Shot ${shot.number || idx + 1}`,
                    onSubmit: (data) => {
                        // Update the shot
                        shots[idx] = {
                            ...shots[idx],
                            scene: data.shotScene,
                            number: data.shotNumber,
                            description: data.shotDescription,
                            type: data.shotType,
                            size: data.shotSize,
                            angle: data.shotAngle || '',
                            movement: data.shotMovement || 'Static',
                            lens: data.shotLens || '',
                            fps: data.shotFPS || '24 fps',
                            cast: data.shotCast || '',
                            equipment: data.shotEquipment || '',
                            duration: data.shotDuration || '',
                            vfx: data.shotVFX || '',
                            notes: data.shotNotes || '',
                            status: data.shotStatus || 'Planned',
                            completed: (data.shotStatus === 'Completed')
                        };
                        
                        Core.data.shotlist = shots;
                        Core.save();
                        
                        // Immediate cloud sync
                        if (Auth.user && !Auth.isDemoMode) {
                            Core.syncToCloud();
                        }
                        
                        this.render();
                        PopupSystem.showToast(`âœ… Shot ${data.shotNumber} updated`, 'success');
                    }
                };
                
                // Pre-fill form values
                setTimeout(() => {
                    const form = document.querySelector('.popup-form');
                    if (form) {
                        form.querySelector('#shotScene').value = shot.scene || '';
                        form.querySelector('#shotNumber').value = shot.number || '';
                        form.querySelector('#shotDescription').value = shot.description || '';
                        form.querySelector('#shotType').value = shot.type || 'Master';
                        form.querySelector('#shotSize').value = shot.size || 'WS - Wide';
                        form.querySelector('#shotAngle').value = shot.angle || 'Eye Level';
                        form.querySelector('#shotMovement').value = shot.movement || 'Static';
                        form.querySelector('#shotLens').value = shot.lens || '';
                        form.querySelector('#shotFPS').value = shot.fps || '24 fps';
                        form.querySelector('#shotCast').value = shot.cast || '';
                        form.querySelector('#shotEquipment').value = shot.equipment || '';
                        form.querySelector('#shotDuration').value = shot.duration || '';
                        form.querySelector('#shotVFX').value = shot.vfx || '';
                        form.querySelector('#shotNotes').value = shot.notes || '';
                        form.querySelector('#shotStatus').value = shot.status || 'Planned';
                    }
                }, 100);
                
                PopupSystem.show(editConfig);
            },
            
            deleteShot(idx) {
                const shots = this.getData();
                const shot = shots[idx];
                
                if (confirm(`Delete shot ${shot.number || idx + 1}?\n\nThis action cannot be undone.`)) {
                    shots.splice(idx, 1);
                    Core.data.shotlist = shots;
                    Core.save();
                    
                    // Immediate cloud sync
                    if (Auth.user && !Auth.isDemoMode) {
                        Core.syncToCloud();
                    }
                    
                    this.render();
                    PopupSystem.showToast('ğŸ—‘ï¸ Shot deleted', 'success');
                }
            },
            
            exportPDF() {
                const shots = this.getData();
                if (shots.length === 0) {
                    alert('No shots to export. Add shots to your shot list first.');
                    return;
                }
                
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF('p', 'mm', 'a4');
                
                const prodName = Core.data.name || Core.currentProduction;
                const prodType = Core.data.type || 'Production';
                const today = new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
                
                // Header
                doc.setFillColor(0, 0, 0);
                doc.rect(0, 0, 210, 40, 'F');
                
                doc.setTextColor(34, 211, 238);
                doc.setFontSize(28);
                doc.setFont('helvetica', 'bold');
                doc.text('SHOT LIST', 105, 18, { align: 'center' });
                
                doc.setFontSize(14);
                doc.setTextColor(255, 255, 255);
                doc.text(prodName, 105, 27, { align: 'center' });
                
                doc.setFontSize(10);
                doc.setTextColor(150, 150, 150);
                doc.text(prodType, 105, 33, { align: 'center' });
                
                // Stats bar
                const completed = shots.filter(s => s.status === 'Completed').length;
                const completionRate = Math.round((completed / shots.length) * 100);
                
                doc.setFillColor(26, 26, 26);
                doc.rect(10, 45, 190, 20, 'F');
                
                doc.setFontSize(9);
                doc.setTextColor(100, 100, 100);
                doc.text('TOTAL SHOTS', 15, 52);
                doc.text('COMPLETED', 65, 52);
                doc.text('IN PROGRESS', 115, 52);
                doc.text('COMPLETION RATE', 165, 52);
                
                doc.setFontSize(16);
                doc.setFont('helvetica', 'bold');
                doc.setTextColor(34, 211, 238);
                doc.text(shots.length.toString(), 15, 61);
                doc.setTextColor(16, 185, 129);
                doc.text(completed.toString(), 65, 61);
                doc.setTextColor(59, 130, 246);
                doc.text(shots.filter(s => s.status === 'In Progress').length.toString(), 115, 61);
                doc.setTextColor(167, 139, 250);
                doc.text(completionRate + '%', 165, 61);
                
                let y = 75;
                
                // Group shots by scene
                const shotsByScene = {};
                shots.forEach(shot => {
                    const scene = shot.scene || '1';
                    if (!shotsByScene[scene]) shotsByScene[scene] = [];
                    shotsByScene[scene].push(shot);
                });
                
                const scenes = Object.keys(shotsByScene).sort((a, b) => {
                    const aNum = parseInt(a) || 0;
                    const bNum = parseInt(b) || 0;
                    return aNum - bNum;
                });
                
                scenes.forEach((scene, sceneIdx) => {
                    const sceneShots = shotsByScene[scene];
                    
                    // Scene header
                    if (y > 250) {
                        doc.addPage();
                        y = 20;
                    }
                    
                    doc.setFillColor(34, 211, 238);
                    doc.rect(10, y, 190, 8, 'F');
                    doc.setTextColor(0, 0, 0);
                    doc.setFontSize(11);
                    doc.setFont('helvetica', 'bold');
                    doc.text(`SCENE ${scene}`, 15, y + 5.5);
                    doc.setTextColor(0, 0, 0);
                    doc.setFontSize(9);
                    doc.text(`${sceneShots.length} shot${sceneShots.length !== 1 ? 's' : ''}`, 185, y + 5.5, { align: 'right' });
                    
                    y += 12;
                    
                    // Shots in this scene
                    sceneShots.forEach((shot, shotIdx) => {
                        if (y > 270) {
                            doc.addPage();
                            y = 20;
                        }
                        
                        // Shot card background
                        doc.setFillColor(245, 245, 245);
                        doc.rect(10, y, 190, 32, 'F');
                        doc.setDrawColor(34, 211, 238);
                        doc.setLineWidth(0.5);
                        doc.rect(10, y, 190, 32);
                        
                        // Shot number
                        doc.setFontSize(16);
                        doc.setFont('helvetica', 'bold');
                        doc.setTextColor(34, 211, 238);
                        doc.text(shot.number || `${scene}${String.fromCharCode(65 + shotIdx)}`, 15, y + 8);
                        
                        // Status badge
                        const statusColors = {
                            'Completed': [16, 185, 129],
                            'Review': [251, 191, 36],
                            'In Progress': [59, 130, 246],
                            'Planned': [167, 139, 250]
                        };
                        const statusColor = statusColors[shot.status] || [167, 139, 250];
                        doc.setFillColor(...statusColor);
                        doc.roundedRect(180, y + 2, 18, 6, 1, 1, 'F');
                        doc.setFontSize(7);
                        doc.setTextColor(255, 255, 255);
                        doc.setFont('helvetica', 'bold');
                        doc.text(shot.status || 'Planned', 189, y + 5.5, { align: 'center' });
                        
                        // Shot details
                        doc.setFontSize(10);
                        doc.setFont('helvetica', 'normal');
                        doc.setTextColor(40, 40, 40);
                        const desc = shot.description || 'Untitled Shot';
                        doc.text(desc.substring(0, 60) + (desc.length > 60 ? '...' : ''), 15, y + 14);
                        
                        // Technical specs
                        doc.setFontSize(8);
                        doc.setTextColor(100, 100, 100);
                        doc.setFont('helvetica', 'bold');
                        doc.text('TYPE:', 15, y + 20);
                        doc.text('SIZE:', 55, y + 20);
                        doc.text('MOVEMENT:', 95, y + 20);
                        doc.text('ANGLE:', 145, y + 20);
                        
                        doc.setFont('helvetica', 'normal');
                        doc.setTextColor(60, 60, 60);
                        doc.text(shot.type || 'Master', 15, y + 25);
                        doc.text((shot.size || 'WS').split(' - ')[0], 55, y + 25);
                        doc.text(shot.movement || 'Static', 95, y + 25);
                        doc.text(shot.angle || 'Eye Level', 145, y + 25);
                        
                        // Additional info if available
                        if (shot.lens || shot.equipment) {
                            doc.setFontSize(7);
                            doc.setTextColor(100, 100, 100);
                            let additionalInfo = '';
                            if (shot.lens) additionalInfo += `Lens: ${shot.lens}  `;
                            if (shot.equipment) additionalInfo += `Equipment: ${shot.equipment}`;
                            doc.text(additionalInfo, 15, y + 30);
                        }
                        
                        y += 36;
                    });
                    
                    y += 4; // Space between scenes
                });
                
                // Footer on all pages
                const pageCount = doc.internal.getNumberOfPages();
                for (let i = 1; i <= pageCount; i++) {
                    doc.setPage(i);
                    doc.setFontSize(8);
                    doc.setTextColor(150, 150, 150);
                    doc.setFont('helvetica', 'normal');
                    doc.text(`${prodName} - Shot List`, 10, 290);
                    doc.text(`Page ${i} of ${pageCount}`, 200, 290, { align: 'right' });
                    doc.text(today, 105, 290, { align: 'center' });
                }
                
                // Save the PDF
                const fileName = `${prodName.replace(/[^a-z0-9]/gi, '_')}_ShotList_${new Date().toISOString().split('T')[0]}.pdf`;
                doc.save(fileName);
                
                PopupSystem.showToast('ğŸ“„ Shot list PDF exported', 'success');
            }
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           NEW FEATURE 3: CONTINUITY LOG
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const ContinuityLog = {
            init() {
                this.render();
            },
            
            getData() {
                return Core.data.continuity || [];
            },
            
            render() {
                const container = document.getElementById('view-continuity');
                if (!container) return;
                
                const logs = this.getData();
                const scenes = [...new Set(logs.map(l => l.scene))].sort();
                const recentLogs = logs.slice(-5).reverse();
                
                container.innerHTML = `
                    <style>
                        .continuity-header-section {
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            margin-bottom: 24px;
                        }
                        .continuity-stats-grid {
                            display: grid;
                            grid-template-columns: repeat(4, 1fr);
                            gap: 16px;
                            margin-bottom: 32px;
                        }
                        .continuity-stat-card {
                            background: var(--surface-2);
                            border: 1px solid var(--border-default);
                            border-radius: 8px;
                            padding: 20px;
                        }
                        .continuity-stat-label {
                            font-size: 10px;
                            text-transform: uppercase;
                            letter-spacing: 1.5px;
                            color: var(--text-50);
                            font-family: var(--font-mono);
                            margin-bottom: 8px;
                        }
                        .continuity-stat-value {
                            font-size: 36px;
                            font-weight: 700;
                            font-family: var(--font-display);
                            letter-spacing: 1px;
                            line-height: 1;
                        }
                        .continuity-filters {
                            display: flex;
                            gap: 8px;
                            margin-bottom: 24px;
                        }
                        .filter-chip {
                            padding: 8px 16px;
                            background: var(--surface-3);
                            border: 1px solid var(--border-default);
                            border-radius: 20px;
                            color: var(--text-70);
                            font-size: 11px;
                            font-family: var(--font-mono);
                            text-transform: uppercase;
                            letter-spacing: 1px;
                            cursor: pointer;
                            transition: all 0.2s ease;
                        }
                        .filter-chip:hover, .filter-chip.active {
                            background: rgba(34, 211, 238, 0.15);
                            border-color: var(--neon-cyan);
                            color: var(--neon-cyan);
                        }
                        .continuity-grid {
                            display: grid;
                            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
                            gap: 20px;
                        }
                        .continuity-card {
                            background: var(--surface-2);
                            border: 1px solid var(--border-default);
                            border-left: 4px solid var(--neon-cyan);
                            border-radius: 8px;
                            padding: 24px;
                            transition: all 0.2s ease;
                        }
                        .continuity-card:hover {
                            border-left-color: var(--neon-emerald);
                            box-shadow: 0 0 20px rgba(34, 211, 238, 0.1);
                        }
                        .continuity-card-header {
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            margin-bottom: 16px;
                            padding-bottom: 12px;
                            border-bottom: 1px solid var(--border-subtle);
                        }
                        .continuity-scene {
                            font-family: var(--font-display);
                            font-size: 20px;
                            letter-spacing: 2px;
                            color: var(--neon-cyan);
                        }
                        .continuity-take {
                            padding: 4px 12px;
                            background: rgba(167, 139, 250, 0.15);
                            color: var(--neon-violet);
                            border: 1px solid rgba(167, 139, 250, 0.3);
                            border-radius: 4px;
                            font-size: 10px;
                            font-weight: 600;
                            text-transform: uppercase;
                            letter-spacing: 1px;
                            font-family: var(--font-mono);
                        }
                        .continuity-body {
                            display: grid;
                            grid-template-columns: repeat(2, 1fr);
                            gap: 12px;
                            margin-bottom: 16px;
                        }
                        .continuity-field {
                            display: flex;
                            flex-direction: column;
                            gap: 4px;
                        }
                        .continuity-field.full-width {
                            grid-column: 1 / -1;
                        }
                        .field-label {
                            font-size: 9px;
                            text-transform: uppercase;
                            letter-spacing: 1px;
                            color: var(--text-50);
                            font-family: var(--font-mono);
                        }
                        .field-value {
                            font-size: 13px;
                            color: var(--text-90);
                            line-height: 1.5;
                        }
                        .continuity-timestamp {
                            font-size: 11px;
                            color: var(--text-50);
                            font-family: var(--font-mono);
                            margin-top: 8px;
                            padding-top: 12px;
                            border-top: 1px solid var(--border-subtle);
                        }
                        .continuity-actions {
                            display: flex;
                            gap: 8px;
                            margin-top: 12px;
                        }
                        .cont-btn {
                            flex: 1;
                            padding: 8px;
                            background: var(--surface-3);
                            border: 1px solid var(--border-default);
                            color: var(--text-90);
                            border-radius: 4px;
                            font-size: 11px;
                            cursor: pointer;
                            transition: all 0.2s ease;
                        }
                        .cont-btn:hover {
                            background: rgba(34, 211, 238, 0.15);
                            border-color: var(--neon-cyan);
                            color: var(--neon-cyan);
                        }
                        .cont-btn.delete {
                            background: rgba(244, 63, 94, 0.15);
                            border-color: rgba(244, 63, 94, 0.3);
                            color: var(--neon-rose);
                        }
                        .cont-btn.delete:hover {
                            background: rgba(244, 63, 94, 0.25);
                        }
                    </style>
                    
                    <!-- Continuity Log Banner -->
                    <div style="width:100%;height:170px;border-radius:14px;margin-bottom:26px;position:relative;overflow:hidden;">
                        <svg viewBox="0 0 900 170" preserveAspectRatio="xMidYMid slice" style="position:absolute;inset:0;width:100%;height:100%;">
                            <defs>
                                <linearGradient id="clbg" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#10181a"/><stop offset="100%" stop-color="#081012"/></linearGradient>
                                <radialGradient id="clg1" cx="70%" cy="30%" r="55%"><stop offset="0%" stop-color="rgba(6,182,212,0.25)"/><stop offset="100%" stop-color="rgba(6,182,212,0)"/></radialGradient>
                                <radialGradient id="clg2" cx="15%" cy="75%" r="45%"><stop offset="0%" stop-color="rgba(168,85,247,0.15)"/><stop offset="100%" stop-color="rgba(168,85,247,0)"/></radialGradient>
                            </defs>
                            <rect width="900" height="170" fill="url(#clbg)"/>
                            <rect width="900" height="170" fill="url(#clg1)"/>
                            <rect width="900" height="170" fill="url(#clg2)"/>
                            <g stroke="rgba(6,182,212,0.06)" stroke-width="1">
                                <line x1="0" y1="34" x2="900" y2="34"/><line x1="0" y1="68" x2="900" y2="68"/>
                                <line x1="0" y1="102" x2="900" y2="102"/><line x1="0" y1="136" x2="900" y2="136"/>
                                <line x1="180" y1="0" x2="180" y2="170"/><line x1="360" y1="0" x2="360" y2="170"/>
                                <line x1="540" y1="0" x2="540" y2="170"/><line x1="720" y1="0" x2="720" y2="170"/>
                            </g>
                            <!-- Clapperboard art -->
                            <rect x="660" y="50" width="200" height="105" rx="8" fill="rgba(6,182,212,0.06)" stroke="rgba(6,182,212,0.22)" stroke-width="2"/>
                            <rect x="660" y="50" width="200" height="35" fill="rgba(6,182,212,0.1)" stroke="rgba(6,182,212,0.18)" stroke-width="1.5"/>
                            <path d="M672,50 L692,85 L712,50" stroke="rgba(255,255,255,0.2)" stroke-width="2" fill="none"/>
                            <path d="M697,50 L717,85 L737,50" stroke="rgba(255,255,255,0.2)" stroke-width="2" fill="none"/>
                            <path d="M722,50 L742,85 L762,50" stroke="rgba(255,255,255,0.2)" stroke-width="2" fill="none"/>
                            <path d="M747,50 L767,85 L787,50" stroke="rgba(255,255,255,0.2)" stroke-width="2" fill="none"/>
                            <line x1="660" y1="107" x2="860" y2="107" stroke="rgba(6,182,212,0.15)" stroke-width="1"/>
                            <line x1="660" y1="128" x2="860" y2="128" stroke="rgba(6,182,212,0.15)" stroke-width="1"/>
                            <line x1="750" y1="85" x2="750" y2="155" stroke="rgba(6,182,212,0.12)" stroke-width="1"/>
                        </svg>
                        <div style="position:absolute;inset:0;background:linear-gradient(90deg,rgba(0,0,0,.78) 0%,rgba(0,0,0,.2) 55%,transparent 100%);z-index:2;"></div>
                        <div style="position:absolute;bottom:22px;left:28px;z-index:3;">
                            <h1 style="font-family:'Bebas Neue','Space Grotesk',sans-serif;font-size:42px;letter-spacing:6px;color:#fff;margin:0;line-height:1;text-shadow:0 2px 20px rgba(0,0,0,.6);">CONTINUITY LOG</h1>
                            <p style="font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:3px;color:rgba(6,182,212,.9);margin:5px 0 0;text-transform:uppercase;">Scene &amp; Wardrobe Continuity Tracker</p>
                        </div>
                        <div style="position:absolute;bottom:22px;right:24px;z-index:3;display:flex;gap:24px;">
                            <div style="text-align:right;"><div style="font-family:'Bebas Neue',sans-serif;font-size:34px;line-height:1;color:#06b6d4;">${logs.length}</div><div style="font-family:'JetBrains Mono',monospace;font-size:9px;letter-spacing:2px;color:rgba(255,255,255,.4);text-transform:uppercase;">Entries</div></div>
                            <div style="text-align:right;"><div style="font-family:'Bebas Neue',sans-serif;font-size:34px;line-height:1;color:#a855f7;">${scenes.length}</div><div style="font-family:'JetBrains Mono',monospace;font-size:9px;letter-spacing:2px;color:rgba(255,255,255,.4);text-transform:uppercase;">Scenes</div></div>
                        </div>
                    </div>
                    <div class="continuity-header-section" style="margin-top:-8px;">
                        <div></div>
                        <div style="display:flex;gap:12px;">
                            <button class="btn btn-sm" onclick="ContinuityLog.exportToCSV()">ğŸ“Š Export CSV</button>
                            <button class="btn btn-sm btn-primary" onclick="ContinuityLog.showAddLogModal()">+ Add Entry</button>
                        </div>
                    </div>
                    
                    <div class="continuity-stats-grid">
                        <div class="continuity-stat-card">
                            <div class="continuity-stat-label">ğŸ“· Total Logs</div>
                            <div class="continuity-stat-value" style="color: var(--text-100);">${logs.length}</div>
                        </div>
                        <div class="continuity-stat-card">
                            <div class="continuity-stat-label">ğŸ¬ Scenes Tracked</div>
                            <div class="continuity-stat-value" style="color: var(--neon-cyan);">${scenes.length}</div>
                        </div>
                        <div class="continuity-stat-card">
                            <div class="continuity-stat-label">ğŸ• Recent Logs</div>
                            <div class="continuity-stat-value" style="color: var(--neon-violet);">${recentLogs.length}</div>
                        </div>
                        <div class="continuity-stat-card">
                            <div class="continuity-stat-label">ğŸ“¸ This Session</div>
                            <div class="continuity-stat-value" style="color: var(--neon-emerald);">${logs.filter(l => l.timestamp && l.timestamp.includes(new Date().toLocaleDateString())).length}</div>
                        </div>
                    </div>
                    
                    <div class="continuity-filters">
                        <button class="filter-chip active" onclick="ContinuityLog.filterByScene('all', this)">All Scenes</button>
                        ${scenes.slice(0, 6).map(s => `
                            <button class="filter-chip" onclick="ContinuityLog.filterByScene('${s}', this)">Scene ${s}</button>
                        `).join('')}
                    </div>
                    
                    <div class="continuity-grid">
                        ${logs.length === 0 ? '<div style="grid-column: 1/-1; text-align: center; padding: 60px; color: var(--text-50);">No continuity logs recorded. Click "+ Add Entry" to begin.</div>' : ''}
                        ${logs.map((log, idx) => `
                            <div class="continuity-card" data-scene="${log.scene}">
                                <div class="continuity-card-header">
                                    <div class="continuity-scene">Scene ${clean(log.scene)}</div>
                                    <div class="continuity-take">Take ${log.take}</div>
                                </div>
                                <div class="continuity-body">
                                    <div class="continuity-field">
                                        <div class="field-label">ğŸ‘” Wardrobe</div>
                                        <div class="field-value">${log.wardrobe || 'Not specified'}</div>
                                    </div>
                                    <div class="continuity-field">
                                        <div class="field-label">ğŸ¯ Props</div>
                                        <div class="field-value">${log.props || 'Not specified'}</div>
                                    </div>
                                    <div class="continuity-field">
                                        <div class="field-label">ğŸ’‡ Hair/Makeup</div>
                                        <div class="field-value">${log.hairMakeup || 'Not specified'}</div>
                                    </div>
                                    <div class="continuity-field">
                                        <div class="field-label">ğŸ“ Position</div>
                                        <div class="field-value">${log.position || 'Not specified'}</div>
                                    </div>
                                    ${log.notes ? `
                                    <div class="continuity-field full-width">
                                        <div class="field-label">ğŸ“ Notes</div>
                                        <div class="field-value">${log.notes}</div>
                                    </div>
                                    ` : ''}
                                </div>
                                <div class="continuity-timestamp">
                                    ğŸ• ${log.timestamp || 'No timestamp'}
                                </div>
                                <div class="continuity-actions">
                                    <button class="cont-btn" onclick="ContinuityLog.editLog(${idx})">âœ Edit</button>
                                    <button class="cont-btn delete" onclick="ContinuityLog.deleteLog(${idx})">Ã— Delete</button>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            },
            
            filterByScene(scene, button) {
                document.querySelectorAll('.filter-chip').forEach(btn => btn.classList.remove('active'));
                if (button) button.classList.add('active');
                
                document.querySelectorAll('.continuity-card').forEach(card => {
                    if (scene === 'all' || card.dataset.scene === scene) {
                        card.style.display = '';
                    } else {
                        card.style.display = 'none';
                    }
                });
            },
            
            exportToCSV() {
                const logs = this.getData();
                if (logs.length === 0) {
                    alert('No continuity logs to export');
                    return;
                }
                
                const headers = ['Scene', 'Take', 'Wardrobe', 'Props', 'Hair/Makeup', 'Position', 'Notes', 'Timestamp'];
                const rows = logs.map(log => [
                    log.scene,
                    log.take,
                    log.wardrobe || '',
                    log.props || '',
                    log.hairMakeup || '',
                    log.position || '',
                    log.notes || '',
                    log.timestamp || ''
                ]);
                
                const csv = [headers, ...rows].map(row => row.map(cell => `"${cell}"`).join(',')).join('\n');
                const blob = new Blob([csv], { type: 'text/csv' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `Continuity_Log_${new Date().toISOString().split('T')[0]}.csv`;
                a.click();
                Core.log('Continuity log exported to CSV');
            },
            
            editLog(idx) {
                const logs = this.getData();
                const log = logs[idx];
                if (!log) return;
                
                const modal = document.createElement('div');
                modal.className = 'modal active';
                modal.id = 'modal-edit-continuity';
                modal.innerHTML = `
                    <div class="modal-content">
                        <button class="modal-close" onclick="document.getElementById('modal-edit-continuity').remove()">Ã—</button>
                        <h2 class="modal-title">Edit Continuity Entry</h2>
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Scene</label>
                                <input type="text" id="cont-scene" value="${log.scene}" placeholder="Scene number">
                            </div>
                            <div class="form-group">
                                <label>Take</label>
                                <input type="text" id="cont-take" value="${log.take}" placeholder="Take number">
                            </div>
                            <div class="form-group full-width">
                                <label>Wardrobe Description</label>
                                <textarea id="cont-wardrobe" placeholder="Describe wardrobe details">${log.wardrobe || ''}</textarea>
                            </div>
                            <div class="form-group full-width">
                                <label>Props</label>
                                <textarea id="cont-props" placeholder="List props and their positions">${log.props || ''}</textarea>
                            </div>
                            <div class="form-group full-width">
                                <label>Hair/Makeup</label>
                                <textarea id="cont-hair" placeholder="Hair and makeup details">${log.hairMakeup || ''}</textarea>
                            </div>
                            <div class="form-group full-width">
                                <label>Actor Positions</label>
                                <textarea id="cont-position" placeholder="Blocking and position notes">${log.position || ''}</textarea>
                            </div>
                            <div class="form-group full-width">
                                <label>Additional Notes</label>
                                <textarea id="cont-notes" placeholder="Any other continuity notes">${log.notes || ''}</textarea>
                            </div>
                        </div>
                        <div class="modal-actions">
                            <button class="btn" onclick="document.getElementById('modal-edit-continuity').remove()">Cancel</button>
                            <button class="btn btn-primary" onclick="ContinuityLog.saveEdit(${idx})">Save Changes</button>
                        </div>
                    </div>
                `;
                document.body.appendChild(modal);
            },
            
            saveEdit(idx) {
                const logs = this.getData();
                logs[idx] = {
                    scene: document.getElementById('cont-scene').value,
                    take: document.getElementById('cont-take').value,
                    wardrobe: document.getElementById('cont-wardrobe').value,
                    props: document.getElementById('cont-props').value,
                    hairMakeup: document.getElementById('cont-hair').value,
                    position: document.getElementById('cont-position').value,
                    notes: document.getElementById('cont-notes').value,
                    timestamp: logs[idx].timestamp || new Date().toLocaleString()
                };
                Core.data.continuity = logs;
                Core.save();
                document.getElementById('modal-edit-continuity').remove();
                this.render();
                Core.log('Continuity entry updated');
            },
            
            showAddLogModal() {
                const modal = document.createElement('div');
                modal.className = 'modal active';
                modal.id = 'modal-add-continuity';
                modal.innerHTML = `
                    <div class="modal-content">
                        <button class="modal-close" onclick="document.getElementById('modal-add-continuity').remove()">Ã—</button>
                        <h2 class="modal-title">Add Continuity Entry</h2>
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Scene</label>
                                <input type="text" id="cont-scene" placeholder="Scene number">
                            </div>
                            <div class="form-group">
                                <label>Take</label>
                                <input type="text" id="cont-take" placeholder="Take number">
                            </div>
                            <div class="form-group full-width">
                                <label>Wardrobe Description</label>
                                <textarea id="cont-wardrobe" placeholder="Describe wardrobe details"></textarea>
                            </div>
                            <div class="form-group full-width">
                                <label>Props</label>
                                <textarea id="cont-props" placeholder="List props and their positions"></textarea>
                            </div>
                            <div class="form-group full-width">
                                <label>Hair/Makeup</label>
                                <textarea id="cont-hair" placeholder="Hair and makeup details"></textarea>
                            </div>
                            <div class="form-group full-width">
                                <label>Actor Positions</label>
                                <textarea id="cont-position" placeholder="Blocking and position notes"></textarea>
                            </div>
                            <div class="form-group full-width">
                                <label>Additional Notes</label>
                                <textarea id="cont-notes" placeholder="Any other continuity notes"></textarea>
                            </div>
                        </div>
                        <div class="modal-actions">
                            <button class="btn" onclick="document.getElementById('modal-add-continuity').remove()">Cancel</button>
                            <button class="btn btn-primary" onclick="ContinuityLog.addLog()">Add Entry</button>
                        </div>
                    </div>
                `;
                document.body.appendChild(modal);
            },
            
            addLog() {
                const logs = this.getData();
                logs.push({
                    scene: document.getElementById('cont-scene').value,
                    take: document.getElementById('cont-take').value,
                    wardrobe: document.getElementById('cont-wardrobe').value,
                    props: document.getElementById('cont-props').value,
                    hairMakeup: document.getElementById('cont-hair').value,
                    position: document.getElementById('cont-position').value,
                    notes: document.getElementById('cont-notes').value,
                    timestamp: new Date().toLocaleString()
                });
                Core.data.continuity = logs;
                Core.save();
                document.getElementById('modal-add-continuity').remove();
                this.render();
            },
            
            deleteLog(idx) {
                const logs = this.getData();
                logs.splice(idx, 1);
                Core.data.continuity = logs;
                Core.save();
                this.render();
            }
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           NEW FEATURE 4: RISK ASSESSMENT MODULE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const RiskAssessment = {
            riskCategories: ['Stunts', 'Pyrotechnics', 'Water/Heights', 'Animals', 'Vehicles', 'Weather', 'Crowds', 'Equipment', 'Location', 'Health/Safety'],
            
            init() {
                this.render();
            },
            
            getData() {
                return Core.data.risks || [];
            },
            
            render() {
                const container = document.getElementById('view-risk');
                if (!container) return;
                
                const risks = this.getData();
                const highRisks = risks.filter(r => r.level === 'High');
                const mediumRisks = risks.filter(r => r.level === 'Medium');
                const lowRisks = risks.filter(r => r.level === 'Low');
                const activeRisks = risks.filter(r => !r.resolved);
                const resolvedRisks = risks.filter(r => r.resolved);
                
                container.innerHTML = `
                    <style>
                        .risk-stats-grid {
                            display: grid;
                            grid-template-columns: repeat(5, 1fr);
                            gap: 16px;
                            margin-bottom: 32px;
                        }
                        .risk-stat-card {
                            background: var(--surface-2);
                            border: 1px solid var(--border-default);
                            border-radius: 8px;
                            padding: 20px;
                            border-left: 4px solid;
                        }
                        .risk-stat-card.high { border-left-color: var(--neon-rose); }
                        .risk-stat-card.medium { border-left-color: var(--neon-gold); }
                        .risk-stat-card.low { border-left-color: var(--neon-emerald); }
                        .risk-stat-card.active { border-left-color: var(--neon-violet); }
                        .risk-stat-card.resolved { border-left-color: var(--neon-cyan); }
                        .risk-filters {
                            display: flex;
                            gap: 8px;
                            margin-bottom: 24px;
                        }
                        .risk-grid {
                            display: grid;
                            grid-template-columns: repeat(auto-fill, minmax(450px, 1fr));
                            gap: 20px;
                        }
                        .risk-card {
                            background: var(--surface-2);
                            border: 1px solid var(--border-default);
                            border-left: 4px solid;
                            border-radius: 8px;
                            padding: 24px;
                            transition: all 0.2s ease;
                        }
                        .risk-card.high { border-left-color: var(--neon-rose); }
                        .risk-card.medium { border-left-color: var(--neon-gold); }
                        .risk-card.low { border-left-color: var(--neon-emerald); }
                        .risk-card:hover {
                            box-shadow: 0 0 20px rgba(34, 211, 238, 0.1);
                            transform: translateY(-2px);
                        }
                        .risk-card-header {
                            display: flex;
                            justify-content: space-between;
                            align-items: flex-start;
                            margin-bottom: 16px;
                        }
                        .risk-category-badge {
                            padding: 6px 12px;
                            background: rgba(34, 211, 238, 0.15);
                            color: var(--neon-cyan);
                            border: 1px solid rgba(34, 211, 238, 0.3);
                            border-radius: 4px;
                            font-size: 11px;
                            font-weight: 600;
                            text-transform: uppercase;
                            letter-spacing: 1px;
                            font-family: var(--font-mono);
                        }
                        .risk-level-badge {
                            padding: 6px 12px;
                            border-radius: 4px;
                            font-size: 11px;
                            font-weight: 600;
                            text-transform: uppercase;
                            letter-spacing: 1px;
                            font-family: var(--font-mono);
                        }
                        .risk-level-badge.high {
                            background: rgba(244, 63, 94, 0.15);
                            color: var(--neon-rose);
                            border: 1px solid rgba(244, 63, 94, 0.3);
                        }
                        .risk-level-badge.medium {
                            background: rgba(251, 191, 36, 0.15);
                            color: var(--neon-gold);
                            border: 1px solid rgba(251, 191, 36, 0.3);
                        }
                        .risk-level-badge.low {
                            background: rgba(16, 185, 129, 0.15);
                            color: var(--neon-emerald);
                            border: 1px solid rgba(16, 185, 129, 0.3);
                        }
                        .risk-description {
                            font-size: 15px;
                            color: var(--text-90);
                            margin-bottom: 16px;
                            line-height: 1.6;
                        }
                        .risk-mitigation {
                            background: var(--void-deep);
                            border-radius: 6px;
                            padding: 12px;
                            margin-bottom: 16px;
                        }
                        .risk-mitigation-label {
                            font-size: 9px;
                            text-transform: uppercase;
                            letter-spacing: 1px;
                            color: var(--text-50);
                            font-family: var(--font-mono);
                            margin-bottom: 6px;
                        }
                        .risk-mitigation-text {
                            font-size: 13px;
                            color: var(--text-70);
                            line-height: 1.5;
                        }
                        .risk-status-row {
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            padding-top: 12px;
                            border-top: 1px solid var(--border-subtle);
                        }
                        .risk-status-badge {
                            padding: 6px 12px;
                            border-radius: 4px;
                            font-size: 10px;
                            font-weight: 600;
                            text-transform: uppercase;
                            letter-spacing: 1px;
                            font-family: var(--font-mono);
                        }
                        .risk-status-badge.resolved {
                            background: rgba(16, 185, 129, 0.15);
                            color: var(--neon-emerald);
                            border: 1px solid rgba(16, 185, 129, 0.3);
                        }
                        .risk-status-badge.active {
                            background: rgba(167, 139, 250, 0.15);
                            color: var(--neon-violet);
                            border: 1px solid rgba(167, 139, 250, 0.3);
                        }
                    </style>
                    
                    <!-- Risk Assessment Banner -->
                    <div style="width:100%;height:170px;border-radius:14px;margin-bottom:26px;position:relative;overflow:hidden;">
                        <svg viewBox="0 0 900 170" preserveAspectRatio="xMidYMid slice" style="position:absolute;inset:0;width:100%;height:100%;">
                            <defs>
                                <linearGradient id="rabg" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#1a0810"/><stop offset="100%" stop-color="#0e0408"/></linearGradient>
                                <radialGradient id="rag1" cx="70%" cy="30%" r="55%"><stop offset="0%" stop-color="rgba(244,63,94,0.28)"/><stop offset="100%" stop-color="rgba(244,63,94,0)"/></radialGradient>
                                <radialGradient id="rag2" cx="15%" cy="75%" r="45%"><stop offset="0%" stop-color="rgba(251,191,36,0.18)"/><stop offset="100%" stop-color="rgba(251,191,36,0)"/></radialGradient>
                            </defs>
                            <rect width="900" height="170" fill="url(#rabg)"/>
                            <rect width="900" height="170" fill="url(#rag1)"/>
                            <rect width="900" height="170" fill="url(#rag2)"/>
                            <g stroke="rgba(244,63,94,0.06)" stroke-width="1">
                                <line x1="0" y1="34" x2="900" y2="34"/><line x1="0" y1="68" x2="900" y2="68"/>
                                <line x1="0" y1="102" x2="900" y2="102"/><line x1="0" y1="136" x2="900" y2="136"/>
                                <line x1="180" y1="0" x2="180" y2="170"/><line x1="360" y1="0" x2="360" y2="170"/>
                                <line x1="540" y1="0" x2="540" y2="170"/><line x1="720" y1="0" x2="720" y2="170"/>
                            </g>
                            <!-- Warning/risk visual -->
                            <polygon points="760,40 820,140 700,140" fill="rgba(244,63,94,0.08)" stroke="rgba(244,63,94,0.35)" stroke-width="2.5"/>
                            <line x1="760" y1="70" x2="760" y2="110" stroke="rgba(244,63,94,0.7)" stroke-width="3" stroke-linecap="round"/>
                            <circle cx="760" cy="125" r="4" fill="rgba(244,63,94,0.8)"/>
                            <!-- Risk matrix dots -->
                            <circle cx="640" cy="55" r="7" fill="rgba(244,63,94,0.6)"/>
                            <circle cx="670" cy="80" r="5" fill="rgba(251,191,36,0.6)"/>
                            <circle cx="620" cy="100" r="4" fill="rgba(34,197,94,0.5)"/>
                            <circle cx="655" cy="125" r="6" fill="rgba(244,63,94,0.5)"/>
                            <circle cx="685" cy="50" r="4" fill="rgba(251,191,36,0.5)"/>
                            <!-- Resolved check -->
                            <circle cx="850" cy="90" r="20" fill="rgba(34,197,94,0.12)" stroke="rgba(34,197,94,0.3)" stroke-width="2"/>
                            <polyline points="841,90 848,97 861,82" fill="none" stroke="rgba(34,197,94,0.7)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <div style="position:absolute;inset:0;background:linear-gradient(90deg,rgba(0,0,0,.78) 0%,rgba(0,0,0,.2) 55%,transparent 100%);z-index:2;"></div>
                        <div style="position:absolute;bottom:22px;left:28px;z-index:3;">
                            <h1 style="font-family:'Bebas Neue','Space Grotesk',sans-serif;font-size:42px;letter-spacing:6px;color:#fff;margin:0;line-height:1;text-shadow:0 2px 20px rgba(0,0,0,.6);">RISK ASSESSMENT</h1>
                            <p style="font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:3px;color:rgba(244,63,94,.9);margin:5px 0 0;text-transform:uppercase;">Identify &amp; Mitigate Production Risks</p>
                        </div>
                        <div style="position:absolute;bottom:22px;right:24px;z-index:3;display:flex;gap:24px;">
                            <div style="text-align:right;"><div style="font-family:'Bebas Neue',sans-serif;font-size:34px;line-height:1;color:#f43f5e;">${highRisks.length}</div><div style="font-family:'JetBrains Mono',monospace;font-size:9px;letter-spacing:2px;color:rgba(255,255,255,.4);text-transform:uppercase;">High</div></div>
                            <div style="text-align:right;"><div style="font-family:'Bebas Neue',sans-serif;font-size:34px;line-height:1;color:#fbbf24;">${mediumRisks.length}</div><div style="font-family:'JetBrains Mono',monospace;font-size:9px;letter-spacing:2px;color:rgba(255,255,255,.4);text-transform:uppercase;">Medium</div></div>
                            <div style="text-align:right;"><div style="font-family:'Bebas Neue',sans-serif;font-size:34px;line-height:1;color:#22c55e;">${resolvedRisks.length}</div><div style="font-family:'JetBrains Mono',monospace;font-size:9px;letter-spacing:2px;color:rgba(255,255,255,.4);text-transform:uppercase;">Resolved</div></div>
                        </div>
                    </div>
                    <div class="continuity-header-section" style="margin-top:-8px;">
                        <div></div>
                        <div style="display:flex;gap:12px;">
                            <button class="btn btn-sm" onclick="RiskAssessment.exportToCSV()">ğŸ“Š Export CSV</button>
                            <button class="btn btn-sm btn-primary" onclick="openRiskPopup()">+ Add Risk</button>
                        </div>
                    </div>
                    
                    <div class="risk-stats-grid">
                        <div class="risk-stat-card high">
                            <div class="continuity-stat-label">ğŸ”´ High Risk</div>
                            <div class="continuity-stat-value" style="color: var(--neon-rose);">${highRisks.length}</div>
                        </div>
                        <div class="risk-stat-card medium">
                            <div class="continuity-stat-label">ğŸŸ¡ Medium Risk</div>
                            <div class="continuity-stat-value" style="color: var(--neon-gold);">${mediumRisks.length}</div>
                        </div>
                        <div class="risk-stat-card low">
                            <div class="continuity-stat-label">ğŸŸ¢ Low Risk</div>
                            <div class="continuity-stat-value" style="color: var(--neon-emerald);">${lowRisks.length}</div>
                        </div>
                        <div class="risk-stat-card active">
                            <div class="continuity-stat-label">âš ï¸ Active</div>
                            <div class="continuity-stat-value" style="color: var(--neon-violet);">${activeRisks.length}</div>
                        </div>
                        <div class="risk-stat-card resolved">
                            <div class="continuity-stat-label">âœ… Resolved</div>
                            <div class="continuity-stat-value" style="color: var(--neon-cyan);">${resolvedRisks.length}</div>
                        </div>
                    </div>
                    
                    <div class="risk-filters">
                        <button class="filter-chip active" onclick="RiskAssessment.filterByLevel('all', this)">All Risks</button>
                        <button class="filter-chip" onclick="RiskAssessment.filterByLevel('High', this)">ğŸ”´ High</button>
                        <button class="filter-chip" onclick="RiskAssessment.filterByLevel('Medium', this)">ğŸŸ¡ Medium</button>
                        <button class="filter-chip" onclick="RiskAssessment.filterByLevel('Low', this)">ğŸŸ¢ Low</button>
                        <button class="filter-chip" onclick="RiskAssessment.filterByStatus('active', this)">âš ï¸ Active</button>
                        <button class="filter-chip" onclick="RiskAssessment.filterByStatus('resolved', this)">âœ… Resolved</button>
                    </div>
                    
                    <div class="risk-grid">
                        ${risks.length === 0 ? '<div style="grid-column: 1/-1; text-align: center; padding: 60px; color: var(--text-50);">No risks identified. Click "+ Add Risk" to begin.</div>' : ''}
                        ${risks.map((risk, idx) => `
                            <div class="risk-card ${risk.level.toLowerCase()}" data-level="${risk.level}" data-resolved="${risk.resolved}">
                                <div class="risk-card-header">
                                    <div class="risk-category-badge">${clean(risk.category)}</div>
                                    <div class="risk-level-badge ${risk.level.toLowerCase()}">${risk.level} Risk</div>
                                </div>
                                <div class="risk-description">${clean(risk.description)}</div>
                                ${risk.mitigation ? `
                                <div class="risk-mitigation">
                                    <div class="risk-mitigation-label">ğŸ›¡ï¸ Mitigation Plan</div>
                                    <div class="risk-mitigation-text">${risk.mitigation}</div>
                                </div>
                                ` : ''}
                                <div class="risk-status-row">
                                    <div class="risk-status-badge ${risk.resolved ? 'resolved' : 'active'}">
                                        ${risk.resolved ? 'âœ“ Resolved' : 'âš  Active'}
                                    </div>
                                    <div style="display: flex; gap: 8px;">
                                        <button class="cont-btn" onclick="RiskAssessment.toggleResolved(${idx})">
                                            ${risk.resolved ? 'â†© Reopen' : 'âœ“ Resolve'}
                                        </button>
                                        <button class="cont-btn delete" onclick="RiskAssessment.deleteRisk(${idx})">Ã— Delete</button>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            },
            
            filterByLevel(level, button) {
                document.querySelectorAll('.filter-chip').forEach(btn => btn.classList.remove('active'));
                if (button) button.classList.add('active');
                
                document.querySelectorAll('.risk-card').forEach(card => {
                    if (level === 'all' || card.dataset.level === level) {
                        card.style.display = '';
                    } else {
                        card.style.display = 'none';
                    }
                });
            },
            
            filterByStatus(status, button) {
                document.querySelectorAll('.filter-chip').forEach(btn => btn.classList.remove('active'));
                if (button) button.classList.add('active');
                
                document.querySelectorAll('.risk-card').forEach(card => {
                    const isResolved = card.dataset.resolved === 'true';
                    if ((status === 'active' && !isResolved) || (status === 'resolved' && isResolved)) {
                        card.style.display = '';
                    } else {
                        card.style.display = 'none';
                    }
                });
            },
            
            exportToCSV() {
                const risks = this.getData();
                if (risks.length === 0) {
                    alert('No risks to export');
                    return;
                }
                
                const headers = ['Category', 'Level', 'Description', 'Mitigation', 'Status'];
                const rows = risks.map(risk => [
                    risk.category,
                    risk.level,
                    risk.description,
                    risk.mitigation || '',
                    risk.resolved ? 'Resolved' : 'Active'
                ]);
                
                const csv = [headers, ...rows].map(row => row.map(cell => `"${cell}"`).join(',')).join('\n');
                const blob = new Blob([csv], { type: 'text/csv' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `Risk_Assessment_${new Date().toISOString().split('T')[0]}.csv`;
                a.click();
                Core.log('Risk assessment exported to CSV');
            },
            
            showAddRiskModal() {
                const modal = document.createElement('div');
                modal.className = 'modal active';
                modal.id = 'modal-add-risk';
                modal.innerHTML = `
                    <div class="modal-content">
                        <button class="modal-close" onclick="document.getElementById('modal-add-risk').remove()">Ã—</button>
                        <h2 class="modal-title">Add Risk Assessment</h2>
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Category</label>
                                <select id="risk-category">
                                    ${this.riskCategories.map(c => `<option value="${c}">${c}</option>`).join('')}
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Risk Level</label>
                                <select id="risk-level">
                                    <option value="Low">Low</option>
                                    <option value="Medium">Medium</option>
                                    <option value="High">High</option>
                                </select>
                            </div>
                            <div class="form-group full-width">
                                <label>Description</label>
                                <textarea id="risk-desc" placeholder="Describe the risk"></textarea>
                            </div>
                            <div class="form-group full-width">
                                <label>Mitigation Plan</label>
                                <textarea id="risk-mitigation" placeholder="How will this risk be mitigated?"></textarea>
                            </div>
                        </div>
                        <div class="modal-actions">
                            <button class="btn" onclick="document.getElementById('modal-add-risk').remove()">Cancel</button>
                            <button class="btn btn-primary" onclick="RiskAssessment.addRisk()">Add Risk</button>
                        </div>
                    </div>
                `;
                document.body.appendChild(modal);
            },
            
            addRisk() {
                const risks = this.getData();
                risks.push({
                    category: document.getElementById('risk-category').value,
                    level: document.getElementById('risk-level').value,
                    description: document.getElementById('risk-desc').value,
                    mitigation: document.getElementById('risk-mitigation').value,
                    resolved: false
                });
                Core.data.risks = risks;
                Core.save();
                document.getElementById('modal-add-risk').remove();
                this.render();
            },
            
            toggleResolved(idx) {
                const risks = this.getData();
                if (risks[idx]) {
                    risks[idx].resolved = !risks[idx].resolved;
                    Core.data.risks = risks;
                    Core.save();
                    this.render();
                }
            },
            
            deleteRisk(idx) {
                const risks = this.getData();
                risks.splice(idx, 1);
                Core.data.risks = risks;
                Core.save();
                this.render();
            }
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           NEW FEATURE 5: CONTACT DIRECTORY WITH DEPARTMENTS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const ContactDirectory = {
            departments: ['Production', 'Direction', 'Camera', 'Lighting', 'Sound', 'Art', 'Wardrobe', 'Hair/Makeup', 'Locations', 'Transportation', 'Catering', 'Post-Production', 'Other'],
            
            init() {
                this.render();
            },
            
            getData() {
                // Contacts are stored in bizData.contacts (object) or Core.data.contacts (array)
                // Normalize both sources into a unified array with department field
                const bizContacts = Core.bizData && Core.bizData.contacts
                    ? Object.values(Core.bizData.contacts)
                    : [];
                const dataContacts = Array.isArray(Core.data && Core.data.contacts)
                    ? Core.data.contacts
                    : [];
                // Merge, prefer bizData as authoritative
                const allById = {};
                dataContacts.forEach(c => { allById[c.id || c.name] = c; });
                bizContacts.forEach(c => { allById[c.id || c.name] = c; });
                return Object.values(allById);
            },
            
            render() {
                const container = document.getElementById('view-contacts');
                if (!container) return;
                
                const contacts = this.getData();
                const byDept = {};
                this.departments.forEach(d => byDept[d] = []);
                contacts.forEach(c => {
                    const dept = c.department && byDept[c.department] !== undefined ? c.department : 'Other';
                    if (!byDept[dept]) byDept[dept] = [];
                    byDept[dept].push(c);
                });
                
                const deptIcons = { Production:'ğŸ¬', Direction:'ğŸ­', Camera:'ğŸ“·', Lighting:'ğŸ’¡', Sound:'ğŸ™ï¸', Art:'ğŸ¨', Wardrobe:'ğŸ‘—', 'Hair/Makeup':'ğŸ’„', Locations:'ğŸ“', Transportation:'ğŸš', Catering:'ğŸ½ï¸', 'Post-Production':'ğŸ–¥ï¸', Other:'ğŸ“‹' };
                const deptColors = { Production:'rgba(34,211,238,.15)', Direction:'rgba(168,85,247,.15)', Camera:'rgba(251,191,36,.15)', Lighting:'rgba(251,191,36,.12)', Sound:'rgba(34,197,94,.15)', Art:'rgba(249,115,22,.15)', Wardrobe:'rgba(236,72,153,.15)', 'Hair/Makeup':'rgba(244,114,182,.15)', Locations:'rgba(20,184,166,.15)', Transportation:'rgba(99,102,241,.15)', Catering:'rgba(234,179,8,.15)', 'Post-Production':'rgba(6,182,212,.15)', Other:'rgba(148,163,184,.15)' };
                const deptAccents = { Production:'#22d3ee', Direction:'#a855f7', Camera:'#fbbf24', Lighting:'#facc15', Sound:'#22c55e', Art:'#f97316', Wardrobe:'#ec4899', 'Hair/Makeup':'#f472b6', Locations:'#14b8a6', Transportation:'#6366f1', Catering:'#eab308', 'Post-Production':'#06b6d4', Other:'#94a3b8' };
                const activeDepts = this.departments.filter(d => byDept[d] && byDept[d].length > 0);
                
                container.innerHTML = `
                    <style>
                        .cd-banner { width:100%; height:175px; border-radius:14px; margin-bottom:28px; position:relative; overflow:hidden; }
                        .cd-banner-over { position:absolute; inset:0; background:linear-gradient(90deg,rgba(0,0,0,.75) 0%,rgba(0,0,0,.2) 55%,transparent 100%); z-index:2; }
                        .cd-banner-title { position:absolute; bottom:22px; left:28px; z-index:3; }
                        .cd-banner-title h1 { font-family:'Bebas Neue','Space Grotesk',sans-serif; font-size:42px; letter-spacing:6px; color:#fff; margin:0; line-height:1; text-shadow:0 2px 20px rgba(0,0,0,.6); }
                        .cd-banner-title p { font-family:'JetBrains Mono',monospace; font-size:10px; letter-spacing:3px; color:rgba(34,211,238,.85); margin:5px 0 0; text-transform:uppercase; }
                        .cd-banner-nums { position:absolute; bottom:22px; right:24px; z-index:3; display:flex; gap:24px; }
                        .cd-bn { text-align:right; }
                        .cd-bn-v { font-family:'Bebas Neue',sans-serif; font-size:34px; line-height:1; color:#22d3ee; }
                        .cd-bn-l { font-family:'JetBrains Mono',monospace; font-size:9px; letter-spacing:2px; color:rgba(255,255,255,.4); text-transform:uppercase; }
                        .cd-toolbar { display:flex; gap:10px; margin-bottom:16px; align-items:center; }
                        .cd-search { flex:1; padding:11px 16px; background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.1); border-radius:8px; color:var(--text-90); font-size:13px; font-family:var(--font-mono); transition:border-color .2s; }
                        .cd-search:focus { outline:none; border-color:#22d3ee; background:rgba(34,211,238,.04); }
                        .cd-search::placeholder { color:rgba(255,255,255,.22); }
                        .cd-filters { display:flex; gap:7px; flex-wrap:wrap; margin-bottom:28px; }
                        .cd-pill { padding:5px 13px; border-radius:20px; font-size:10px; letter-spacing:1px; font-family:var(--font-mono); text-transform:uppercase; cursor:pointer; border:1px solid rgba(255,255,255,.1); background:transparent; color:rgba(255,255,255,.4); transition:all .2s; }
                        .cd-pill:hover,.cd-pill.on { border-color:#22d3ee; color:#22d3ee; background:rgba(34,211,238,.08); }
                        .cd-pill.all.on { border-color:rgba(255,255,255,.4); color:#fff; background:rgba(255,255,255,.06); }
                        .cd-section { margin-bottom:36px; }
                        .cd-sec-hd { display:flex; align-items:center; gap:10px; margin-bottom:14px; padding-bottom:10px; border-bottom:1px solid rgba(255,255,255,.06); }
                        .cd-sec-icon { font-size:18px; }
                        .cd-sec-name { font-family:'Bebas Neue','Space Grotesk',sans-serif; font-size:18px; letter-spacing:3px; flex:1; }
                        .cd-sec-ct { font-family:'JetBrains Mono',monospace; font-size:10px; padding:3px 10px; border-radius:12px; letter-spacing:1px; }
                        .cd-cards { display:grid; grid-template-columns:repeat(auto-fill,minmax(270px,1fr)); gap:12px; }
                        .cd-card { background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.07); border-radius:10px; padding:16px 16px 12px; transition:all .22s; position:relative; overflow:hidden; }
                        .cd-card:hover { background:rgba(255,255,255,.07); border-color:rgba(255,255,255,.16); transform:translateY(-3px); box-shadow:0 10px 36px rgba(0,0,0,.35); }
                        .cd-top { display:flex; align-items:flex-start; gap:12px; margin-bottom:12px; }
                        .cd-av { width:42px; height:42px; border-radius:50%; flex-shrink:0; display:flex; align-items:center; justify-content:center; font-family:'Bebas Neue','Space Grotesk',sans-serif; font-size:15px; letter-spacing:1px; color:#fff; }
                        .cd-inf { flex:1; min-width:0; }
                        .cd-name { font-size:14px; font-weight:600; color:var(--text-100); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; margin-bottom:2px; }
                        .cd-role { font-size:10px; color:rgba(255,255,255,.42); font-family:var(--font-mono); letter-spacing:.4px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
                        .cd-del { background:transparent; border:none; color:rgba(255,255,255,.18); cursor:pointer; font-size:18px; line-height:1; transition:color .2s; flex-shrink:0; padding:0; }
                        .cd-del:hover { color:#f43f5e; }
                        .cd-acts { display:flex; gap:6px; flex-wrap:wrap; }
                        .cd-act { display:flex; align-items:center; gap:4px; padding:4px 9px; border-radius:6px; font-size:10px; font-family:var(--font-mono); text-decoration:none; background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.09); color:rgba(255,255,255,.55); cursor:pointer; transition:all .2s; }
                        .cd-act:hover { background:rgba(255,255,255,.1); color:#fff; }
                        .cd-act.ph:hover { background:rgba(34,197,94,.15); border-color:#22c55e60; color:#22c55e; }
                        .cd-act.em:hover { background:rgba(34,211,238,.15); border-color:#22d3ee60; color:#22d3ee; }
                        .cd-act.er:hover { background:rgba(244,63,94,.15); border-color:#f43f5e60; color:#f43f5e; }
                        .cd-notes { margin-top:10px; padding-top:8px; border-top:1px solid rgba(255,255,255,.05); font-size:10px; color:rgba(255,255,255,.28); font-style:italic; line-height:1.5; }
                        .cd-empty { text-align:center; padding:80px 20px; border:2px dashed rgba(255,255,255,.07); border-radius:14px; }
                        .cd-empty-icon { font-size:50px; margin-bottom:14px; opacity:.35; }
                        .cd-empty-t { font-family:'Bebas Neue',sans-serif; font-size:24px; letter-spacing:4px; color:rgba(255,255,255,.28); margin-bottom:8px; }
                        .cd-empty-s { font-size:11px; color:rgba(255,255,255,.18); font-family:var(--font-mono); }
                    </style>

                    <!-- Banner -->
                    <div class="cd-banner">
                        <svg viewBox="0 0 900 175" preserveAspectRatio="xMidYMid slice" style="position:absolute;inset:0;width:100%;height:100%;">
                            <defs>
                                <linearGradient id="cdbg" x1="0" y1="0" x2="1" y2="1">
                                    <stop offset="0%" stop-color="#0a1628"/>
                                    <stop offset="50%" stop-color="#0d2042"/>
                                    <stop offset="100%" stop-color="#060e1c"/>
                                </linearGradient>
                                <radialGradient id="cdg1" cx="80%" cy="30%" r="50%">
                                    <stop offset="0%" stop-color="rgba(34,211,238,0.22)"/>
                                    <stop offset="100%" stop-color="rgba(34,211,238,0)"/>
                                </radialGradient>
                                <radialGradient id="cdg2" cx="15%" cy="80%" r="45%">
                                    <stop offset="0%" stop-color="rgba(168,85,247,0.18)"/>
                                    <stop offset="100%" stop-color="rgba(168,85,247,0)"/>
                                </radialGradient>
                            </defs>
                            <rect width="900" height="175" fill="url(#cdbg)"/>
                            <rect width="900" height="175" fill="url(#cdg1)"/>
                            <rect width="900" height="175" fill="url(#cdg2)"/>
                            <g stroke="rgba(34,211,238,0.05)" stroke-width="1">
                                <line x1="0" y1="35" x2="900" y2="35"/><line x1="0" y1="70" x2="900" y2="70"/>
                                <line x1="0" y1="105" x2="900" y2="105"/><line x1="0" y1="140" x2="900" y2="140"/>
                                <line x1="180" y1="0" x2="180" y2="175"/><line x1="360" y1="0" x2="360" y2="175"/>
                                <line x1="540" y1="0" x2="540" y2="175"/><line x1="720" y1="0" x2="720" y2="175"/>
                            </g>
                            <!-- Person icons -->
                            <g fill="none" stroke="rgba(34,211,238,0.25)" stroke-width="1.5">
                                <circle cx="750" cy="65" r="28"/><circle cx="750" cy="65" r="18"/>
                                <circle cx="750" cy="54" r="7"/><path d="M729,82 Q750,71 771,82" stroke-width="2"/>
                            </g>
                            <g fill="none" stroke="rgba(168,85,247,0.22)" stroke-width="1.5">
                                <circle cx="810" cy="115" r="22"/><circle cx="810" cy="115" r="13"/>
                                <circle cx="810" cy="106" r="5.5"/><path d="M794,128 Q810,118 826,128"/>
                            </g>
                            <g fill="none" stroke="rgba(251,191,36,0.18)" stroke-width="1.5">
                                <circle cx="685" cy="130" r="18"/><circle cx="685" cy="122" r="6"/>
                                <path d="M671,142 Q685,133 699,142"/>
                            </g>
                            <line x1="722" y1="65" x2="689" y2="124" stroke="rgba(255,255,255,0.05)" stroke-dasharray="3,5"/>
                            <line x1="750" y1="93" x2="810" y2="93" stroke="rgba(255,255,255,0.05)" stroke-dasharray="3,5"/>
                        </svg>
                        <div class="cd-banner-over"></div>
                        <div class="cd-banner-title">
                            <h1>CONTACT DIRECTORY</h1>
                            <p>Production Crew &amp; Contacts</p>
                        </div>
                        <div class="cd-banner-nums">
                            <div class="cd-bn"><div class="cd-bn-v">${contacts.length}</div><div class="cd-bn-l">Contacts</div></div>
                            <div class="cd-bn"><div class="cd-bn-v">${activeDepts.length}</div><div class="cd-bn-l">Depts</div></div>
                        </div>
                    </div>

                    <!-- Toolbar -->
                    <div class="cd-toolbar">
                        <input type="text" class="cd-search" id="contact-search" placeholder="Search by name, role, departmentâ€¦" oninput="ContactDirectory.filterContacts()">
                        <button class="btn btn-sm" onclick="ContactDirectory.exportToCSV()">Export CSV</button>
                        <button class="btn btn-sm btn-primary" onclick="ContactDirectory.showAddContactModal()">+ Add Contact</button>
                    </div>

                    <!-- Dept filters -->
                    <div class="cd-filters" id="cd-filters">
                        <button class="cd-pill all on" onclick="ContactDirectory.filterByDept('all',this)">All</button>
                        ${activeDepts.map(d => `<button class="cd-pill" onclick="ContactDirectory.filterByDept('${d}',this)">${deptIcons[d]||''} ${d}</button>`).join('')}
                    </div>

                    <!-- Sections -->
                    ${contacts.length === 0 ? `
                        <div class="cd-empty">
                            <div class="cd-empty-icon">ğŸ“‡</div>
                            <div class="cd-empty-t">No Contacts Yet</div>
                            <div class="cd-empty-s">Click "+ Add Contact" to build your crew directory</div>
                        </div>
                    ` : `
                        <div id="cd-sections">
                            ${activeDepts.map(dept => `
                                <div class="cd-section" data-ds="${dept}">
                                    <div class="cd-sec-hd">
                                        <span class="cd-sec-icon">${deptIcons[dept]||'ğŸ“‹'}</span>
                                        <span class="cd-sec-name" style="color:${deptAccents[dept]||'#22d3ee'}">${dept}</span>
                                        <span class="cd-sec-ct" style="background:${deptColors[dept]||'rgba(34,211,238,.12)'};color:${deptAccents[dept]||'#22d3ee'};border:1px solid ${deptAccents[dept]||'#22d3ee'}50">
                                            ${byDept[dept].length} ${byDept[dept].length===1?'person':'people'}
                                        </span>
                                    </div>
                                    <div class="cd-cards">
                                        ${byDept[dept].map(c => {
                                            const ini = c.name.split(' ').map(w=>w[0]).join('').substring(0,2).toUpperCase();
                                            const ac = deptAccents[dept]||'#22d3ee';
                                            const bg = deptColors[dept]||'rgba(34,211,238,.15)';
                                            return `
                                            <div class="cd-card" data-name="${c.name.toLowerCase()}" data-role="${(c.role||'').toLowerCase()}" data-dept="${dept.toLowerCase()}">
                                                <div style="position:absolute;top:0;left:0;right:0;height:3px;background:${ac};opacity:.6;"></div>
                                                <div class="cd-top">
                                                    <div class="cd-av" style="background:${bg};border:1.5px solid ${ac}60;">${ini}</div>
                                                    <div class="cd-inf">
                                                        <div class="cd-name">${clean(c.name)}</div>
                                                        <div class="cd-role">${c.role||'No role'}${c.company?' Â· '+clean(c.company):''}</div>
                                                    </div>
                                                    <button class="cd-del" onclick="ContactDirectory.deleteContact('${c.id}')">Ã—</button>
                                                </div>
                                                <div class="cd-acts">
                                                    ${c.phone?`<a href="tel:${clean(c.phone)}" class="cd-act ph">ğŸ“ ${clean(c.phone)}</a>`:''}
                                                    ${c.email?`<a href="mailto:${clean(c.email)}" class="cd-act em">âœ‰ ${clean(c.email)}</a>`:''}
                                                    ${c.emergency?`<span class="cd-act er">ğŸš¨ ${clean(c.emergency)}</span>`:''}
                                                </div>
                                                ${c.notes?`<div class="cd-notes">ğŸ“ ${clean(c.notes).substring(0,80)}${c.notes.length>80?'â€¦':''}</div>`:''}
                                            </div>`;
                                        }).join('')}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    `}
                `;
            },
            
            filterByDept(dept, btn) {
                // Toggle active pill
                document.querySelectorAll('.cd-pill').forEach(p => p.classList.remove('on'));
                btn.classList.add('on');
                // Show/hide sections
                document.querySelectorAll('.cd-section[data-ds]').forEach(sec => {
                    sec.style.display = (dept === 'all' || sec.dataset.ds === dept) ? '' : 'none';
                });
            },

            filterContacts() {
                const query = document.getElementById('contact-search').value.toLowerCase();
                document.querySelectorAll('.cd-card').forEach(card => {
                    const name = card.dataset.name || '';
                    const role = card.dataset.role || '';
                    const dept = card.dataset.dept || '';
                    card.style.display = (name.includes(query) || role.includes(query) || dept.includes(query)) ? '' : 'none';
                });
                // Hide empty sections
                document.querySelectorAll('.cd-section').forEach(sec => {
                    const visible = sec.querySelectorAll('.cd-card:not([style*="display: none"])');
                    sec.style.display = visible.length > 0 ? '' : 'none';
                });
            },
            
            deleteContact(id) {
                if (!confirm('Delete this contact?')) return;
                // Remove from bizData
                if (Core.bizData.contacts && Core.bizData.contacts[id]) {
                    delete Core.bizData.contacts[id];
                }
                // Remove from data.contacts (array format)
                if (Array.isArray(Core.data.contacts)) {
                    Core.data.contacts = Core.data.contacts.filter(c => String(c.id) !== String(id));
                }
                Core.save();
                this.render();
                Core.log('Contact deleted');
            },

            exportToCSV() {
                const contacts = this.getData();
                if (contacts.length === 0) {
                    alert('No contacts to export');
                    return;
                }
                
                const headers = ['Name', 'Role', 'Department', 'Phone', 'Email', 'Emergency Contact'];
                const rows = contacts.map(c => [
                    c.name,
                    c.role || '',
                    c.department,
                    c.phone || '',
                    c.email || '',
                    c.emergency || ''
                ]);
                
                const csv = [headers, ...rows].map(row => row.map(cell => `"${cell}"`).join(',')).join('\n');
                const blob = new Blob([csv], { type: 'text/csv' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `Contact_Directory_${new Date().toISOString().split('T')[0]}.csv`;
                a.click();
                Core.log('Contact directory exported to CSV');
            },
            
            showAddContactModal() {
                const modal = document.createElement('div');
                modal.className = 'modal active';
                modal.id = 'modal-add-contact';
                modal.innerHTML = `
                    <div class="modal-content">
                        <button class="modal-close" onclick="document.getElementById('modal-add-contact').remove()">Ã—</button>
                        <h2 class="modal-title">Add Contact</h2>
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Name</label>
                                <input type="text" id="contact-name" placeholder="Full name">
                            </div>
                            <div class="form-group">
                                <label>Role/Title</label>
                                <input type="text" id="contact-role" placeholder="Job title">
                            </div>
                            <div class="form-group">
                                <label>Department</label>
                                <select id="contact-dept">
                                    ${this.departments.map(d => `<option value="${d}">${d}</option>`).join('')}
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Phone</label>
                                <input type="tel" id="contact-phone" placeholder="Phone number">
                            </div>
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" id="contact-email" placeholder="Email address">
                            </div>
                            <div class="form-group">
                                <label>Emergency Contact</label>
                                <input type="text" id="contact-emergency" placeholder="Emergency phone">
                            </div>
                        </div>
                        <div class="modal-actions">
                            <button class="btn" onclick="document.getElementById('modal-add-contact').remove()">Cancel</button>
                            <button class="btn btn-primary" onclick="ContactDirectory.addContact()">Add Contact</button>
                        </div>
                    </div>
                `;
                document.body.appendChild(modal);
            },
            
            addContact() {
                const contacts = this.getData();
                contacts.push({
                    name: document.getElementById('contact-name').value,
                    role: document.getElementById('contact-role').value,
                    department: document.getElementById('contact-dept').value,
                    phone: document.getElementById('contact-phone').value,
                    email: document.getElementById('contact-email').value,
                    emergency: document.getElementById('contact-emergency').value
                });
                Core.data.contacts = contacts;
                Core.save();
                document.getElementById('modal-add-contact').remove();
                this.render();
            }
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           NEW FEATURE 6: PRODUCTION TIMELINE/MILESTONES
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const Milestones = {
            phases: ['Development', 'Pre-Production', 'Production', 'Post-Production', 'Distribution'],
            
            init() {
                this.render();
            },
            
            getData() {
                return Core.data.milestones || [];
            },
            
            render() {
                const container = document.getElementById('view-milestones');
                if (!container) return;
                
                const milestones = this.getData();
                const completed = milestones.filter(m => m.completed).length;
                const upcoming = milestones.filter(m => !m.completed && new Date(m.dueDate) >= new Date()).length;
                const overdue = milestones.filter(m => !m.completed && new Date(m.dueDate) < new Date()).length;
                const progress = milestones.length > 0 ? Math.round((completed / milestones.length) * 100) : 0;
                
                const byPhase = {};
                this.phases.forEach(p => byPhase[p] = milestones.filter(m => m.phase === p));
                
                container.innerHTML = `
                    <style>
                        /* â”€â”€ Milestones Banner â”€â”€ */
                        .ms-banner { width:100%; height:175px; border-radius:14px; margin-bottom:28px; position:relative; overflow:hidden; }
                        .ms-banner-over { position:absolute;inset:0; background:linear-gradient(90deg,rgba(0,0,0,.75) 0%,rgba(0,0,0,.2) 55%,transparent 100%); z-index:2; }
                        .ms-banner-title { position:absolute; bottom:22px; left:28px; z-index:3; }
                        .ms-banner-title h1 { font-family:'Bebas Neue','Space Grotesk',sans-serif; font-size:42px; letter-spacing:6px; color:#fff; margin:0; line-height:1; text-shadow:0 2px 20px rgba(0,0,0,.6); }
                        .ms-banner-title p { font-family:'JetBrains Mono',monospace; font-size:10px; letter-spacing:3px; color:rgba(168,85,247,.9); margin:5px 0 0; text-transform:uppercase; }
                        .ms-banner-nums { position:absolute; bottom:22px; right:24px; z-index:3; display:flex; gap:24px; }
                        .ms-bn { text-align:right; }
                        .ms-bn-v { font-family:'Bebas Neue',sans-serif; font-size:34px; line-height:1; }
                        .ms-bn-l { font-family:'JetBrains Mono',monospace; font-size:9px; letter-spacing:2px; color:rgba(255,255,255,.4); text-transform:uppercase; }
                        /* â”€â”€ Progress bar â”€â”€ */
                        .ms-progress-wrap { background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.08); border-radius:10px; padding:20px; margin-bottom:28px; }
                        .ms-progress-top { display:flex; justify-content:space-between; margin-bottom:10px; font-family:'JetBrains Mono',monospace; font-size:12px; color:rgba(255,255,255,.5); }
                        .ms-progress-top span:last-child { color:#22d3ee; font-weight:700; }
                        .ms-bar { width:100%; height:10px; background:rgba(255,255,255,.07); border-radius:5px; overflow:hidden; }
                        .ms-bar-fill { height:100%; background:linear-gradient(90deg,#a855f7,#22d3ee); border-radius:5px; transition:width .7s cubic-bezier(.4,0,.2,1); }
                        /* â”€â”€ Stats row â”€â”€ */
                        .ms-stats { display:grid; grid-template-columns:repeat(4,1fr); gap:12px; margin-bottom:28px; }
                        .ms-stat { background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.07); border-radius:10px; padding:16px; text-align:center; }
                        .ms-stat-val { font-family:'Bebas Neue',sans-serif; font-size:36px; line-height:1; margin-bottom:4px; }
                        .ms-stat-lbl { font-family:'JetBrains Mono',monospace; font-size:9px; letter-spacing:2px; text-transform:uppercase; color:rgba(255,255,255,.35); }
                        /* â”€â”€ Toolbar â”€â”€ */
                        .ms-toolbar { display:flex; gap:10px; align-items:center; margin-bottom:20px; flex-wrap:wrap; }
                        .ms-phase-pills { display:flex; gap:7px; flex-wrap:wrap; flex:1; }
                        .ms-pill { padding:5px 13px; border-radius:20px; font-size:10px; letter-spacing:1px; font-family:'JetBrains Mono',monospace; text-transform:uppercase; cursor:pointer; border:1px solid rgba(255,255,255,.1); background:transparent; color:rgba(255,255,255,.4); transition:all .2s; }
                        .ms-pill.on,.ms-pill:hover { border-color:#a855f7; color:#a855f7; background:rgba(168,85,247,.08); }
                        .ms-pill.all.on { border-color:rgba(255,255,255,.4); color:#fff; background:rgba(255,255,255,.06); }
                        /* â”€â”€ Timeline â”€â”€ */
                        .ms-timeline { position:relative; padding-left:36px; }
                        .ms-timeline::before { content:''; position:absolute; left:10px; top:8px; bottom:8px; width:2px; background:linear-gradient(180deg,#a855f7,rgba(168,85,247,.1)); }
                        .ms-item { position:relative; margin-bottom:20px; }
                        .ms-dot { position:absolute; left:-30px; top:14px; width:18px; height:18px; border-radius:50%; border:2.5px solid #a855f7; background:var(--surface-2); transition:all .2s; z-index:1; }
                        .ms-item.done .ms-dot { border-color:#22c55e; background:#22c55e; }
                        .ms-item.late .ms-dot { border-color:#f43f5e; background:#f43f5e; animation:msPulse 2s infinite; }
                        @keyframes msPulse { 0%,100%{box-shadow:0 0 0 0 rgba(244,63,94,.6)} 50%{box-shadow:0 0 0 8px rgba(244,63,94,0)} }
                        .ms-card { background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.07); border-radius:10px; padding:18px; transition:all .22s; }
                        .ms-card:hover { background:rgba(255,255,255,.07); border-color:rgba(255,255,255,.15); transform:translateX(4px); }
                        .ms-item.done .ms-card { border-color:rgba(34,197,94,.2); background:rgba(34,197,94,.04); }
                        .ms-item.late .ms-card { border-color:rgba(244,63,94,.25); background:rgba(244,63,94,.04); }
                        .ms-card-top { display:flex; justify-content:space-between; align-items:flex-start; gap:12px; margin-bottom:10px; }
                        .ms-card-left { flex:1; }
                        .ms-phase-tag { display:inline-block; padding:3px 10px; border-radius:4px; font-size:9px; font-family:'JetBrains Mono',monospace; letter-spacing:1.5px; text-transform:uppercase; background:rgba(168,85,247,.15); color:#a855f7; border:1px solid rgba(168,85,247,.3); margin-bottom:8px; }
                        .ms-title { font-size:17px; font-weight:600; color:var(--text-100); margin-bottom:4px; }
                        .ms-desc { font-size:12px; color:rgba(255,255,255,.45); line-height:1.6; }
                        .ms-card-right { text-align:right; flex-shrink:0; }
                        .ms-date { font-family:'JetBrains Mono',monospace; font-size:11px; color:rgba(255,255,255,.4); margin-bottom:6px; }
                        .ms-status-tag { padding:4px 10px; border-radius:6px; font-size:10px; font-family:'JetBrains Mono',monospace; letter-spacing:1px; text-transform:uppercase; }
                        .ms-status-tag.done { background:rgba(34,197,94,.15); color:#22c55e; border:1px solid rgba(34,197,94,.3); }
                        .ms-status-tag.late { background:rgba(244,63,94,.15); color:#f43f5e; border:1px solid rgba(244,63,94,.3); }
                        .ms-status-tag.upcoming { background:rgba(168,85,247,.12); color:#a855f7; border:1px solid rgba(168,85,247,.25); }
                        .ms-card-actions { display:flex; gap:8px; margin-top:14px; }
                        .ms-act { padding:6px 14px; border-radius:6px; font-size:11px; font-family:'JetBrains Mono',monospace; cursor:pointer; transition:all .2s; border:1px solid; }
                        .ms-act.complete { border-color:rgba(34,197,94,.4); color:#22c55e; background:rgba(34,197,94,.08); }
                        .ms-act.complete:hover { background:rgba(34,197,94,.2); }
                        .ms-act.reopen { border-color:rgba(255,255,255,.2); color:rgba(255,255,255,.5); background:transparent; }
                        .ms-act.reopen:hover { border-color:rgba(255,255,255,.4); color:#fff; }
                        .ms-act.del { border-color:rgba(244,63,94,.3); color:rgba(244,63,94,.7); background:transparent; }
                        .ms-act.del:hover { background:rgba(244,63,94,.15); color:#f43f5e; }
                        .ms-empty { text-align:center; padding:80px 20px; border:2px dashed rgba(255,255,255,.07); border-radius:14px; }
                        .ms-empty-icon { font-size:50px; margin-bottom:14px; opacity:.35; }
                        .ms-empty-t { font-family:'Bebas Neue',sans-serif; font-size:24px; letter-spacing:4px; color:rgba(255,255,255,.28); margin-bottom:8px; }
                        .ms-empty-s { font-size:11px; color:rgba(255,255,255,.18); font-family:'JetBrains Mono',monospace; }
                    </style>

                    <!-- Banner -->
                    <div class="ms-banner">
                        <svg viewBox="0 0 900 175" preserveAspectRatio="xMidYMid slice" style="position:absolute;inset:0;width:100%;height:100%;">
                            <defs>
                                <linearGradient id="msbg" x1="0" y1="0" x2="1" y2="1">
                                    <stop offset="0%" stop-color="#120a28"/>
                                    <stop offset="50%" stop-color="#1a0e38"/>
                                    <stop offset="100%" stop-color="#0a0618"/>
                                </linearGradient>
                                <radialGradient id="msg1" cx="75%" cy="25%" r="50%">
                                    <stop offset="0%" stop-color="rgba(168,85,247,0.3)"/>
                                    <stop offset="100%" stop-color="rgba(168,85,247,0)"/>
                                </radialGradient>
                                <radialGradient id="msg2" cx="20%" cy="75%" r="45%">
                                    <stop offset="0%" stop-color="rgba(34,211,238,0.15)"/>
                                    <stop offset="100%" stop-color="rgba(34,211,238,0)"/>
                                </radialGradient>
                            </defs>
                            <rect width="900" height="175" fill="url(#msbg)"/>
                            <rect width="900" height="175" fill="url(#msg1)"/>
                            <rect width="900" height="175" fill="url(#msg2)"/>
                            <g stroke="rgba(168,85,247,0.07)" stroke-width="1">
                                <line x1="0" y1="35" x2="900" y2="35"/><line x1="0" y1="70" x2="900" y2="70"/>
                                <line x1="0" y1="105" x2="900" y2="105"/><line x1="0" y1="140" x2="900" y2="140"/>
                                <line x1="180" y1="0" x2="180" y2="175"/><line x1="360" y1="0" x2="360" y2="175"/>
                                <line x1="540" y1="0" x2="540" y2="175"/><line x1="720" y1="0" x2="720" y2="175"/>
                            </g>
                            <!-- Timeline visual -->
                            <line x1="680" y1="20" x2="680" y2="158" stroke="rgba(168,85,247,0.3)" stroke-width="2"/>
                            <circle cx="680" cy="40" r="8" fill="rgba(34,197,94,0.8)" stroke="rgba(34,197,94,0.4)" stroke-width="3"/>
                            <circle cx="680" cy="72" r="8" fill="rgba(34,197,94,0.8)" stroke="rgba(34,197,94,0.4)" stroke-width="3"/>
                            <circle cx="680" cy="104" r="8" fill="rgba(168,85,247,0.8)" stroke="rgba(168,85,247,0.4)" stroke-width="3"/>
                            <circle cx="680" cy="136" r="8" fill="rgba(255,255,255,0.15)" stroke="rgba(168,85,247,0.4)" stroke-width="3"/>
                            <rect x="695" y="33" width="120" height="14" rx="3" fill="rgba(34,197,94,0.15)" stroke="rgba(34,197,94,0.3)" stroke-width="1"/>
                            <rect x="695" y="65" width="90" height="14" rx="3" fill="rgba(34,197,94,0.15)" stroke="rgba(34,197,94,0.3)" stroke-width="1"/>
                            <rect x="695" y="97" width="140" height="14" rx="3" fill="rgba(168,85,247,0.15)" stroke="rgba(168,85,247,0.3)" stroke-width="1"/>
                            <rect x="695" y="129" width="100" height="14" rx="3" fill="rgba(255,255,255,0.05)" stroke="rgba(255,255,255,0.15)" stroke-width="1"/>
                            <!-- Milestone diamond -->
                            <polygon points="750,78 760,88 750,98 740,88" fill="rgba(251,191,36,0.6)" stroke="rgba(251,191,36,0.4)" stroke-width="2"/>
                            <polygon points="820,50 830,60 820,70 810,60" fill="rgba(168,85,247,0.5)" stroke="rgba(168,85,247,0.4)" stroke-width="2"/>
                        </svg>
                        <div class="ms-banner-over"></div>
                        <div class="ms-banner-title">
                            <h1>MILESTONES</h1>
                            <p>Production Timeline &amp; Phases</p>
                        </div>
                        <div class="ms-banner-nums">
                            <div class="ms-bn"><div class="ms-bn-v" style="color:#22c55e">${completed}</div><div class="ms-bn-l">Done</div></div>
                            <div class="ms-bn"><div class="ms-bn-v" style="color:#a855f7">${upcoming}</div><div class="ms-bn-l">Upcoming</div></div>
                            <div class="ms-bn"><div class="ms-bn-v" style="color:#f43f5e">${overdue}</div><div class="ms-bn-l">Overdue</div></div>
                        </div>
                    </div>

                    <!-- Stats + progress -->
                    <div class="ms-progress-wrap">
                        <div class="ms-progress-top">
                            <span>${completed} of ${milestones.length} milestones completed</span>
                            <span>${progress}%</span>
                        </div>
                        <div class="ms-bar"><div class="ms-bar-fill" style="width:${progress}%"></div></div>
                    </div>

                    <!-- Toolbar -->
                    <div class="ms-toolbar">
                        <div class="ms-phase-pills">
                            <button class="ms-pill all on" onclick="Milestones.filterPhase('all',this)">All Phases</button>
                            ${this.phases.map(p => `<button class="ms-pill" onclick="Milestones.filterPhase('${p}',this)">${p}</button>`).join('')}
                        </div>
                        <button class="btn btn-sm btn-primary" onclick="Milestones.showAddMilestoneModal()">+ Add Milestone</button>
                    </div>

                    <!-- Timeline -->
                    ${milestones.length === 0 ? `
                        <div class="ms-empty">
                            <div class="ms-empty-icon">ğŸ</div>
                            <div class="ms-empty-t">No Milestones Yet</div>
                            <div class="ms-empty-s">Click "+ Add Milestone" to build your production timeline</div>
                        </div>
                    ` : `
                        <div class="ms-timeline" id="ms-timeline">
                            ${milestones.sort((a,b) => new Date(a.dueDate)-new Date(b.dueDate)).map((m, idx) => {
                                const isOverdue = !m.completed && new Date(m.dueDate) < new Date();
                                const statusClass = m.completed ? 'done' : isOverdue ? 'late' : 'upcoming';
                                const statusLabel = m.completed ? 'Completed' : isOverdue ? 'Overdue' : 'Upcoming';
                                return `
                                <div class="ms-item ${statusClass}" data-phase="${m.phase}">
                                    <div class="ms-dot"></div>
                                    <div class="ms-card">
                                        <div class="ms-card-top">
                                            <div class="ms-card-left">
                                                <div class="ms-phase-tag">${clean(m.phase)}</div>
                                                <div class="ms-title">${clean(m.title)}</div>
                                                ${m.description ? `<div class="ms-desc">${clean(m.description)}</div>` : ''}
                                            </div>
                                            <div class="ms-card-right">
                                                <div class="ms-date">ğŸ“… ${m.dueDate}</div>
                                                <div class="ms-status-tag ${statusClass}">${statusLabel}</div>
                                            </div>
                                        </div>
                                        <div class="ms-card-actions">
                                            ${m.completed
                                                ? `<button class="ms-act reopen" onclick="Milestones.toggleComplete(${idx})">â†© Reopen</button>`
                                                : `<button class="ms-act complete" onclick="Milestones.toggleComplete(${idx})">âœ“ Mark Complete</button>`
                                            }
                                            <button class="ms-act del" onclick="Milestones.deleteMilestone(${idx})">Ã— Delete</button>
                                        </div>
                                    </div>
                                </div>`;
                            }).join('')}
                        </div>
                    `}
                `;
            },
            
            filterPhase(phase, btn) {
                document.querySelectorAll('.ms-pill').forEach(p => p.classList.remove('on'));
                btn.classList.add('on');
                document.querySelectorAll('.ms-item[data-phase]').forEach(item => {
                    item.style.display = (phase === 'all' || item.dataset.phase === phase) ? '' : 'none';
                });
            },

            showAddMilestoneModal() {
                const modal = document.createElement('div');
                modal.className = 'modal active';
                modal.id = 'modal-add-milestone';
                modal.innerHTML = `
                    <div class="modal-content">
                        <button class="modal-close" onclick="document.getElementById('modal-add-milestone').remove()">Ã—</button>
                        <h2 class="modal-title">Add Milestone</h2>
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Title</label>
                                <input type="text" id="milestone-title" placeholder="Milestone title">
                            </div>
                            <div class="form-group">
                                <label>Phase</label>
                                <select id="milestone-phase">
                                    ${this.phases.map(p => `<option value="${p}">${p}</option>`).join('')}
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Due Date</label>
                                <input type="date" id="milestone-date">
                            </div>
                            <div class="form-group full-width">
                                <label>Description</label>
                                <textarea id="milestone-desc" placeholder="Milestone description"></textarea>
                            </div>
                        </div>
                        <div class="modal-actions">
                            <button class="btn" onclick="document.getElementById('modal-add-milestone').remove()">Cancel</button>
                            <button class="btn btn-primary" onclick="Milestones.addMilestone()">Add Milestone</button>
                        </div>
                    </div>
                `;
                document.body.appendChild(modal);
            },
            
            addMilestone() {
                const milestones = this.getData();
                milestones.push({
                    title: document.getElementById('milestone-title').value,
                    phase: document.getElementById('milestone-phase').value,
                    dueDate: document.getElementById('milestone-date').value,
                    description: document.getElementById('milestone-desc').value,
                    completed: false
                });
                Core.data.milestones = milestones;
                Core.save();
                document.getElementById('modal-add-milestone').remove();
                this.render();
            },
            
            toggleComplete(idx) {
                const milestones = this.getData();
                if (milestones[idx]) {
                    milestones[idx].completed = !milestones[idx].completed;
                    Core.data.milestones = milestones;
                    Core.save();
                    this.render();
                }
            },
            
            deleteMilestone(idx) {
                const milestones = this.getData();
                milestones.splice(idx, 1);
                Core.data.milestones = milestones;
                Core.save();
                this.render();
            }
        };

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ADVANCED DATA EXPORT/IMPORT
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
       
        const DataManager = {
            // â”€â”€â”€ TOAST NOTIFICATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            toast(msg, type='info', duration=3500) {
                const el = document.getElementById('eb-toast');
                if (!el) return;
                el.textContent = msg;
                el.className = `eb-toast toast-${type} show`;
                clearTimeout(this._toastTimer);
                this._toastTimer = setTimeout(() => el.classList.remove('show'), duration);
            },

            // â”€â”€â”€ INIT EXPORT TAB â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            initExportTab() {
                this.updateStats();
                this.renderSaveStates();
                this.initDropZone();
                // Update prod sub-title
                const sub = document.getElementById('eb-prod-sub');
                if (sub) sub.textContent = Core.currentProduction && Core.currentProduction !== 'GLOBAL'
                    ? `Active: ${Core.currentProduction}`
                    : 'No production selected';
            },

            // â”€â”€â”€ STATS BAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            updateStats() {
                try {
                    const prods = Core.getProductions();
                    const saves = this.getSaveStates();
                    // Estimate total storage size
                    let totalBytes = 0;
                    for (let i = 0; i < localStorage.length; i++) {
                        const k = localStorage.key(i);
                        if (k && k.startsWith('dc_alacrity')) {
                            totalBytes += (localStorage.getItem(k) || '').length * 2; // UTF-16
                        }
                    }
                    const kb = Math.round(totalBytes / 1024);
                    const pEl = document.querySelector('#eb-stat-prods .eb-stat-num');
                    const sEl = document.querySelector('#eb-stat-saves .eb-stat-num');
                    const kEl = document.querySelector('#eb-stat-size .eb-stat-num');
                    if (pEl) pEl.textContent = prods.length;
                    if (sEl) sEl.textContent = saves.length;
                    if (kEl) kEl.textContent = kb;
                } catch(e) {}
            },

            // â”€â”€â”€ DRAG & DROP INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            initDropZone() {
                const zone = document.getElementById('eb-dropzone');
                if (!zone || zone._ddInit) return;
                zone._ddInit = true;
                zone.addEventListener('dragover', (e) => { e.preventDefault(); zone.classList.add('drag-over'); });
                zone.addEventListener('dragleave', () => zone.classList.remove('drag-over'));
                zone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    zone.classList.remove('drag-over');
                    const file = e.dataTransfer?.files?.[0];
                    if (file && file.name.endsWith('.json')) {
                        this._processImportFile(file);
                    } else {
                        this.toast('Please drop a .json backup file', 'error');
                    }
                });
            },

            // â”€â”€â”€ SAVE STATES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            SAVES_KEY: 'dc_alacrity_save_states',

            getSaveStates() {
                try { return JSON.parse(localStorage.getItem(this.SAVES_KEY) || '[]'); } catch(e) { return []; }
            },

            saveSaveStates(states) {
                localStorage.setItem(this.SAVES_KEY, JSON.stringify(states));
            },

            createSaveState() {
                const label = prompt('Name this save state (or leave blank for auto-name):', `Snapshot ${new Date().toLocaleString()}`);
                if (label === null) return; // cancelled

                const productionNames = Core.getProductions();
                const allProductions  = {};
                if (Core.currentProduction && Core.currentProduction !== 'GLOBAL') {
                    allProductions[Core.currentProduction] = Core.data;
                }
                productionNames.forEach(name => {
                    if (name !== Core.currentProduction) {
                        try {
                            const stored = localStorage.getItem('dc_alacrity_prod_' + name);
                            if (stored) allProductions[name] = JSON.parse(stored);
                        } catch(e) {}
                    }
                });

                const state = {
                    id: Date.now(),
                    label: label.trim() || `Snapshot ${new Date().toLocaleString()}`,
                    createdAt: new Date().toISOString(),
                    productions: productionNames,
                    productionCount: productionNames.length,
                    activeProduction: Core.currentProduction,
                    snapshot: {
                        bizData: Core.bizData,
                        productionsList: productionNames,
                        productions: allProductions
                    }
                };

                const states = this.getSaveStates();
                states.unshift(state);
                if (states.length > 20) states.pop(); // keep max 20
                this.saveSaveStates(states);
                this.renderSaveStates();
                this.updateStats();
                this.toast(`âœ“ Save state "${state.label}" created`, 'success');
                Core.log(`Save state created: ${state.label}`);
            },

            restoreSaveState(id) {
                const states = this.getSaveStates();
                const state  = states.find(s => s.id === id);
                if (!state) { this.toast('Save state not found', 'error'); return; }

                const snap = state.snapshot;
                if (!confirm(`Restore save state "${state.label}"?\n\nThis will replace all current data with the snapshot from:\n${new Date(state.createdAt).toLocaleString()}`)) return;

                try {
                    // Restore bizData
                    if (snap.bizData) {
                        Core.bizData = snap.bizData;
                        localStorage.setItem('dc_alacrity_biz', JSON.stringify(Core.bizData));
                    }
                    // Restore productions
                    const productionsList = snap.productionsList || Object.keys(snap.productions || {});
                    productionsList.forEach(name => {
                        if (snap.productions[name]) {
                            localStorage.setItem('dc_alacrity_prod_' + name, JSON.stringify(snap.productions[name]));
                        }
                    });
                    localStorage.setItem('dc_alacrity_productions', JSON.stringify(productionsList));

                    if (productionsList.length > 0) {
                        const firstName = state.activeProduction && productionsList.includes(state.activeProduction)
                            ? state.activeProduction : productionsList[0];
                        Core.currentProduction = firstName;
                        try {
                            const stored = localStorage.getItem('dc_alacrity_prod_' + firstName);
                            Core.data = stored
                                ? Core.deepMergeComplete(Core.getDefaultData(), JSON.parse(stored))
                                : Core.getDefaultData();
                        } catch(e) { Core.data = Core.getDefaultData(); }
                        Core.renderProductionDropdown();
                        const sel = document.getElementById('project-select');
                        if (sel) sel.value = firstName;
                        Core.renderDashboard();
                        const safeRender = (n, fn) => { try { fn(); } catch(e) { console.warn(n+' render failed:', e); } };
                        safeRender('Schedule',        () => Schedule.render());
                        safeRender('Days',            () => Days.render());
                        safeRender('Tech',            () => Tech.render());
                        safeRender('Vault',           () => Vault.render());
                        safeRender('CastCrew',        () => CastCrew.render());
                        safeRender('Financials',      () => Financials.render());
                        safeRender('ShotList',        () => ShotList.render());
                        safeRender('ContinuityLog',   () => ContinuityLog.render());
                        safeRender('RiskAssessment',  () => RiskAssessment.render());
                        safeRender('Milestones',      () => Milestones.render());
                        safeRender('Gantt',           () => Gantt.init());
                        safeRender('Notes',           () => Notes.load());
                    }

                    this.initExportTab();
                    this.toast(`âœ“ Restored "${state.label}"`, 'success');
                    Core.log(`Save state restored: ${state.label}`);
                } catch(err) {
                    this.toast('Restore failed: ' + err.message, 'error');
                    console.error('Restore error:', err);
                }
            },

            exportSaveState(id) {
                const states = this.getSaveStates();
                const state  = states.find(s => s.id === id);
                if (!state) return;
                const exportData = {
                    exportType: 'full_backup',
                    exportDate: state.createdAt,
                    saveStateLabel: state.label,
                    version: '2.0',
                    ...state.snapshot
                };
                this.downloadJSON(exportData, `SaveState_${state.label.replace(/[^a-z0-9]/gi,'_')}_${this.getDateString()}.json`);
                this.toast(`âœ“ Save state exported as JSON`, 'info');
            },

            deleteSaveState(id) {
                const states = this.getSaveStates();
                const state  = states.find(s => s.id === id);
                if (!state) return;
                if (!confirm(`Delete save state "${state.label}"?`)) return;
                const updated = states.filter(s => s.id !== id);
                this.saveSaveStates(updated);
                this.renderSaveStates();
                this.updateStats();
                this.toast('Save state deleted', 'warn');
            },

            renderSaveStates() {
                const container = document.getElementById('eb-saves-list');
                if (!container) return;
                const states = this.getSaveStates();

                if (states.length === 0) {
                    container.innerHTML = `
                        <div class="eb-saves-empty">
                            <div class="eb-saves-empty-icon">ğŸ•¹ï¸</div>
                            <div class="eb-saves-empty-text">No save states yet</div>
                            <div class="eb-saves-empty-sub">Click NEW above to snapshot the current system state</div>
                        </div>`;
                    return;
                }

                container.innerHTML = states.map(s => {
                    const d = new Date(s.createdAt);
                    const rel = this._relativeTime(d);
                    const prodList = (s.productions || []).slice(0, 3).join(', ') + (s.productionCount > 3 ? ` +${s.productionCount - 3}` : '');
                    return `
                        <div class="eb-save-item">
                            <div class="eb-save-dot"></div>
                            <div class="eb-save-meta">
                                <div class="eb-save-label" title="${s.label}">${s.label}</div>
                                <div class="eb-save-time">${rel} Â· ${d.toLocaleDateString()}</div>
                                <div class="eb-save-info">${s.productionCount || 0} prod${s.productionCount !== 1 ? 's' : ''}${prodList ? ' Â· ' + prodList : ''}</div>
                            </div>
                            <div class="eb-save-actions">
                                <button class="eb-save-btn eb-save-btn-restore" onclick="DataManager.restoreSaveState(${s.id})" title="Restore this save state">â†© RESTORE</button>
                                <button class="eb-save-btn eb-save-btn-export"  onclick="DataManager.exportSaveState(${s.id})"  title="Export as JSON file">â†“</button>
                                <button class="eb-save-btn eb-save-btn-del"     onclick="DataManager.deleteSaveState(${s.id})"  title="Delete save state">âœ•</button>
                            </div>
                        </div>`;
                }).join('');
            },

            _relativeTime(date) {
                const diff = Date.now() - date.getTime();
                const mins  = Math.floor(diff / 60000);
                const hours = Math.floor(diff / 3600000);
                const days  = Math.floor(diff / 86400000);
                if (mins < 1)    return 'Just now';
                if (mins < 60)   return `${mins}m ago`;
                if (hours < 24)  return `${hours}h ago`;
                return `${days}d ago`;
            },

            // Export Global CRM Only
            exportGlobalCRM() {
                const data = {
                    exportType: 'global_crm',
                    exportDate: new Date().toISOString(),
                    version: '1.0',
                    bizData: Core.bizData
                };
                this.downloadJSON(data, `GlobalCRM_${this.getDateString()}.json`);
                Core.log('Global CRM data exported');
                this.toast('âœ“ Global CRM exported', 'success');
            },

            // Export Current Production Only (JSON)
            exportProductionData() {
                if (Core.currentProduction === 'GLOBAL') { this.toast('Please select a production first', 'warn'); return; }
                const data = {
                    exportType: 'production',
                    exportDate: new Date().toISOString(),
                    version: '1.0',
                    productionName: Core.currentProduction,
                    productionData: Core.data
                };
                this.downloadJSON(data, `${clean(Core.currentProduction)}_${this.getDateString()}.json`);
                Core.log(`Production "${Core.currentProduction}" exported`);
                this.toast(`âœ“ Production "${Core.currentProduction}" exported`, 'success');
            },

            // â”€â”€â”€ SHARED REPORT HELPERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            _reportHelpers() {
                const has   = v => v !== undefined && v !== null && String(v).trim() !== '';
                const money = v => '$' + (parseFloat(v)||0).toLocaleString('en-US', {minimumFractionDigits:2, maximumFractionDigits:2});
                const pct   = (a, b) => b > 0 ? ((a/b)*100).toFixed(1) + '%' : '0.0%';
                const prog  = (d, t, w=30) => { const f = t>0 ? Math.min(Math.round((d/t)*w), w) : 0; return '[' + 'â–ˆ'.repeat(f) + 'â–‘'.repeat(w-f) + ']'; };
                const fld   = (label, val, indent=6) => has(val) ? ' '.repeat(indent) + label.padEnd(18) + String(val).trim() + '\n' : '';
                const SEC   = t => '\n' + 'â•'.repeat(72) + '\n  ' + t + '\n' + 'â•'.repeat(72) + '\n';
                const PSEC  = t => '\n' + 'â”€'.repeat(72) + '\n  â”€â”€ ' + t + '\n' + 'â”€'.repeat(72) + '\n';
                const NONE  = msg => '  ' + msg + '\n';
                const dl    = (blob, name) => { const u=URL.createObjectURL(blob); const a=document.createElement('a'); a.href=u; a.download=name; a.click(); URL.revokeObjectURL(u); };
                return { has, money, pct, prog, fld, SEC, PSEC, NONE, dl };
            },

            // â”€â”€â”€ BUILD PRODUCTION REPORT BLOCK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            _buildProductionBlock(prod, prodName, verbose) {
                const { has, money, pct, prog, fld, SEC, PSEC, NONE } = this._reportHelpers();

                const sched      = prod.schedule    || { strips: [] };
                const strips     = sched.strips     || [];
                const scenes     = strips.filter(s => s.type === 'scene');
                const banners    = strips.filter(s => s.type === 'banner');
                const shootDays  = strips.filter(s => s.type === 'shoot');
                const budget     = prod.budget      || { lines: [], pos: [] };
                const budLines   = budget.lines     || [];
                const poList     = budget.pos       || [];
                const milestones = prod.milestones  || [];
                const ganttProd  = (prod.gantt && prod.gantt.production) || [];
                const ganttGlob  = (prod.gantt && prod.gantt.global)     || [];
                const allTasks   = [...ganttProd, ...ganttGlob];
                const risks      = prod.risks       || [];
                const shots      = prod.shotlist    || [];
                const continuity = prod.continuity  || [];
                const contacts   = prod.contacts    || [];
                const castMap    = prod.cast        || {};
                const crewMap    = prod.crew        || {};
                const days       = prod.days        || [];
                const tech       = prod.tech        || [];
                const vault      = prod.vault       || [];
                const breakdowns = prod.breakdowns  || [];
                const crm        = prod.crm         || { leads: [], ledger: [] };
                const crmLeads   = crm.leads        || [];
                const crmLedger  = crm.ledger       || [];
                const notes      = prod.notes       || '';

                const castList   = Object.values(castMap).sort((a,b) => (a.name||'').localeCompare(b.name||''));
                const crewList   = Object.values(crewMap).sort((a,b) => (a.name||'').localeCompare(b.name||''));

                const totalEst    = budLines.reduce((s,l) => s+(parseFloat(l.est)||0), 0);
                const totalAct    = budLines.reduce((s,l) => s+(parseFloat(l.act)||0), 0);
                const overLines   = budLines.filter(l => (parseFloat(l.act)||0) > (parseFloat(l.est)||0));
                const poTotal     = poList.reduce((s,p) => s+(parseFloat(p.amount)||0), 0);
                const doneMile    = milestones.filter(m => m.completed);
                const overdueMile = milestones.filter(m => !m.completed && has(m.dueDate||m.date) && new Date(m.dueDate||m.date) < new Date());
                const doneTasks   = allTasks.filter(t => t.status==='Completed' || (t.progress||0)===100);
                const openRisks   = risks.filter(r => !r.resolved && r.status !== 'Resolved');
                const highRisks   = risks.filter(r => ['High','Critical'].includes(r.level||r.severity||r.riskSeverity||''));
                const shotDone    = shots.filter(s => s.status==='Completed' || s.completed);
                const shotIP      = shots.filter(s => s.status==='In Progress');
                const shotPlan    = shots.filter(s => !s.status || s.status==='Planned');
                const intSc       = scenes.filter(s => s.intext==='INT');
                const extSc       = scenes.filter(s => s.intext==='EXT');
                const daySc       = scenes.filter(s => s.daynight==='DAY');
                const nightSc     = scenes.filter(s => s.daynight==='NIGHT');
                const dawnSc      = scenes.filter(s => s.daynight==='DAWN');
                const duskSc      = scenes.filter(s => s.daynight==='DUSK');
                const totalPages  = scenes.reduce((s,sc) => s+(parseFloat(sc.pages)||0), 0);
                const uniqueLocs  = [...new Set(scenes.map(s=>s.location).filter(Boolean))];
                const crmVal      = crmLeads.reduce((s,l) => s+(parseFloat(l.value)||0), 0);
                const ledgTotal   = crmLedger.reduce((s,e) => s+(parseFloat(e.amount)||0), 0);

                let R = '';

                R += SEC('PRODUCTION INFORMATION');
                R += fld('Production Name', prodName);
                R += fld('Type',            prod.type);
                R += fld('Description',     prod.description);
                R += fld('Client / Studio', prod.client);
                R += fld('Director',        prod.director);
                if (prod.created)      R += fld('Created',       new Date(prod.created).toLocaleString());
                if (prod.lastModified) R += fld('Last Modified', new Date(prod.lastModified).toLocaleString());

                R += SEC('EXECUTIVE SUMMARY');
                R += '  SCHEDULE\n';
                if (scenes.length > 0) {
                    R += fld('Total Scenes',  `${scenes.length}   (INT: ${intSc.length}  EXT: ${extSc.length}  INT/EXT: ${scenes.length-intSc.length-extSc.length})`);
                    R += fld('Day/Night',     `DAY: ${daySc.length}  NIGHT: ${nightSc.length}` + (dawnSc.length?`  DAWN: ${dawnSc.length}`:'') + (duskSc.length?`  DUSK: ${duskSc.length}`:''));
                    R += fld('Total Pages',   totalPages.toFixed(1));
                    R += fld('Locations',     uniqueLocs.length + ' unique: ' + (uniqueLocs.length<=6 ? uniqueLocs.join(', ') : uniqueLocs.slice(0,6).join(', ') + ` + ${uniqueLocs.length-6} more`));
                } else {
                    R += NONE('  No scenes scheduled yet.');
                }
                R += fld('Shoot Days',    days.length > 0 ? days.length : 'None entered');
                R += '\n  TEAM\n';
                R += fld('Cast Members', castList.length > 0 ? castList.length : 'None entered');
                R += fld('Crew Members', crewList.length > 0 ? crewList.length : 'None entered');
                if (contacts.length) R += fld('Contacts', contacts.length);
                R += '\n  BUDGET\n';
                if (totalEst > 0 || totalAct > 0) {
                    R += fld('Estimated',    money(totalEst));
                    R += fld('Actual Spend', money(totalAct) + `  (${pct(totalAct, totalEst)} used)`);
                    R += fld('Remaining',    money(totalEst - totalAct) + (overLines.length > 0 ? `  âš  OVER IN ${overLines.length} LINE(S)` : '  âœ“ On track'));
                    if (poList.length) R += fld('POs Issued', `${poList.length} purchase orders  |  ${money(poTotal)} total`);
                } else {
                    R += NONE('  No budget data entered yet.');
                }
                R += '\n  STATUS\n';
                R += fld('Milestones',   milestones.length > 0
                    ? `${doneMile.length}/${milestones.length} complete  ${prog(doneMile.length,milestones.length)}  ${pct(doneMile.length,milestones.length)}` + (overdueMile.length ? `  âš  ${overdueMile.length} OVERDUE` : '')
                    : 'None entered');
                R += fld('Tasks',        allTasks.length > 0
                    ? `${doneTasks.length}/${allTasks.length} complete  ${prog(doneTasks.length,allTasks.length)}  ${pct(doneTasks.length,allTasks.length)}`
                    : 'None entered');
                R += fld('Open Risks',   risks.length > 0
                    ? `${openRisks.length} open  (${highRisks.length} HIGH/CRITICAL)`
                    : 'None entered');
                R += '\n  ASSETS\n';
                R += fld('Shot List',     shots.length > 0
                    ? `${shots.length} shots  |  Done: ${shotDone.length}  In Progress: ${shotIP.length}  Planned: ${shotPlan.length}  ${prog(shotDone.length,shots.length,20)}  ${pct(shotDone.length,shots.length)}`
                    : 'None entered');
                R += fld('Breakdowns',    breakdowns.length > 0 ? `${breakdowns.length} sheets` : 'None entered');
                if (prod.scriptImport) {
                    const si2 = prod.scriptImport;
                    R += fld('Script Import', `"${si2.title||'Untitled'}" | ${si2.genre||'?'} | ${si2.estimatedPages||'?'} pages | ${si2.shootDays||'?'} shoot days | Budget: ${si2.budgetTier||'?'}`);
                }
                R += fld('Equipment',     tech.length > 0 ? tech.length + ' items' : 'None entered');
                R += fld('Media Vault',   vault.length > 0 ? vault.length + ' assets' : 'None entered');
                if (allTasks.length) R += fld('Timeline Tasks', allTasks.length);
                if (crmLeads.length) R += fld('CRM Pipeline',   `${crmLeads.length} leads  |  ${money(crmVal)} total value`);

                R += SEC('STRIPBOARD / SCHEDULE');
                if (scenes.length === 0 && banners.length === 0 && shootDays.length === 0) {
                    R += NONE('No schedule has been built yet.');
                } else {
                    if (scenes.length > 0) {
                        R += `  ${scenes.length} scenes  |  ${totalPages.toFixed(1)} pages  |  INT: ${intSc.length}  EXT: ${extSc.length}  |  DAY: ${daySc.length}  NIGHT: ${nightSc.length}\n`;
                        if (uniqueLocs.length) R += `  Locations: ${uniqueLocs.join(', ')}\n`;
                        R += '\n';
                        R += `  ${'#'.padEnd(5)} ${'SCENE'.padEnd(7)} ${'IN/EXT'.padEnd(8)} ${'DAY/NGT'.padEnd(9)} LOCATION\n`;
                        R += '  ' + 'â”€'.repeat(68) + '\n';
                        scenes.forEach((s, i) => {
                            R += `  ${String(i+1).padStart(3,'0')}  `;
                            R += `${String(s.scene||'?').padEnd(7)}`;
                            R += `${(s.intext||'').padEnd(8)}`;
                            R += `${(s.daynight||'').padEnd(9)}`;
                            R += `${s.location||'Location not set'}\n`;
                            if (has(s.shootLocation) && s.shootLocation !== s.location)
                                R += `            Shoot Location: ${s.shootLocation}\n`;
                            if (has(s.description)) R += `            Description:    ${s.description}\n`;
                            if (has(s.cast))        R += `            Cast:           ${s.cast}\n`;
                            if (has(s.pages))       R += `            Pages:          ${s.pages}\n`;
                        });
                    }
                    if (banners.length > 0) {
                        R += PSEC('BANNERS / DAY MARKERS');
                        banners.forEach(b => R += `  â–¶  ${b.text || b.type || 'Banner'}\n`);
                    }
                    if (shootDays.length > 0) {
                        R += PSEC('QUICK-ADD SHOOT DAYS (from stripboard)');
                        shootDays.forEach(s => {
                            R += `  ${(s.date||'No date').padEnd(14)}`;
                            if (has(s.callTime)) R += `  Call: ${s.callTime}`;
                            if (has(s.location)) R += `  ${s.location}`;
                            if (has(s.scene))    R += `  Scenes: ${s.scene}`;
                            R += '\n';
                            if (has(s.notes))    R += `    Notes: ${s.notes}\n`;
                        });
                    }
                }

                R += SEC('SHOOT DAYS');
                if (days.length === 0) {
                    R += NONE('No shoot days have been scheduled yet.');
                } else {
                    R += `  ${days.length} shoot days logged\n\n`;
                    R += `  ${'DAY'.padEnd(5)} ${'DATE'.padEnd(14)} ${'CALL'.padEnd(10)} ${'WRAP'.padEnd(10)} LOCATION\n`;
                    R += '  ' + 'â”€'.repeat(62) + '\n';
                    days.forEach((d, i) => {
                        R += `  ${String(i+1).padStart(2,'0')}.  `;
                        R += `${(d.date||'No date').padEnd(14)}`;
                        R += `${(d.call||'').padEnd(10)}`;
                        R += `${(d.wrap||'').padEnd(10)}`;
                        R += `${d.location||''}\n`;
                        if (has(d.notes)) R += `         Notes: ${d.notes}\n`;
                    });
                }

                R += SEC('BUDGET');
                if (budLines.length === 0) {
                    R += NONE('No budget lines have been entered yet.');
                } else {
                    R += `  ESTIMATED TOTAL   ${money(totalEst).padStart(14)}\n`;
                    R += `  ACTUAL SPEND      ${money(totalAct).padStart(14)}  (${pct(totalAct, totalEst)} used)\n`;
                    R += `  REMAINING         ${money(totalEst - totalAct).padStart(14)}  ${overLines.length > 0 ? 'âš  OVER BUDGET' : 'âœ“ On track'}\n`;
                    if (poList.length) R += `  POs ISSUED        ${(poList.length + ' POs').padStart(14)}  ${money(poTotal)} total\n`;
                    R += '\n';
                    R += `  ${'CODE'.padEnd(8)} ${'CATEGORY'.padEnd(24)} ${'ESTIMATED'.padStart(13)} ${'ACTUAL'.padStart(13)} ${'VARIANCE'.padStart(13)}  STATUS\n`;
                    R += '  ' + 'â”€'.repeat(80) + '\n';
                    budLines.forEach(l => {
                        const est = parseFloat(l.est)||0, act = parseFloat(l.act)||0;
                        const variance = est - act;
                        R += `  ${(l.code||'').padEnd(8)} ${(l.name||'').padEnd(24)} ${money(est).padStart(13)} ${money(act).padStart(13)} ${money(variance).padStart(13)}  ${act > est ? 'âš  OVER' : act > 0 ? 'âœ“' : ''}\n`;
                    });
                    R += '  ' + 'â”€'.repeat(80) + '\n';
                    R += `  ${''.padEnd(33)} ${money(totalEst).padStart(13)} ${money(totalAct).padStart(13)} ${money(totalEst-totalAct).padStart(13)}\n`;
                    if (overLines.length > 0) {
                        R += PSEC('OVER-BUDGET LINES');
                        overLines.forEach(l => {
                            const over = (parseFloat(l.act)||0) - (parseFloat(l.est)||0);
                            R += `  âš   [${l.code||'?'}] ${l.name||''}  â€”  over by ${money(over)}\n`;
                        });
                    }
                    if (poList.length > 0) {
                        R += PSEC('PURCHASE ORDERS');
                        R += `  ${'DATE'.padEnd(12)} ${'PO #'.padEnd(12)} ${'VENDOR'.padEnd(24)} ${'AMOUNT'.padStart(12)}  DESCRIPTION\n`;
                        R += '  ' + 'â”€'.repeat(72) + '\n';
                        poList.forEach(p => {
                            R += `  ${(p.date||'').padEnd(12)} ${(p.poNum||'').padEnd(12)} ${(p.vendor||'').padEnd(24)} ${money(p.amount).padStart(12)}`;
                            if (has(p.desc)) R += `  ${p.desc}`;
                            R += '\n';
                        });
                        R += `\n  ${'TOTAL PO SPEND'.padEnd(52)} ${money(poTotal).padStart(12)}\n`;
                    }
                }

                R += SEC('CAST');
                if (castList.length === 0) {
                    R += NONE('No cast members have been entered yet.');
                } else {
                    castList.forEach((c, i) => {
                        const role = c.role || c.character || c.position || '';
                        R += `  [${String(i+1).padStart(2,'0')}]  ${c.name || 'Unnamed'}`;
                        if (has(role)) R += `  â€”  ${role}`;
                        R += '\n';
                        R += fld('  ID',         c.id);
                        R += fld('  Phone',      c.phone);
                        R += fld('  Email',      c.email);
                        R += fld('  Agent',      c.agent);
                        R += fld('  Union',      c.union);
                        R += fld('  Rate',       c.rate);
                        R += fld('  Notes',      c.notes);
                    });
                }

                R += SEC('CREW');
                if (crewList.length === 0) {
                    R += NONE('No crew members have been entered yet.');
                } else {
                    crewList.forEach((c, i) => {
                        const role = c.role || c.position || '';
                        R += `  [${String(i+1).padStart(2,'0')}]  ${c.name || 'Unnamed'}`;
                        if (has(role)) R += `  â€”  ${role}`;
                        R += '\n';
                        R += fld('  ID',          c.id);
                        R += fld('  Department',  c.department);
                        R += fld('  Phone',       c.phone);
                        R += fld('  Email',       c.email);
                        R += fld('  Rate',        c.rate);
                        R += fld('  Notes',       c.notes);
                    });
                }

                R += SEC('SHOT LIST');
                if (shots.length === 0) {
                    R += NONE('No shots have been logged yet.');
                } else {
                    const types={}, sizes={}, movements={}, angles={};
                    shots.forEach(s => {
                        if(s.type)     types[s.type]     = (types[s.type]||0)+1;
                        if(s.size)     sizes[s.size]     = (sizes[s.size]||0)+1;
                        if(s.movement) movements[s.movement] = (movements[s.movement]||0)+1;
                        if(s.angle)    angles[s.angle]   = (angles[s.angle]||0)+1;
                    });
                    R += `  Total: ${shots.length} shots  |  Done: ${shotDone.length}  In Progress: ${shotIP.length}  Planned: ${shotPlan.length}\n`;
                    R += `  Completion: ${prog(shotDone.length, shots.length)}  ${pct(shotDone.length, shots.length)}\n`;
                    if (Object.keys(types).length)     R += `  Types:     ${Object.entries(types).map(([k,v])=>`${k}(${v})`).join('  ')}\n`;
                    if (Object.keys(sizes).length)     R += `  Sizes:     ${Object.entries(sizes).map(([k,v])=>`${k.split(' - ')[0]}(${v})`).join('  ')}\n`;
                    if (Object.keys(movements).length) R += `  Movement:  ${Object.entries(movements).map(([k,v])=>`${k}(${v})`).join('  ')}\n`;
                    if (Object.keys(angles).length)    R += `  Angles:    ${Object.entries(angles).map(([k,v])=>`${k}(${v})`).join('  ')}\n`;
                    R += '\n';
                    const byScene = {};
                    shots.forEach(s => { const sc = s.scene||'Unassigned'; if(!byScene[sc]) byScene[sc]=[]; byScene[sc].push(s); });
                    Object.entries(byScene).sort(([a],[b]) => (parseFloat(a)||0)-(parseFloat(b)||0)||(a>b?1:-1)).forEach(([scene, ss]) => {
                        R += `  SCENE ${scene}  (${ss.length} shot${ss.length===1?'':'s'})\n`;
                        ss.forEach(s => {
                            R += `    Shot ${String(s.number||'?').padEnd(6)}`;
                            if (has(s.type))     R += `  ${s.type.padEnd(12)}`;
                            if (has(s.size))     R += `  ${s.size.padEnd(22)}`;
                            if (has(s.angle))    R += `  ${s.angle}`;
                            R += `\n`;
                            if (has(s.description)) R += `              ${s.description}\n`;
                            if (has(s.movement))    R += `              Movement:  ${s.movement}\n`;
                            if (has(s.lens))         R += `              Lens:      ${s.lens}\n`;
                            if (has(s.fps))          R += `              FPS:       ${s.fps}\n`;
                            if (has(s.cast))         R += `              Cast:      ${s.cast}\n`;
                            if (has(s.equipment))    R += `              Equipment: ${s.equipment}\n`;
                            if (has(s.duration))     R += `              Duration:  ${s.duration}\n`;
                            if (has(s.vfx))          R += `              VFX:       ${s.vfx}\n`;
                            if (has(s.notes))        R += `              Notes:     ${s.notes}\n`;
                            R += `              Status:    ${s.status||'Planned'}\n`;
                        });
                        R += '\n';
                    });
                }

                const si = prod.scriptImport;
                if (si) {
                    R += SEC('SCRIPT ANALYSIS (IMPORT DATA)');
                    R += fld('Title',             si.title);
                    R += fld('Genre',             si.genre);
                    R += fld('Tone',              si.tone);
                    R += fld('Format',            si.format);
                    R += fld('Estimated Pages',   si.estimatedPages);
                    R += fld('Est. Shoot Days',   si.shootDays);
                    R += fld('Budget Tier',       si.budgetTier);
                    R += fld('Night Scenes',      si.nightScenes);
                    R += fld('Exterior Ratio',    si.exteriorRatio);
                    R += fld('High CX Scenes',    si.highCxCount);
                    R += fld('Unique Locations',  si.uniqueLocations);
                    if (si.recurringLocs && si.recurringLocs.length)
                        R += fld('Recurring Sets',    si.recurringLocs.join(', '));
                    R += fld('Most Complex',      si.mostComplexScene);
                    R += fld('Largest Cast Sc.',  si.largestCastScene);
                    R += fld('Production Notes',  si.productionNotes);
                    R += fld('Imported At',       si.importedAt ? new Date(si.importedAt).toLocaleString() : '');
                }

                const CAT_LABELS = {
                    cast:'Cast', extras:'Extras', stunts:'Stunts', vehicles:'Vehicles',
                    props:'Props', sfx:'Special Effects', costumes:'Wardrobe',
                    makeup:'Makeup/Hair', animals:'Animals', greenery:'Greenery',
                    security:'Security', notes:'Notes'
                };
                R += SEC('SCENE BREAKDOWNS');
                if (breakdowns.length === 0) {
                    R += NONE('No breakdown sheets have been created yet.');
                } else {
                    const highCxBds  = breakdowns.filter(b => b.complexity === 'HIGH');
                    const allCast    = [...new Set(breakdowns.flatMap(b => b.elements?.cast    || []))];
                    const allProps   = [...new Set(breakdowns.flatMap(b => b.elements?.props   || []))];
                    const allVehicles= [...new Set(breakdowns.flatMap(b => b.elements?.vehicles|| []))];
                    const allSFX     = [...new Set(breakdowns.flatMap(b => b.elements?.sfx     || []))];
                    const allAnimals = [...new Set(breakdowns.flatMap(b => b.elements?.animals || []))];
                    const allStunts  = [...new Set(breakdowns.flatMap(b => b.elements?.stunts  || []))];
                    R += `  ${breakdowns.length} breakdown sheets\n`;
                    if (highCxBds.length)    R += `  HIGH complexity scenes: ${highCxBds.map(b=>b.scene||b.sheet).join(', ')}\n`;
                    if (allCast.length)      R += `  All cast (${allCast.length}): ${allCast.join(', ')}\n`;
                    if (allProps.length)     R += `  Props required: ${allProps.join(', ')}\n`;
                    if (allVehicles.length)  R += `  Vehicles: ${allVehicles.join(', ')}\n`;
                    if (allSFX.length)       R += `  Special effects: ${allSFX.join(', ')}\n`;
                    if (allAnimals.length)   R += `  Animals: ${allAnimals.join(', ')}\n`;
                    if (allStunts.length)    R += `  Stunts: ${allStunts.join(', ')}\n`;
                    R += '\n';
                    breakdowns.forEach((bd, i) => {
                        R += `  SHEET ${bd.sheet || (i+1)}  â€”  SCENE ${bd.scene || '?'}`;
                        if (bd.complexity) R += `  [${bd.complexity}]`;
                        R += '\n';
                        R += fld('  INT/EXT',     bd.intext);
                        R += fld('  Day/Night',   bd.daynight);
                        R += fld('  Location',    bd.location);
                        R += fld('  Pages',       bd.pages);
                        R += fld('  Date',        bd.date);
                        R += fld('  Description', bd.description);
                        if (bd.elements && typeof bd.elements === 'object') {
                            const populated = Object.entries(bd.elements)
                                .filter(([,v]) => Array.isArray(v) ? v.length > 0 : has(v));
                            if (populated.length > 0) {
                                R += '    Elements:\n';
                                populated.forEach(([k,v]) => {
                                    const label = (CAT_LABELS[k] || k).padEnd(20);
                                    R += `      ${label}  ${Array.isArray(v) ? v.join(', ') : String(v)}\n`;
                                });
                            }
                        }
                    });
                }

                R += SEC('MILESTONES');
                if (milestones.length === 0) {
                    R += NONE('No milestones have been entered yet.');
                } else {
                    R += `  ${doneMile.length} of ${milestones.length} complete  ${prog(doneMile.length, milestones.length)}  ${pct(doneMile.length, milestones.length)}\n`;
                    if (overdueMile.length) R += `  âš  ${overdueMile.length} overdue\n`;
                    R += '\n';
                    const phases = [...new Set(milestones.map(m => m.phase || 'General'))];
                    phases.forEach(ph => {
                        const pm = milestones.filter(m => (m.phase||'General') === ph);
                        const phDone = pm.filter(m => m.completed).length;
                        R += `  ${ph.toUpperCase()}  (${phDone}/${pm.length})\n`;
                        pm.sort((a,b) => new Date(a.dueDate||a.date||0) - new Date(b.dueDate||b.date||0)).forEach(m => {
                            const od = !m.completed && has(m.dueDate||m.date) && new Date(m.dueDate||m.date) < new Date();
                            R += `    ${m.completed ? '[âœ“]' : '[ ]'}  ${(m.title||m.name||'Untitled').padEnd(40)}`;
                            if (has(m.dueDate||m.date)) R += `  Due: ${m.dueDate||m.date}`;
                            if (od) R += '  âš  OVERDUE';
                            if (has(m.status)) R += `  [${m.status}]`;
                            R += '\n';
                            if (has(m.description)) R += `           ${m.description}\n`;
                            if (has(m.notes))       R += `           Notes: ${m.notes}\n`;
                        });
                        R += '\n';
                    });
                }

                R += SEC('TASKS / GANTT TIMELINE');
                if (allTasks.length === 0) {
                    R += NONE('No tasks have been entered yet.');
                } else {
                    const ganttOver = allTasks.filter(t => has(t.end) && new Date(t.end) < new Date() && (t.progress||0) < 100 && t.status !== 'Completed').length;
                    R += `  Total: ${allTasks.length}  |  Complete: ${doneTasks.length}  |  Overdue: ${ganttOver}\n\n`;
                    const byPhase = {};
                    allTasks.forEach(t => { const ph = t.phase||t.status||'General'; if(!byPhase[ph]) byPhase[ph]=[]; byPhase[ph].push(t); });
                    Object.entries(byPhase).forEach(([ph, pts]) => {
                        R += `  ${ph.toUpperCase()}  (${pts.length})\n`;
                        pts.forEach(t => {
                            const p = t.progress !== undefined ? t.progress : (t.status==='Completed' ? 100 : 0);
                            R += `    ${(t.name||t.title||'Untitled').padEnd(38)}`;
                            if (has(t.start)) R += `  Start: ${t.start}`;
                            if (has(t.end))   R += `  End: ${t.end}`;
                            R += '\n';
                            if (p > 0 || has(t.status))  R += `           Progress: ${p}%  ${prog(p, 100, 20)}${has(t.status) ? '  ['+t.status+']' : ''}\n`;
                            if (has(t.assignee))          R += `           Assigned: ${t.assignee}\n`;
                            if (has(t.priority))          R += `           Priority: ${t.priority}\n`;
                            if (has(t.notes))             R += `           Notes:    ${t.notes}\n`;
                        });
                        R += '\n';
                    });
                }

                R += SEC('RISK ASSESSMENT');
                if (risks.length === 0) {
                    R += NONE('No risks have been logged yet.');
                } else {
                    const resolvedRisks = risks.filter(r => r.resolved || r.status === 'Resolved');
                    R += `  Total: ${risks.length}  |  Open: ${openRisks.length}  |  HIGH/CRITICAL: ${highRisks.length}  |  Resolved: ${resolvedRisks.length}\n\n`;
                    ['High','Critical','Medium','Low'].forEach(level => {
                        const lr = risks.filter(r => (r.level||r.severity||r.riskSeverity||'Low') === level);
                        if (!lr.length) return;
                        R += `  ${level.toUpperCase()} RISK  (${lr.length})\n`;
                        lr.forEach(r => {
                            const resolved = r.resolved || r.status === 'Resolved';
                            const desc = r.description || r.risk || r.riskDescription || r.title || 'No description';
                            const cat  = r.category || r.riskCategory || '';
                            R += `    ${resolved ? '[RESOLVED]' : '[OPEN]    '}  `;
                            if (has(cat)) R += `[${cat}]  `;
                            R += `${desc}\n`;
                            const mit = r.mitigation || r.riskMitigation || '';
                            if (has(mit))     R += `              Mitigation: ${mit}\n`;
                            if (has(r.status) && !resolved) R += `              Status:     ${r.status}\n`;
                        });
                        R += '\n';
                    });
                }

                R += SEC('CONTINUITY LOG');
                if (continuity.length === 0) {
                    R += NONE('No continuity entries have been logged yet.');
                } else {
                    R += `  Total entries: ${continuity.length}\n\n`;
                    const byScene = {};
                    continuity.forEach(c => { const sc = c.scene||'General'; if(!byScene[sc]) byScene[sc]=[]; byScene[sc].push(c); });
                    Object.entries(byScene).sort().forEach(([scene, entries]) => {
                        R += `  SCENE ${scene}  (${entries.length} entr${entries.length===1?'y':'ies'})\n`;
                        entries.forEach((c, i) => {
                            R += `    Entry ${i+1}`;
                            if (has(c.take))      R += `  â€”  Take ${c.take}`;
                            if (has(c.timestamp)) R += `  â€”  ${c.timestamp}`;
                            R += '\n';
                            if (has(c.wardrobe))   R += `      Wardrobe:        ${c.wardrobe}\n`;
                            if (has(c.props))      R += `      Props:           ${c.props}\n`;
                            const hair = c.hairMakeup || c.hair || c.continuityHairMakeup || '';
                            if (has(hair))         R += `      Hair/Makeup:     ${hair}\n`;
                            const pos = c.position || c.actorPositions || c.continuityActorPositions || '';
                            if (has(pos))          R += `      Actor Positions: ${pos}\n`;
                            const notes = c.notes || c.additionalNotes || c.continuityAdditionalNotes || '';
                            if (has(notes))        R += `      Notes:           ${notes}\n`;
                        });
                        R += '\n';
                    });
                }

                R += SEC('EQUIPMENT INVENTORY');
                if (tech.length === 0) {
                    R += NONE('No equipment has been logged yet.');
                } else {
                    const byCat = {};
                    tech.forEach(t => { const cat = t.category||'Uncategorized'; if(!byCat[cat]) byCat[cat]=[]; byCat[cat].push(t); });
                    R += `  Total: ${tech.length} items  |  Categories: ${Object.keys(byCat).join(', ')}\n\n`;
                    Object.entries(byCat).forEach(([cat, items]) => {
                        R += `  ${cat.toUpperCase()}  (${items.length})\n`;
                        items.forEach(t => {
                            R += `    ${(t.name||'Unnamed').padEnd(34)}`;
                            if (has(t.serial)) R += `  Serial: ${String(t.serial).padEnd(18)}`;
                            if (has(t.owner))  R += `  Owner: ${t.owner}`;
                            if (has(t.status)) R += `  [${t.status}]`;
                            R += '\n';
                        });
                        R += '\n';
                    });
                }

                R += SEC('MEDIA VAULT');
                if (vault.length === 0) {
                    R += NONE('No media assets have been logged yet.');
                } else {
                    const byCam = {};
                    vault.forEach(v => { const cam = v.camera||'Unknown Camera'; if(!byCam[cam]) byCam[cam]=0; byCam[cam]++; });
                    R += `  Total: ${vault.length} assets  |  By Camera: ${Object.entries(byCam).map(([k,v])=>`${k}(${v})`).join('  |  ')}\n\n`;
                    vault.forEach(v => {
                        R += `  ${(v.filename||'Unnamed').padEnd(36)}`;
                        if (has(v.scene))   R += `  Scene: ${String(v.scene).padEnd(8)}`;
                        if (has(v.camera))  R += `  Cam: ${String(v.camera).padEnd(12)}`;
                        if (has(v.storage)) R += `  Storage: ${v.storage}`;
                        R += '\n';
                        if (has(v.notes))   R += `    Notes: ${v.notes}\n`;
                    });
                }

                R += SEC('CONTACT DIRECTORY');
                if (contacts.length === 0) {
                    R += NONE('No contacts have been entered yet.');
                } else {
                    const byDept = {};
                    contacts.forEach(c => { const d = c.department||'General'; if(!byDept[d]) byDept[d]=[]; byDept[d].push(c); });
                    Object.entries(byDept).forEach(([dept, people]) => {
                        R += `\n  ${dept.toUpperCase()}  (${people.length})\n`;
                        people.forEach(c => {
                            R += `    ${(c.name||'Unnamed').padEnd(30)}`;
                            if (has(c.role||c.title)) R += `  ${c.role||c.title}`;
                            R += '\n';
                            if (has(c.phone))   R += `      Phone:   ${c.phone}\n`;
                            if (has(c.email))   R += `      Email:   ${c.email}\n`;
                            if (has(c.company)) R += `      Company: ${c.company}\n`;
                            if (has(c.notes))   R += `      Notes:   ${c.notes}\n`;
                        });
                    });
                }

                R += SEC('PRODUCTION CRM / PIPELINE');
                if (crmLeads.length === 0 && crmLedger.length === 0) {
                    R += NONE('No CRM data has been entered yet.');
                } else {
                    if (crmLeads.length > 0) {
                        const byStage = {};
                        crmLeads.forEach(l => { byStage[l.status||'Unknown'] = (byStage[l.status||'Unknown']||0)+1; });
                        R += `  ${crmLeads.length} leads  |  Total Pipeline Value: ${money(crmVal)}\n`;
                        R += `  By Stage: ${Object.entries(byStage).map(([k,v])=>`${k}(${v})`).join('  |  ')}\n\n`;
                        crmLeads.forEach(l => {
                            R += `  [${(l.status||'New').padEnd(14)}]  ${(l.name||'Unnamed').padEnd(32)}`;
                            if (has(l.interest)) R += `  ${String(l.interest).padEnd(14)}`;
                            if (has(l.value))    R += `  ${money(l.value)}`;
                            R += '\n';
                            if (has(l.phone)) R += `    Phone:  ${l.phone}\n`;
                            if (has(l.email)) R += `    Email:  ${l.email}\n`;
                            if (has(l.notes)) R += `    Notes:  ${l.notes}\n`;
                        });
                    }
                    if (crmLedger.length > 0) {
                        R += PSEC('INCOME LEDGER');
                        R += `  Total Recorded Income: ${money(ledgTotal)}\n\n`;
                        crmLedger.forEach(e => {
                            R += `  ${(e.date||'No date').padEnd(14)}  ${(e.source||'').padEnd(28)}  ${money(e.amount)}`;
                            if (has(e.notes)) R += `  ${e.notes}`;
                            R += '\n';
                        });
                    }
                }

                R += SEC('PRODUCTION NOTES');
                if (!has(notes)) {
                    R += NONE('No production notes have been entered yet.');
                } else {
                    notes.trim().split('\n').forEach(line => R += `  ${line}\n`);
                }

                return R;
            },

            // â”€â”€â”€ SINGLE PRODUCTION READABLE REPORT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            exportProductionReadable() {
                if (Core.currentProduction === 'GLOBAL') { this.toast('Please select a production first', 'warn'); return; }
                const { dl } = this._reportHelpers();
                let R = '';
                R += 'â–ˆ'.repeat(72) + '\n';
                R += 'â–ˆâ–ˆ\n';
                R += 'â–ˆâ–ˆ  DC ALACRITY â€” COMPLETE PRODUCTION INTELLIGENCE REPORT\n';
                R += `â–ˆâ–ˆ  ${Core.currentProduction}\n`;
                R += `â–ˆâ–ˆ  Generated: ${new Date().toLocaleString()}\n`;
                R += 'â–ˆâ–ˆ\n';
                R += 'â–ˆ'.repeat(72) + '\n';
                R += this._buildProductionBlock(Core.data, Core.currentProduction, true);
                R += '\n' + 'â–ˆ'.repeat(72) + '\n';
                R += `â–ˆâ–ˆ  END OF REPORT  â€”  ${Core.currentProduction}\n`;
                R += `â–ˆâ–ˆ  ${new Date().toLocaleString()}\n`;
                R += `â–ˆâ–ˆ  DC ALACRITY Production Command System\n`;
                R += 'â–ˆ'.repeat(72) + '\n';
                dl(new Blob([R], {type:'text/plain'}), `${clean(Core.currentProduction)}_FULL_REPORT_${this.getDateString()}.txt`);
                Core.log('Full production report exported');
                this.toast('âœ“ Production report exported', 'success');
            },

            // â”€â”€â”€ FULL SYSTEM BACKUP (JSON) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            exportEverything() {
                const productionNames = Core.getProductions();
                const allProductions  = {};
                if (Core.currentProduction && Core.currentProduction !== 'GLOBAL') {
                    allProductions[Core.currentProduction] = Core.data;
                }
                productionNames.forEach(name => {
                    if (name !== Core.currentProduction) {
                        try {
                            const stored = localStorage.getItem('dc_alacrity_prod_' + name);
                            if (stored) allProductions[name] = JSON.parse(stored);
                        } catch(e) { console.warn(`Could not load "${name}" for backup:`, e); }
                    }
                });
                const data = {
                    exportType:      'full_backup',
                    exportDate:      new Date().toISOString(),
                    version:         '2.0',
                    bizData:         Core.bizData,
                    productionsList: productionNames,
                    productions:     allProductions
                };
                this.downloadJSON(data, `FullBackup_${this.getDateString()}.json`);
                Core.log('Full system backup exported');
                this.toast(`âœ“ Full backup exported â€” ${productionNames.length} production(s) + Global CRM`, 'success');
            },

            // â”€â”€â”€ COMPLETE SYSTEM READABLE REPORT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            exportSystemReadable() {
                const { has, money, pct, prog, fld, SEC, PSEC, NONE, dl } = this._reportHelpers();
                const productionNames = Core.getProductions();
                const biz = Core.bizData || {};

                const bizLeads    = biz.leads    || [];
                const bizLedger   = biz.ledger   || [];
                const bizCast     = Object.values(biz.cast     || {});
                const bizCrew     = Object.values(biz.crew     || {});
                const bizContacts = Object.values(biz.contacts || {});
                const bizLeadVal  = bizLeads.reduce((s,l) => s+(parseFloat(l.value)||0), 0);
                const bizLedgTot  = bizLedger.reduce((s,e) => s+(parseFloat(e.amount)||0), 0);

                let R = '';
                R += 'â–ˆ'.repeat(72) + '\n';
                R += 'â–ˆâ–ˆ\n';
                R += 'â–ˆâ–ˆ  DC ALACRITY â€” COMPLETE SYSTEM INTELLIGENCE REPORT\n';
                R += 'â–ˆâ–ˆ  ALL PRODUCTIONS + GLOBAL CRM\n';
                R += `â–ˆâ–ˆ  Generated: ${new Date().toLocaleString()}\n`;
                R += 'â–ˆâ–ˆ\n';
                R += 'â–ˆ'.repeat(72) + '\n';

                R += '\n' + 'â•'.repeat(72) + '\n';
                R += '  SYSTEM OVERVIEW\n';
                R += 'â•'.repeat(72) + '\n';
                R += fld('Total Productions',   productionNames.length || 'None', 22);
                R += fld('Production List',     productionNames.join(', ') || 'None', 22);
                R += fld('Global CRM Leads',    bizLeads.length || 'None', 22);
                R += fld('Global Pipeline Val', bizLeads.length > 0 ? money(bizLeadVal) : 'N/A', 22);
                R += fld('Global Income',       bizLedger.length > 0 ? money(bizLedgTot) + ' recorded' : 'None', 22);
                R += fld('Global Cast DB',      bizCast.length || 'None', 22);
                R += fld('Global Crew DB',      bizCrew.length || 'None', 22);
                R += fld('Global Contacts',     bizContacts.length || 'None', 22);

                let totalScenes=0, totalShots=0, totalBudgEst=0, totalBudgAct=0, totalRisks=0, totalMiles=0, totalDays=0;
                productionNames.forEach(name => {
                    let prod = name === Core.currentProduction ? Core.data : null;
                    if (!prod) { try { const s=localStorage.getItem('dc_alacrity_prod_'+name); if(s) prod=JSON.parse(s); } catch(e){} }
                    if (!prod) return;
                    totalScenes  += (prod.schedule?.strips||[]).filter(s=>s.type==='scene').length;
                    totalShots   += (prod.shotlist||[]).length;
                    totalBudgEst += (prod.budget?.lines||[]).reduce((s,l)=>s+(parseFloat(l.est)||0),0);
                    totalBudgAct += (prod.budget?.lines||[]).reduce((s,l)=>s+(parseFloat(l.act)||0),0);
                    totalRisks   += (prod.risks||[]).length;
                    totalMiles   += (prod.milestones||[]).length;
                    totalDays    += (prod.days||[]).length;
                });
                R += '\n  AGGREGATE ACROSS ALL PRODUCTIONS\n';
                R += fld('Total Scenes',    totalScenes, 22);
                R += fld('Total Shoot Days', totalDays,  22);
                R += fld('Total Shots',     totalShots,  22);
                R += fld('Total Milestones', totalMiles, 22);
                R += fld('Total Risks',     totalRisks,  22);
                if (totalBudgEst > 0) {
                    R += fld('Total Est. Budget', money(totalBudgEst), 22);
                    R += fld('Total Actual Spend', money(totalBudgAct)+`  (${pct(totalBudgAct,totalBudgEst)} used)`, 22);
                    R += fld('Total Remaining',   money(totalBudgEst-totalBudgAct), 22);
                }

                R += SEC('GLOBAL BUSINESS CRM');
                if (bizLeads.length === 0) {
                    R += NONE('No business CRM leads have been entered yet.');
                } else {
                    const byStage = {};
                    bizLeads.forEach(l => { byStage[l.status||'Unknown'] = (byStage[l.status||'Unknown']||0)+1; });
                    R += `  ${bizLeads.length} leads  |  Pipeline Value: ${money(bizLeadVal)}\n`;
                    R += `  By Stage: ${Object.entries(byStage).map(([k,v])=>`${k}(${v})`).join('  |  ')}\n\n`;
                    bizLeads.forEach(l => {
                        R += `  [${(l.status||'New').padEnd(14)}]  ${(l.name||'Unnamed').padEnd(32)}`;
                        if (has(l.interest)) R += `  ${l.interest}`;
                        if (has(l.value))    R += `  ${money(l.value)}`;
                        R += '\n';
                        if (has(l.phone)) R += `    Phone:  ${l.phone}\n`;
                        if (has(l.email)) R += `    Email:  ${l.email}\n`;
                        if (has(l.notes)) R += `    Notes:  ${l.notes}\n`;
                    });
                }
                if (bizLedger.length > 0) {
                    R += PSEC('GLOBAL INCOME LEDGER');
                    R += `  Total Recorded Income: ${money(bizLedgTot)}\n\n`;
                    bizLedger.forEach(e => {
                        R += `  ${(e.date||'').padEnd(14)}  ${(e.source||'').padEnd(28)}  ${money(e.amount)}`;
                        if (has(e.notes)) R += `  ${e.notes}`;
                        R += '\n';
                    });
                }
                if (bizCast.length > 0) {
                    R += PSEC('GLOBAL CAST DATABASE');
                    bizCast.forEach(c => {
                        R += `  ${(c.name||'Unnamed').padEnd(30)}  ${c.role||''}\n`;
                        if (has(c.phone)) R += `    Phone: ${c.phone}\n`;
                        if (has(c.email)) R += `    Email: ${c.email}\n`;
                        if (has(c.agent)) R += `    Agent: ${c.agent}\n`;
                        if (has(c.notes)) R += `    Notes: ${c.notes}\n`;
                    });
                }
                if (bizCrew.length > 0) {
                    R += PSEC('GLOBAL CREW DATABASE');
                    bizCrew.forEach(c => {
                        R += `  ${(c.name||'Unnamed').padEnd(30)}  ${c.position||c.role||''}`;
                        if (has(c.department)) R += `  [${c.department}]`;
                        R += '\n';
                        if (has(c.phone)) R += `    Phone: ${c.phone}\n`;
                        if (has(c.email)) R += `    Email: ${c.email}\n`;
                        if (has(c.notes)) R += `    Notes: ${c.notes}\n`;
                    });
                }
                if (bizContacts.length > 0) {
                    R += PSEC('GLOBAL CONTACTS');
                    bizContacts.forEach(c => {
                        R += `  ${(c.name||'Unnamed').padEnd(30)}  ${c.role||c.title||''}`;
                        if (has(c.company)) R += `  [${c.company}]`;
                        R += '\n';
                        if (has(c.phone)) R += `    Phone: ${c.phone}\n`;
                        if (has(c.email)) R += `    Email: ${c.email}\n`;
                        if (has(c.notes)) R += `    Notes: ${c.notes}\n`;
                    });
                }

                if (productionNames.length === 0) {
                    R += SEC('PRODUCTIONS');
                    R += NONE('No productions have been created yet.');
                } else {
                    productionNames.forEach((prodName, pi) => {
                        let prod = null;
                        if (prodName === Core.currentProduction) {
                            prod = Core.data;
                        } else {
                            try {
                                const stored = localStorage.getItem('dc_alacrity_prod_' + prodName);
                                if (stored) prod = JSON.parse(stored);
                            } catch(e) {}
                        }
                        R += '\n' + 'â–ˆ'.repeat(72) + '\n';
                        R += `â–ˆâ–ˆ  PRODUCTION ${pi+1} OF ${productionNames.length}: ${prodName}\n`;
                        R += 'â–ˆ'.repeat(72) + '\n';
                        if (!prod) { R += NONE('Data could not be loaded for this production.'); return; }
                        R += this._buildProductionBlock(prod, prodName, true);
                    });
                }

                R += '\n' + 'â–ˆ'.repeat(72) + '\n';
                R += 'â–ˆâ–ˆ  END OF COMPLETE SYSTEM REPORT\n';
                R += `â–ˆâ–ˆ  ${productionNames.length} production(s)  |  Generated: ${new Date().toLocaleString()}\n`;
                R += 'â–ˆâ–ˆ  DC ALACRITY Production Command System\n';
                R += 'â–ˆ'.repeat(72) + '\n';

                dl(new Blob([R], {type:'text/plain'}), `SYSTEM_COMPLETE_REPORT_${this.getDateString()}.txt`);
                Core.log('Complete system readable report exported');
                this.toast(`âœ“ System report exported â€” ${productionNames.length} production(s) + Global CRM`, 'success');
            },

            // â”€â”€â”€ IMPORT DATA (file picker) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            importData() {
                const input = document.createElement('input');
                input.type = 'file'; input.accept = '.json';
                input.onchange = (e) => {
                    const file = e.target.files[0];
                    if (!file) return;
                    this._processImportFile(file);
                };
                input.click();
            },

            // â”€â”€â”€ CORE IMPORT PROCESSOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            _processImportFile(file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    try {
                        const imported = JSON.parse(event.target.result);
                        if (!imported.exportType || !imported.version) {
                            this.toast('Invalid file â€” missing exportType or version', 'error');
                            return;
                        }

                        if (imported.exportType === 'global_crm') {
                            if (confirm('Import Global CRM data? This will merge with existing data.')) {
                                Core.bizData = { ...Core.bizData, ...imported.bizData };
                                localStorage.setItem('dc_alacrity_biz', JSON.stringify(Core.bizData));
                                Core.renderAll();
                                this.toast('âœ“ Global CRM imported and merged', 'success');
                            }

                        } else if (imported.exportType === 'production') {
                            const prodName = imported.productionName;
                            const prodData = imported.productionData;
                            if (!prodName) { this.toast('Import failed: production name missing', 'error'); return; }
                            if (!prodData || typeof prodData !== 'object') {
                                this.toast(`Import failed: "${prodName}" has no production data`, 'error');
                                return;
                            }
                            if (confirm(`Import production "${prodName}"?`)) {
                                localStorage.setItem('dc_alacrity_prod_' + prodName, JSON.stringify(prodData));
                                const list = Core.getProductions();
                                if (!list.includes(prodName)) {
                                    list.push(prodName);
                                    localStorage.setItem('dc_alacrity_productions', JSON.stringify(list));
                                }
                                Core.renderProductionDropdown();
                                this.initExportTab();
                                this.toast(`âœ“ Production "${prodName}" imported`, 'success');
                            }

                        } else if (imported.exportType === 'full_backup') {
                            const productionsList = imported.productionsList || Object.keys(imported.productions || {});
                            const allProductions  = imported.productions || {};
                            const count = productionsList.length;
                            const label = imported.saveStateLabel ? `\nFrom save: "${imported.saveStateLabel}"` : '';
                            if (!confirm(`Import full backup?${label}\n\nâ€¢ ${count} production(s)\nâ€¢ Global CRM data\n\nThis will REPLACE all existing data.`)) return;
                            if (!confirm('âš ï¸ FINAL WARNING: All current data will be overwritten. Continue?')) return;

                            if (imported.bizData) {
                                Core.bizData = imported.bizData;
                                localStorage.setItem('dc_alacrity_biz', JSON.stringify(Core.bizData));
                            }
                            productionsList.forEach(name => {
                                if (allProductions[name]) {
                                    localStorage.setItem('dc_alacrity_prod_' + name, JSON.stringify(allProductions[name]));
                                }
                            });
                            localStorage.setItem('dc_alacrity_productions', JSON.stringify(productionsList));

                            if (productionsList.length > 0) {
                                const firstName = productionsList[0];
                                Core.currentProduction = firstName;
                                try {
                                    const stored = localStorage.getItem('dc_alacrity_prod_' + firstName);
                                    Core.data = stored
                                        ? Core.deepMergeComplete(Core.getDefaultData(), JSON.parse(stored))
                                        : Core.getDefaultData();
                                } catch(e) { Core.data = Core.getDefaultData(); }
                                Core.renderProductionDropdown();
                                const sel = document.getElementById('project-select');
                                if (sel) sel.value = firstName;
                                Core.renderDashboard();
                                const safeRender = (name, fn) => { try { fn(); } catch(e) { console.warn(name + ' render failed:', e); } };
                                safeRender('Days',            () => Days.render());
                                safeRender('Tech',            () => Tech.render());
                                safeRender('Vault',           () => Vault.render());
                                safeRender('Schedule',        () => Schedule.render());
                                safeRender('Breakdown',       () => Breakdown.render());
                                safeRender('CastCrew',        () => CastCrew.render());
                                safeRender('Financials',      () => Financials.render());
                                safeRender('ShotList',        () => ShotList.render());
                                safeRender('ContinuityLog',   () => ContinuityLog.render());
                                safeRender('RiskAssessment',  () => RiskAssessment.render());
                                safeRender('ContactDirectory',() => ContactDirectory.render());
                                safeRender('Milestones',      () => Milestones.render());
                                safeRender('ShoppingList',    () => ShoppingList.render());
                                safeRender('ProdCRM pipeline',() => ProdCRM.renderPipeline());
                                safeRender('ProdCRM dialer',  () => ProdCRM.renderDialer());
                                safeRender('ProdCRM intel',   () => ProdCRM.renderIntel());
                                safeRender('BizCRM pipeline', () => BizCRM.renderPipeline());
                                safeRender('BizCRM dialer',   () => BizCRM.renderDialer());
                                safeRender('BizCRM intel',    () => BizCRM.renderIntel());
                                safeRender('Gantt',           () => Gantt.init());
                                safeRender('Calendar',        () => Calendar.render());
                                safeRender('Notes',           () => Notes.load());
                            }
                            this.initExportTab();
                            this.toast(`âœ“ Full backup restored â€” ${count} production(s)`, 'success');

                        } else {
                            this.toast(`Unknown export type: "${imported.exportType}"`, 'error');
                        }
                    } catch (err) {
                        this.toast('Import error: ' + err.message, 'error');
                        console.error('Import error:', err);
                    }
                };
                reader.readAsText(file);
            },

            // Export to CSV â€” extended with new types
            exportToCSV(type) {
                if (Core.currentProduction === 'GLOBAL' && ['schedule','budget','shotlist','contacts','risks','milestones'].includes(type)) {
                    this.toast('Please select a production first', 'warn');
                    return;
                }
                let csv = '', filename = '';
                switch(type) {
                    case 'schedule': {
                        const strips = Core.data?.schedule?.strips || [];
                        csv = 'Scene,INT/EXT,DAY/NIGHT,Location,Shoot Location,Cast,Pages,Description\n';
                        strips.filter(s => s.type === 'scene').forEach(s => {
                            csv += `"${s.scene||''}","${s.intext||''}","${s.daynight||''}","${s.location||''}","${s.shootLocation||''}","${s.cast||''}","${s.pages||''}","${s.description||''}"}\n`;
                        });
                        filename = `${clean(Core.currentProduction)}_schedule_${this.getDateString()}.csv`;
                        break;
                    }
                    case 'cast': {
                        const cast = Object.values(Core.bizData.cast || {});
                        csv = 'ID,Name,Role/Character,Phone,Email,Agent,Union,Rate,Notes\n';
                        cast.forEach(c => { csv += `"${c.id||''}","${c.name||''}","${c.role||c.character||''}","${c.phone||''}","${c.email||''}","${c.agent||''}","${c.union||''}","${c.rate||''}","${c.notes||''}"}\n`; });
                        filename = `cast_list_${this.getDateString()}.csv`;
                        break;
                    }
                    case 'crew': {
                        const crew = Object.values(Core.bizData.crew || {});
                        csv = 'ID,Name,Position,Department,Phone,Email,Rate,Notes\n';
                        crew.forEach(c => { csv += `"${c.id||''}","${c.name||''}","${c.position||''}","${c.department||''}","${c.phone||''}","${c.email||''}","${c.rate||''}","${c.notes||''}"}\n`; });
                        filename = `crew_list_${this.getDateString()}.csv`;
                        break;
                    }
                    case 'budget': {
                        const budLines = Core.data?.budget?.lines || [];
                        const poList   = Core.data?.budget?.pos   || [];
                        csv = 'Code,Category,Estimated,Actual,Variance,Status\n';
                        budLines.forEach(l => {
                            const est = parseFloat(l.est)||0, act = parseFloat(l.act)||0;
                            const variance = (est - act).toFixed(2);
                            const status = act > est ? 'OVER' : act > 0 ? 'OK' : '';
                            csv += `"${l.code||''}","${l.name||''}","${est.toFixed(2)}","${act.toFixed(2)}","${variance}","${status}"\n`;
                        });
                        if (poList.length) {
                            csv += '\nPURCHASE ORDERS\nDate,PO #,Vendor,Amount,Description\n';
                            poList.forEach(p => {
                                csv += `"${p.date||''}","${p.poNum||''}","${p.vendor||''}","${parseFloat(p.amount||0).toFixed(2)}","${p.desc||''}"}\n`;
                            });
                        }
                        filename = `${clean(Core.currentProduction)}_budget_${this.getDateString()}.csv`;
                        break;
                    }
                    case 'shotlist': {
                        const shots = Core.data?.shotlist || [];
                        csv = 'Shot #,Scene,Type,Size,Angle,Movement,Lens,FPS,Cast,Equipment,Description,Status,Notes\n';
                        shots.forEach(s => {
                            csv += `"${s.number||''}","${s.scene||''}","${s.type||''}","${s.size||''}","${s.angle||''}","${s.movement||''}","${s.lens||''}","${s.fps||''}","${s.cast||''}","${s.equipment||''}","${s.description||''}","${s.status||'Planned'}","${s.notes||''}"}\n`;
                        });
                        filename = `${clean(Core.currentProduction)}_shotlist_${this.getDateString()}.csv`;
                        break;
                    }
                    case 'contacts': {
                        const contacts = Core.data?.contacts || [];
                        csv = 'Name,Role,Department,Phone,Email,Company,Notes\n';
                        contacts.forEach(c => {
                            csv += `"${c.name||''}","${c.role||c.title||''}","${c.department||''}","${c.phone||''}","${c.email||''}","${c.company||''}","${c.notes||''}"}\n`;
                        });
                        filename = `${clean(Core.currentProduction)}_contacts_${this.getDateString()}.csv`;
                        break;
                    }
                    case 'risks': {
                        const risks = Core.data?.risks || [];
                        csv = 'Description,Category,Severity,Status,Resolved,Mitigation\n';
                        risks.forEach(r => {
                            const desc = r.description||r.risk||r.riskDescription||r.title||'';
                            const cat  = r.category||r.riskCategory||'';
                            const sev  = r.level||r.severity||r.riskSeverity||'';
                            const mit  = r.mitigation||r.riskMitigation||'';
                            const resolved = r.resolved || r.status === 'Resolved' ? 'YES' : 'NO';
                            csv += `"${desc}","${cat}","${sev}","${r.status||''}","${resolved}","${mit}"\n`;
                        });
                        filename = `${clean(Core.currentProduction)}_risks_${this.getDateString()}.csv`;
                        break;
                    }
                    case 'milestones': {
                        const milestones = Core.data?.milestones || [];
                        csv = 'Title,Phase,Due Date,Completed,Status,Description,Notes\n';
                        milestones.forEach(m => {
                            csv += `"${m.title||m.name||''}","${m.phase||''}","${m.dueDate||m.date||''}","${m.completed ? 'YES' : 'NO'}","${m.status||''}","${m.description||''}","${m.notes||''}"}\n`;
                        });
                        filename = `${clean(Core.currentProduction)}_milestones_${this.getDateString()}.csv`;
                        break;
                    }
                    default:
                        this.toast('Unknown CSV type: ' + type, 'error');
                        return;
                }
                if (!csv) { this.toast('No data to export', 'warn'); return; }
                const blob = new Blob([csv], { type: 'text/csv' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url; a.download = filename; a.click();
                URL.revokeObjectURL(url);
                Core.log(`CSV exported: ${filename}`);
                this.toast(`âœ“ ${filename.split('_')[0]} CSV exported`, 'success');
            },

            // Helper: download JSON
            downloadJSON(data, filename) {
                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url; a.download = filename; a.click();
                URL.revokeObjectURL(url);
            },

            // Helper: date string
            getDateString() { return new Date().toISOString().split('T')[0]; },

            // Legacy aliases
            exportAllData() { this.exportEverything(); }
        };



        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MOBILE MENU FUNCTIONALITY
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        function toggleMobileMenu() {
            const sidebar = document.querySelector('.sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            if (!sidebar || !overlay) return;
            const isOpen = sidebar.classList.contains('mobile-open');
            if (isOpen) {
                sidebar.classList.remove('mobile-open');
                overlay.classList.remove('active');
                document.body.style.overflow = '';
            } else {
                sidebar.classList.add('mobile-open');
                overlay.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
        }

        function closeMobileMenu() {
            const sidebar = document.querySelector('.sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            if (sidebar) sidebar.classList.remove('mobile-open');
            if (overlay) overlay.classList.remove('active');
            document.body.style.overflow = '';
        }

        /* Navigation system ready */

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           INITIALIZATION
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸš€ LUXURY POPUP SYSTEM - JAVASCRIPT ENGINE ğŸš€
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        
        const LuxuryPopup = {
            currentOverlay: null,
            
            show(config) {
                this.close();
                
                const overlay = document.createElement('div');
                overlay.className = 'luxury-popup-overlay';
                
                const popup = document.createElement('div');
                popup.className = 'luxury-popup';
                popup.innerHTML = `
                    <div class="luxury-popup-energy-grid"></div>
                    <div class="luxury-popup-header">
                        <h2 class="luxury-popup-title">${config.title}</h2>
                        <div class="luxury-popup-subtitle">${config.subtitle || 'Fill in the details below'}</div>
                        <button class="luxury-popup-close" onclick="LuxuryPopup.close()">âœ•</button>
                    </div>
                    <div class="luxury-popup-body">${this.generateFields(config.fields)}</div>
                    <div class="luxury-popup-footer">
                        <button class="luxury-btn luxury-btn-secondary" onclick="LuxuryPopup.close()"><span>Cancel</span></button>
                        <button class="luxury-btn luxury-btn-primary" onclick="LuxuryPopup.submit('${config.type}')"><span>${config.submitText || 'Create'}</span></button>
                    </div>
                `;
                
                overlay.appendChild(popup);
                document.body.appendChild(overlay);
                this.currentOverlay = overlay;
                
                requestAnimationFrame(() => overlay.classList.add('active'));
                
                overlay.addEventListener('click', (e) => {
                    if (e.target === overlay) this.close();
                });
                
                this.escapeHandler = (e) => {
                    if (e.key === 'Escape') this.close();
                };
                document.addEventListener('keydown', this.escapeHandler);
            },
            
            generateFields(fields) {
                return fields.map(field => {
                    const required = field.required ? '<span class="required">*</span>' : '';
                    let input = '';
                    
                    switch(field.type) {
                        case 'text':
                        case 'email':
                        case 'tel':
                        case 'number':
                        case 'date':
                        case 'time':
                            input = `<input type="${field.type}" class="luxury-form-input" id="${field.id}" placeholder="${field.placeholder || ''}" ${field.required ? 'required' : ''}>`;
                            break;
                        case 'textarea':
                            input = `<textarea class="luxury-form-textarea" id="${field.id}" placeholder="${field.placeholder || ''}" ${field.required ? 'required' : ''}></textarea>`;
                            break;
                        case 'select':
                            const options = field.options.map(opt => `<option value="${opt}">${opt}</option>`).join('');
                            input = `<select class="luxury-form-select" id="${field.id}" ${field.required ? 'required' : ''}>${options}</select>`;
                            break;
                    }
                    
                    const hint = field.hint ? `<div class="luxury-info-hint">${field.hint}</div>` : '';
                    
                    return `
                        <div class="luxury-form-field">
                            <label class="luxury-form-label">${field.label}${required}</label>
                            ${input}
                            ${hint}
                        </div>
                    `;
                }).join('');
            },
            
            submit(type) {
                const formData = {};
                const inputs = this.currentOverlay.querySelectorAll('input, textarea, select');
                
                let isValid = true;
                inputs.forEach(input => {
                    if (input.hasAttribute('required') && !input.value.trim()) {
                        isValid = false;
                        input.style.borderColor = 'rgba(244, 63, 94, 1)';
                        setTimeout(() => { input.style.borderColor = ''; }, 2000);
                    }
                    formData[input.id] = input.value;
                });
                
                if (!isValid) {
                    alert('Please fill in all required fields');
                    return;
                }
                
                this.handlers[type]?.(formData);
                this.showSuccess();
                setTimeout(() => this.close(), 1500);
            },
            
            handlers: {
                milestone(data) {
                    if (Core.currentProduction === 'GLOBAL') { alert('Please select a production first'); return; }
                    if (!Core.data.milestones) Core.data.milestones = [];
                    Core.data.milestones.push({ id: Date.now(), name: data.milestoneName, date: data.milestoneDate, status: data.milestoneStatus, notes: data.milestoneNotes || '' });
                    Core.save(); Core.renderMilestones();
                },
                risk(data) {
                    if (Core.currentProduction === 'GLOBAL') { alert('Please select a production first'); return; }
                    if (!Core.data.risks) Core.data.risks = [];
                    Core.data.risks.push({ id: Date.now(), risk: data.riskDescription, severity: data.riskSeverity, mitigation: data.riskMitigation || '', status: data.riskStatus });
                    Core.save(); Core.renderRisks();
                },
                contact(data) {
                    if (!Core.bizData.contacts) Core.bizData.contacts = {};
                    const id = Date.now();
                    const dept = data.contactDepartment || 'Production';
                    Core.bizData.contacts[id] = { id, name: data.contactName, company: data.contactCompany || '', role: data.contactRole || '', department: dept, email: data.contactEmail || '', phone: data.contactPhone || '', notes: data.contactNotes || '' };
                    Core.save();
                    if (typeof ContactDirectory !== 'undefined') ContactDirectory.render();
                    Core.log(`Contact added: ${data.contactName} (${dept})`);
                },
                shoot(data) {
                    if (Core.currentProduction === 'GLOBAL') { alert('Please select a production first'); return; }
                    if (!Core.data.schedule) Core.data.schedule = { strips: [] };
                    Core.data.schedule.strips.push({ id: Date.now(), type: 'shoot', date: data.shootDate, scene: data.shootScene || '', location: data.shootLocation || '', callTime: data.shootCallTime || '', notes: data.shootNotes || '' });
                    Core.save(); Core.renderSchedule();
                },
                scene(data) {
                    if (Core.currentProduction === 'GLOBAL') { alert('Please select a production first'); return; }
                    if (!Core.data.schedule) Core.data.schedule = { strips: [] };
                    Core.data.schedule.strips.push({ id: Date.now(), type: 'scene', scene: data.sceneNumber, intext: data.sceneIntExt, daynight: data.sceneDayNight, location: data.sceneLocation, description: data.sceneDescription || '', pages: data.scenePages || '', cast: data.sceneCast || '' });
                    Core.save(); Core.renderSchedule();
                },
                banner(data) {
                    if (Core.currentProduction === 'GLOBAL') { alert('Please select a production first'); return; }
                    if (!Core.data.schedule) Core.data.schedule = { strips: [] };
                    Core.data.schedule.strips.push({ id: Date.now(), type: 'banner', text: data.bannerText, color: data.bannerColor });
                    Core.save(); Core.renderSchedule();
                },
                shot(data) {
                    if (Core.currentProduction === 'GLOBAL') { alert('Please select a production first'); return; }
                    if (!Core.data.shotlist) Core.data.shotlist = [];
                    Core.data.shotlist.push({ id: Date.now(), scene: data.shotScene, number: data.shotNumber, size: data.shotSize, movement: data.shotMovement || '', description: data.shotDescription || '', notes: data.shotNotes || '' });
                    Core.save(); Core.renderShotlist();
                },
                continuity(data) {
                    if (Core.currentProduction === 'GLOBAL') { alert('Please select a production first'); return; }
                    if (!Core.data.continuity) Core.data.continuity = [];
                    Core.data.continuity.push({ 
                        id: Date.now(), 
                        scene: data.continuityScene, 
                        take: data.continuityTake, 
                        wardrobe: data.continuityWardrobe || '',
                        props: data.continuityProps || '',
                        hairMakeup: data.continuityHairMakeup || '',
                        actorPositions: data.continuityActorPositions || '',
                        additionalNotes: data.continuityAdditionalNotes || '',
                        timestamp: new Date().toISOString() 
                    });
                    Core.save(); Core.renderContinuity();
                },
                cast(data) {
                    if (!Core.bizData.cast) Core.bizData.cast = {};
                    const id = Date.now();
                    Core.bizData.cast[id] = { id, name: data.castName, role: data.castRole || '', phone: data.castPhone || '', email: data.castEmail || '', agent: data.castAgent || '', notes: data.castNotes || '' };
                    Core.save(); Core.renderCast();
                },
                crew(data) {
                    if (!Core.bizData.crew) Core.bizData.crew = {};
                    const id = Date.now();
                    Core.bizData.crew[id] = { id, name: data.crewName, position: data.crewPosition, phone: data.crewPhone || '', email: data.crewEmail || '', department: data.crewDepartment || '', notes: data.crewNotes || '' };
                    Core.save(); Core.renderCrew();
                },
                task(data) {
                    if (Core.currentProduction === 'GLOBAL') { alert('Please select a production first'); return; }
                    if (!Core.data.gantt) Core.data.gantt = { production: [], global: [] };
                    if (!Core.data.gantt.production) Core.data.gantt.production = [];
                    Core.data.gantt.production.push({ 
                        id: Date.now(), 
                        name: data.taskName, 
                        assignee: data.taskAssignee || '', 
                        start: data.taskStartDate, 
                        end: data.taskEndDate, 
                        status: data.taskStatus, 
                        priority: data.taskPriority || 'Medium', 
                        notes: data.taskNotes || '',
                        dependencies: []
                    });
                    Core.save();
                    if (typeof GanttEnhanced !== 'undefined' && GanttEnhanced.render) {
                        GanttEnhanced.render();
                    }
                }
            },
            
            showSuccess() {
                const indicator = document.createElement('div');
                indicator.className = 'luxury-success-indicator';
                indicator.innerHTML = 'âœ“';
                document.body.appendChild(indicator);
                requestAnimationFrame(() => indicator.classList.add('show'));
                setTimeout(() => indicator.remove(), 1500);
            },
            
            close() {
                if (this.currentOverlay) {
                    this.currentOverlay.classList.remove('active');
                    setTimeout(() => {
                        this.currentOverlay?.remove();
                        this.currentOverlay = null;
                    }, 500);
                }
                if (this.escapeHandler) {
                    document.removeEventListener('keydown', this.escapeHandler);
                    this.escapeHandler = null;
                }
            }
        };
        
        const PopupConfigs = {
            milestone: { title: 'Add Milestone', subtitle: 'Track key production milestones', type: 'milestone', submitText: 'Add Milestone', fields: [
                { id: 'milestoneName', label: 'Milestone Name', type: 'text', required: true, placeholder: 'e.g., Script Lock, First Shoot Day' },
                { id: 'milestoneDate', label: 'Target Date', type: 'date', required: true },
                { id: 'milestoneStatus', label: 'Status', type: 'select', required: true, options: ['Not Started', 'In Progress', 'Completed', 'Delayed'] },
                { id: 'milestoneNotes', label: 'Notes', type: 'textarea', placeholder: 'Additional details or context' }
            ]},
            risk: { title: 'Add Risk', subtitle: 'Document potential production risks', type: 'risk', submitText: 'Add Risk', fields: [
                { id: 'riskDescription', label: 'Risk Description', type: 'textarea', required: true, placeholder: 'Describe the potential risk' },
                { id: 'riskSeverity', label: 'Severity', type: 'select', required: true, options: ['Low', 'Medium', 'High', 'Critical'] },
                { id: 'riskStatus', label: 'Status', type: 'select', required: true, options: ['Identified', 'Mitigating', 'Resolved', 'Accepted'] },
                { id: 'riskMitigation', label: 'Mitigation Plan', type: 'textarea', placeholder: 'How will this risk be addressed?' }
            ]},
            contact: { title: 'Add Contact', subtitle: 'Global CRM contact database', type: 'contact', submitText: 'Add Contact', fields: [
                { id: 'contactName', label: 'Full Name', type: 'text', required: true, placeholder: 'John Smith' },
                { id: 'contactCompany', label: 'Company', type: 'text', placeholder: 'Production Company LLC' },
                { id: 'contactRole', label: 'Role / Title', type: 'text', placeholder: 'Producer, Director, DP, etc.' },
                { id: 'contactDepartment', label: 'Department', type: 'select', options: ['Production','Direction','Camera','Lighting','Sound','Art','Wardrobe','Hair/Makeup','Locations','Transportation','Catering','Post-Production','Other'] },
                { id: 'contactEmail', label: 'Email', type: 'email', placeholder: 'john@example.com' },
                { id: 'contactPhone', label: 'Phone', type: 'tel', placeholder: '+1 (555) 123-4567' },
                { id: 'contactNotes', label: 'Notes', type: 'textarea', placeholder: 'Additional information' }
            ]},
            shoot: { title: 'Quick Add Shoot', subtitle: 'Add a shoot day to the schedule', type: 'shoot', submitText: 'Add Shoot', fields: [
                { id: 'shootDate', label: 'Shoot Date', type: 'date', required: true },
                { id: 'shootCallTime', label: 'Call Time', type: 'time', required: true, hint: 'Crew call time' },
                { id: 'shootLocation', label: 'Location', type: 'text', required: true, placeholder: 'Shooting location or studio' },
                { id: 'shootScene', label: 'Scene(s)', type: 'text', placeholder: 'e.g., 12, 13, 14' },
                { id: 'shootNotes', label: 'Notes', type: 'textarea', placeholder: 'Special requirements, equipment needed, etc.' }
            ]},
            scene: { title: 'Add Scene', subtitle: 'Add a scene to the shooting schedule', type: 'scene', submitText: 'Add Scene', fields: [
                { id: 'sceneNumber', label: 'Scene Number', type: 'text', required: true, placeholder: 'e.g., 42' },
                { id: 'sceneIntExt', label: 'INT/EXT', type: 'select', required: true, options: ['INT', 'EXT', 'INT/EXT'] },
                { id: 'sceneDayNight', label: 'Day/Night', type: 'select', required: true, options: ['DAY', 'NIGHT', 'DAWN', 'DUSK'] },
                { id: 'sceneLocation', label: 'Location', type: 'text', required: true, placeholder: 'e.g., KITCHEN - MAIN HOUSE' },
                { id: 'sceneDescription', label: 'Description', type: 'textarea', placeholder: 'Brief scene description' },
                { id: 'scenePages', label: 'Page Count', type: 'text', placeholder: 'e.g., 2 3/8' },
                { id: 'sceneCast', label: 'Cast Members', type: 'text', placeholder: 'e.g., 1, 2, 5' }
            ]},
            banner: { title: 'Add Banner', subtitle: 'Add a day banner to the schedule', type: 'banner', submitText: 'Add Banner', fields: [
                { id: 'bannerText', label: 'Banner Text', type: 'text', required: true, placeholder: 'e.g., DAY 1 - MONDAY, MARCH 15' },
                { id: 'bannerColor', label: 'Banner Color', type: 'select', required: true, options: ['cyan', 'violet', 'emerald', 'rose', 'gold'] }
            ]},
            shot: { title: 'Add Shot', subtitle: 'Add a shot to the shot list', type: 'shot', submitText: 'Add Shot', fields: [
                { id: 'shotScene', label: 'Scene Number', type: 'text', required: true, placeholder: 'e.g., 42' },
                { id: 'shotNumber', label: 'Shot Number', type: 'text', required: true, placeholder: 'e.g., 42A' },
                { id: 'shotDescription', label: 'Description', type: 'textarea', required: true, placeholder: 'What happens in this shot?' },
                { id: 'shotType', label: 'Shot Type', type: 'select', required: true, options: ['Master', 'Coverage', 'Insert', 'Cutaway', 'Establishing', 'POV', 'OTS', 'Two-Shot', 'Reaction'] },
                { id: 'shotSize', label: 'Shot Size', type: 'select', required: true, options: ['EWS - Extreme Wide', 'WS - Wide', 'MWS - Medium Wide', 'MS - Medium', 'MCU - Medium Close-Up', 'CU - Close-Up', 'ECU - Extreme Close-Up', 'INSERT'] },
                { id: 'shotAngle', label: 'Camera Angle', type: 'select', options: ['Eye Level', 'High Angle', 'Low Angle', 'Dutch/Canted', 'Birds Eye', 'Worms Eye', 'Over Shoulder'] },
                { id: 'shotMovement', label: 'Camera Movement', type: 'select', options: ['Static', 'Pan', 'Tilt', 'Zoom', 'Dolly In', 'Dolly Out', 'Track', 'Crane', 'Handheld', 'Steadicam', 'Gimbal'] },
                { id: 'shotLens', label: 'Lens/Focal Length', type: 'text', placeholder: 'e.g., 35mm, 50mm, 85mm' },
                { id: 'shotFPS', label: 'Frame Rate', type: 'select', options: ['24 fps', '25 fps', '30 fps', '48 fps', '60 fps', '120 fps', '240 fps'] },
                { id: 'shotCast', label: 'Cast in Shot', type: 'text', placeholder: 'e.g., Character 1, Character 2' },
                { id: 'shotEquipment', label: 'Special Equipment', type: 'text', placeholder: 'Dolly, crane, drone, etc.' },
                { id: 'shotDuration', label: 'Estimated Duration', type: 'text', placeholder: 'e.g., 15 seconds' },
                { id: 'shotVFX', label: 'VFX Notes', type: 'textarea', placeholder: 'Any VFX or post-production notes' },
                { id: 'shotNotes', label: 'Additional Notes', type: 'textarea', placeholder: 'Lighting, audio, or other technical notes' },
                { id: 'shotStatus', label: 'Status', type: 'select', options: ['Planned', 'In Progress', 'Review', 'Completed'], defaultValue: 'Planned' }
            ]},
            continuity: { title: 'Add Continuity Entry', subtitle: 'Comprehensive continuity logging', type: 'continuity', submitText: 'Add Entry', fields: [
                { id: 'continuityScene', label: 'Scene Number', type: 'text', required: true, placeholder: 'e.g., 42' },
                { id: 'continuityTake', label: 'Take Number', type: 'text', required: true, placeholder: 'e.g., Take 5' },
                { id: 'continuityWardrobe', label: 'Wardrobe Description', type: 'textarea', required: false, placeholder: 'Describe wardrobe details' },
                { id: 'continuityProps', label: 'Props', type: 'textarea', required: false, placeholder: 'List props and their positions' },
                { id: 'continuityHairMakeup', label: 'Hair/Makeup', type: 'textarea', required: false, placeholder: 'Hair and makeup details' },
                { id: 'continuityActorPositions', label: 'Actor Positions', type: 'textarea', required: false, placeholder: 'Blocking and position notes' },
                { id: 'continuityAdditionalNotes', label: 'Additional Notes', type: 'textarea', required: false, placeholder: 'Any other continuity notes' }
            ]},
            cast: { title: 'Add Cast Member', subtitle: 'Add to global cast database', type: 'cast', submitText: 'Add Cast', fields: [
                { id: 'castName', label: 'Actor Name', type: 'text', required: true, placeholder: 'Full name' },
                { id: 'castRole', label: 'Character/Role', type: 'text', placeholder: 'Character they play' },
                { id: 'castPhone', label: 'Phone', type: 'tel', placeholder: '+1 (555) 123-4567' },
                { id: 'castEmail', label: 'Email', type: 'email', placeholder: 'actor@example.com' },
                { id: 'castAgent', label: 'Agent/Manager', type: 'text', placeholder: 'Agency or manager name' },
                { id: 'castNotes', label: 'Notes', type: 'textarea', placeholder: 'Availability, dietary restrictions, etc.' }
            ]},
            crew: { title: 'Add Crew Member', subtitle: 'Add to global crew database', type: 'crew', submitText: 'Add Crew', fields: [
                { id: 'crewName', label: 'Crew Name', type: 'text', required: true, placeholder: 'Full name' },
                { id: 'crewPosition', label: 'Position', type: 'text', required: true, placeholder: 'e.g., Gaffer, 1st AC' },
                { id: 'crewDepartment', label: 'Department', type: 'select', options: ['Camera', 'Lighting', 'Sound', 'Art', 'Grip', 'Production', 'Post', 'Other'] },
                { id: 'crewPhone', label: 'Phone', type: 'tel', placeholder: '+1 (555) 123-4567' },
                { id: 'crewEmail', label: 'Email', type: 'email', placeholder: 'crew@example.com' },
                { id: 'crewNotes', label: 'Notes', type: 'textarea', placeholder: 'Experience, equipment, availability' }
            ]},
            task: { title: 'Add Task', subtitle: 'Create a task for Gantt chart', type: 'task', submitText: 'Add Task', fields: [
                { id: 'taskName', label: 'Task Name', type: 'text', required: true, placeholder: 'e.g., Location Scouting' },
                { id: 'taskAssignee', label: 'Assigned To', type: 'text', placeholder: 'Team member name' },
                { id: 'taskStartDate', label: 'Start Date', type: 'date', required: true },
                { id: 'taskEndDate', label: 'End Date', type: 'date', required: true },
                { id: 'taskStatus', label: 'Status', type: 'select', required: true, options: ['Not Started', 'In Progress', 'Completed', 'On Hold'] },
                { id: 'taskPriority', label: 'Priority', type: 'select', options: ['Low', 'Medium', 'High', 'Urgent'] },
                { id: 'taskNotes', label: 'Notes', type: 'textarea', placeholder: 'Task details and requirements' }
            ]},
            production: { title: 'Create New Production', subtitle: 'Set up a new production project', type: 'production', submitText: 'Create Production', fields: [
                { id: 'productionName', label: 'Production Name', type: 'text', required: true, placeholder: 'e.g., Summer Beach Commercial' },
                { id: 'productionType', label: 'Production Type', type: 'select', required: true, options: ['Film', 'TV Series', 'Commercial', 'Music Video', 'Documentary', 'Short', 'Corporate', 'Event', 'Other'] },
                { id: 'productionDescription', label: 'Description', type: 'textarea', placeholder: 'Brief description of the production' },
                { id: 'productionBudget', label: 'Initial Budget', type: 'number', placeholder: '0' },
                { id: 'productionClient', label: 'Client/Studio', type: 'text', placeholder: 'Client or production company name' },
                { id: 'productionDirector', label: 'Director', type: 'text', placeholder: 'Director name' },
                { id: 'productionUploadToCloud', label: 'Upload to Cloud', type: 'checkbox', defaultChecked: true }
            ]}
        };
        
        // Add onSubmit callbacks to PopupConfigs
        PopupConfigs.production.onSubmit = async (data) => {
            const name = data.productionName.trim();
            const type = data.productionType;
            const description = data.productionDescription || '';
            const budget = parseFloat(data.productionBudget) || 0;
            const client = data.productionClient || '';
            const director = data.productionDirector || '';
            const uploadToCloud = data.productionUploadToCloud === true;
            
            if (!name) {
                alert('Production name is required!');
                return;
            }
            
            const id = name.replace(/[^a-zA-Z0-9]/g, '_').toUpperCase();
            
            if (Core.data[id]) {
                alert('Production with this name already exists!');
                return;
            }
            
            console.log(`ğŸ†• Creating NEW production: ${name}`);
            console.log(`ğŸ“Š Initializing with EMPTY cast and crew...`);
            
            console.log(`âœ… New production initialized`);

            // Auto-generate 7 default crew roles for Film/Short/Documentary
            const _filmProdTypes = ['film','short','documentary'];
            const _defaultCrew = {};
            if (_filmProdTypes.includes((type||'').toLowerCase())) {
                const _filmRoles = [
                    { position: 'Director',                             department: 'Direction',   notes: 'Creative lead of the production.' },
                    { position: 'Director of Photography (DP)',         department: 'Camera',      notes: 'Camera, lighting, and visual language.' },
                    { position: 'First Assistant Director (1st AD)',    department: 'Production',  notes: 'Set floor management, call sheets, daily schedule.' },
                    { position: 'Production Designer',                  department: 'Art',         notes: 'All visual design, sets, and art direction.' },
                    { position: 'Gaffer',                               department: 'Lighting',    notes: 'Chief lighting technician. Works with DP.' },
                    { position: 'Production Sound Mixer',               department: 'Sound',       notes: 'On-set audio recording and sound department lead.' },
                    { position: 'Script Supervisor',                    department: 'Production',  notes: 'Continuity, script timings, editorial liaison.' },
                ];
                _filmRoles.forEach((c, i) => {
                    const k = String(Date.now() + i * 13);
                    _defaultCrew[k] = { id: `CR${(i+1).toString().padStart(3,'0')}`, name: 'TBD', position: c.position, department: c.department, phone: '', email: '', notes: c.notes };
                });
                console.log(`ğŸ¬ Film production â€” 7 default crew roles pre-loaded`);
            }
            
            // CRITICAL: First, save the empty production to localStorage
            const emptyProductionData = {
                name: name,
                type: type,
                description: description,
                client: client,
                director: director,
                created: Date.now(),
                lastModified: Date.now(),
                _cloudSynced: false,
                budget: budget,
                cast: {},
                crew: _defaultCrew,
                schedule: { strips: [] },
                shotlist: [],
                milestones: [],
                risks: [],
                tasks: [],
                continuity: [],
                days: [],
                tech: [],
                vault: [],
                breakdowns: [],
                locations: [],
                crm: { leads: [], ledger: [] },
                financials: { categories: {}, budget: budget, spent: 0, remaining: budget },
                notes: '',
                contacts: []
            };
            
            localStorage.setItem(`dc_alacrity_prod_${id}`, JSON.stringify(emptyProductionData));
            console.log(`ğŸ’¾ Saved empty production to localStorage`);
            
            // Now load it properly to ensure clean state
            Core.currentProduction = id;
            await Core.loadProduction(id);
            
            console.log(`ğŸ“‚ Loaded new production, verifying isolation...`);
            console.log(`ğŸ“Š Cast count: ${Object.keys(Core.data.cast || {}).length}`);
            console.log(`ğŸ“Š Crew count: ${Object.keys(Core.data.crew || {}).length}`);
            
            // Add to productions list
            await Core.createProduction(id);
            
            // Render all views with the new empty production
            Core.renderProductionDropdown();
            Core.renderAll();
            
            // Upload to cloud if requested and user is logged in
            if (uploadToCloud && Auth.user && !Auth.isDemoMode) {
                try {
                    Core.data._cloudSynced = true;
                    const dbRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productions/${id}`);
                    await window.firebaseSet(dbRef, Core.data);
                    localStorage.setItem(`dc_alacrity_prod_${id}`, JSON.stringify(Core.data));
                    luxNotify('\u2601\uFE0F \u201C' + name + '\u201D uploaded to cloud.', 'success', 3500);
                } catch (e) {
                    console.error('Cloud upload failed:', e);
                    luxNotify('Cloud upload failed: ' + e.message, 'error');
                }
            }

            // Show success notification + BSP (same flow as Productions.create)
            if (typeof Productions !== 'undefined' && typeof Productions.showSuccessNotification === 'function') {
                Productions.showSuccessNotification(name);
            } else {
                luxNotify('\uD83C\uDFAC \u201C' + name + '\u201D created and ready.', 'success', 4000);
                setTimeout(function(){ try { showBudgetScalePopup(); } catch(e){} }, 400);
            }
            
            // Refresh library if it's open
            if (document.getElementById('view-production-library')?.classList.contains('active')) {
                ProductionLibrary.render();
            }
        };
        
        PopupConfigs.milestone.onSubmit = (data) => {
            if (Core.currentProduction === 'GLOBAL') { alert('Please select a production first'); return; }
            if (!Core.data.milestones) Core.data.milestones = [];
            Core.data.milestones.push({ id: Date.now(), name: data.milestoneName, date: data.milestoneDate, status: data.milestoneStatus, notes: data.milestoneNotes || '' });
            Core.save();
            
            // Immediate cloud sync
            if (Auth.user && !Auth.isDemoMode) {
                Core.syncToCloud();
            }
            
            Core.renderMilestones();
        };
        PopupConfigs.risk.onSubmit = (data) => {
            if (Core.currentProduction === 'GLOBAL') { alert('Please select a production first'); return; }
            if (!Core.data.risks) Core.data.risks = [];
            Core.data.risks.push({ id: Date.now(), risk: data.riskDescription, severity: data.riskSeverity, mitigation: data.riskMitigation || '', status: data.riskStatus });
            Core.save();
            
            // Immediate cloud sync
            if (Auth.user && !Auth.isDemoMode) {
                Core.syncToCloud();
            }
            
            Core.renderRisks();
        };
        PopupConfigs.shot.onSubmit = (data) => {
            console.log('ğŸ¬ Shot onSubmit called with data:', data);
            console.log('ğŸ“Š Current production:', Core.currentProduction);
            console.log('ğŸ“Š Core.data exists:', !!Core.data);
            console.log('ğŸ“Š Core.data.shotlist before:', Core.data.shotlist);
            
            if (Core.currentProduction === 'GLOBAL') { 
                alert('Please select a production first'); 
                return; 
            }
            if (!Core.data.shotlist) {
                console.log('âš ï¸ Initializing shotlist array');
                Core.data.shotlist = [];
            }
            
            const shot = {
                id: Date.now(),
                scene: data.shotScene,
                number: data.shotNumber,
                description: data.shotDescription,
                type: data.shotType,
                size: data.shotSize,
                angle: data.shotAngle || '',
                movement: data.shotMovement || 'Static',
                lens: data.shotLens || '',
                fps: data.shotFPS || '24 fps',
                cast: data.shotCast || '',
                equipment: data.shotEquipment || '',
                duration: data.shotDuration || '',
                vfx: data.shotVFX || '',
                notes: data.shotNotes || '',
                status: data.shotStatus || 'Planned',
                completed: (data.shotStatus === 'Completed')
            };
            
            console.log('âœ… Shot object created:', shot);
            
            Core.data.shotlist.push(shot);
            console.log('ğŸ“Š Core.data.shotlist after push:', Core.data.shotlist);
            console.log('ğŸ’¾ Calling Core.save()...');
            Core.save();
            
            // Immediate cloud sync for better responsiveness
            if (Auth.user && !Auth.isDemoMode) {
                console.log('â˜ï¸ Triggering immediate cloud sync...');
                Core.syncToCloud();
            }
            
            // Refresh shot list view if it's active
            if (document.querySelector('#view-shotlist.active')) {
                console.log('ğŸ”„ Refreshing shot list view...');
                ShotList.render();
            }
            
            console.log('âœ… Shot addition complete');
            PopupSystem.showToast(`âœ… Shot ${data.shotNumber} added`, 'success');
        };
        PopupConfigs.contact.onSubmit = (data) => {
            if (!Core.bizData.contacts) Core.bizData.contacts = {};
            const id = Date.now();
            const dept = data.contactDepartment || 'Production';
            Core.bizData.contacts[id] = { id, name: data.contactName, company: data.contactCompany || '', role: data.contactRole || '', department: dept, email: data.contactEmail || '', phone: data.contactPhone || '', notes: data.contactNotes || '' };
            Core.save();
            if (typeof ContactDirectory !== 'undefined') ContactDirectory.render();
            Core.log(`Contact added: ${data.contactName} (${dept})`);
        };
        PopupConfigs.shoot.onSubmit = (data) => {
            if (Core.currentProduction === 'GLOBAL') { alert('Please select a production first'); return; }
            if (!Core.data.schedule) Core.data.schedule = { strips: [] };
            Core.data.schedule.strips.push({ id: Date.now(), type: 'shoot', date: data.shootDate, scene: data.shootScene || '', location: data.shootLocation || '', callTime: data.shootCallTime || '', notes: data.shootNotes || '' });
            Core.save();
            
            // Immediate cloud sync
            if (Auth.user && !Auth.isDemoMode) {
                Core.syncToCloud();
            }
            
            Core.renderSchedule();
        };
        PopupConfigs.scene.onSubmit = (data) => {
            if (Core.currentProduction === 'GLOBAL') { alert('Please select a production first'); return; }
            if (!Core.data.schedule) Core.data.schedule = { strips: [] };
            Core.data.schedule.strips.push({ id: Date.now(), type: 'scene', scene: data.sceneNumber, intext: data.sceneIntExt, daynight: data.sceneDayNight, location: data.sceneLocation, description: data.sceneDescription || '', pages: data.scenePages || '', cast: data.sceneCast || '' });
            Core.save();
            
            // Immediate cloud sync
            if (Auth.user && !Auth.isDemoMode) {
                Core.syncToCloud();
            }
            
            Core.renderSchedule();
        };
        PopupConfigs.banner.onSubmit = (data) => {
            if (Core.currentProduction === 'GLOBAL') { alert('Please select a production first'); return; }
            if (!Core.data.schedule) Core.data.schedule = { strips: [] };
            Core.data.schedule.strips.push({ id: Date.now(), type: 'banner', text: data.bannerText, color: data.bannerColor });
            Core.save();
            
            // Immediate cloud sync
            if (Auth.user && !Auth.isDemoMode) {
                Core.syncToCloud();
            }
            
            Core.renderSchedule();
        };
        PopupConfigs.continuity.onSubmit = (data) => {
            if (Core.currentProduction === 'GLOBAL') { alert('Please select a production first'); return; }
            if (!Core.data.continuity) Core.data.continuity = [];
            Core.data.continuity.push({ 
                id: Date.now(), 
                scene: data.continuityScene, 
                take: data.continuityTake, 
                wardrobe: data.continuityWardrobe || '',
                props: data.continuityProps || '',
                hairMakeup: data.continuityHairMakeup || '',
                actorPositions: data.continuityActorPositions || '',
                additionalNotes: data.continuityAdditionalNotes || '',
                timestamp: new Date().toISOString() 
            });
            Core.save();
            
            // Immediate cloud sync
            if (Auth.user && !Auth.isDemoMode) {
                Core.syncToCloud();
            }
            
            Core.renderContinuity();
        };
        PopupConfigs.cast.onSubmit = (data) => {
            if (!Core.bizData.cast) Core.bizData.cast = {};
            const id = Date.now();
            Core.bizData.cast[id] = { id, name: data.castName, role: data.castRole || '', phone: data.castPhone || '', email: data.castEmail || '', agent: data.castAgent || '', notes: data.castNotes || '' };
            Core.save(); Core.renderCast();
        };
        PopupConfigs.crew.onSubmit = (data) => {
            if (!Core.bizData.crew) Core.bizData.crew = {};
            const id = Date.now();
            Core.bizData.crew[id] = { id, name: data.crewName, position: data.crewPosition, phone: data.crewPhone || '', email: data.crewEmail || '', department: data.crewDepartment || '', notes: data.crewNotes || '' };
            Core.save(); Core.renderCrew();
        };
        PopupConfigs.task.onSubmit = (data) => {
            if (Core.currentProduction === 'GLOBAL') { 
                alert('Please select a production first'); 
                return; 
            }
            
            // Initialize gantt structure if needed
            if (!Core.data.gantt) Core.data.gantt = { production: [], global: [] };
            if (!Core.data.gantt.production) Core.data.gantt.production = [];
            
            // Create task object
            const task = {
                id: Date.now(),
                name: data.taskName,
                assignee: data.taskAssignee || '',
                start: data.taskStartDate,
                end: data.taskEndDate,
                status: data.taskStatus,
                priority: data.taskPriority || 'Medium',
                notes: data.taskNotes || '',
                dependencies: []
            };
            
            // Add to production tasks
            Core.data.gantt.production.push(task);
            Core.save();
            
            // Immediate cloud sync for better responsiveness
            if (Auth.user && !Auth.isDemoMode) {
                Core.syncToCloud();
            }
            
            // Render Gantt chart if it exists
            if (typeof GanttEnhanced !== 'undefined' && GanttEnhanced.render) {
                GanttEnhanced.render();
            }
            
            PopupSystem.showToast(`âœ… Task "${data.taskName}" added`, 'success');
        };
        
        function openMilestonePopup() { PopupSystem.show(PopupConfigs.milestone); }
        function openRiskPopup() { PopupSystem.show(PopupConfigs.risk); }
        function openContactPopup() { PopupSystem.show(PopupConfigs.contact); }
        function openShootPopup() { PopupSystem.show(PopupConfigs.shoot); }
        function openScenePopup() { PopupSystem.show(PopupConfigs.scene); }
        function openBannerPopup() { PopupSystem.show(PopupConfigs.banner); }
        function openShotPopup() { PopupSystem.show(PopupConfigs.shot); }
        function openContinuityPopup() { PopupSystem.show(PopupConfigs.continuity); }
        function openCastPopup() { PopupSystem.show(PopupConfigs.cast); }
        function openCrewPopup() { PopupSystem.show(PopupConfigs.crew); }
        function openTaskPopup() { PopupSystem.show(PopupConfigs.task); }
        function openProductionPopup() { PopupSystem.show(PopupConfigs.production); }

        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // PRODUCTION LIBRARY SYSTEM - Complete Cloud Management (Dedicated View)
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        const ProductionLibrary = {
            currentFilter: 'all',
            searchTerm: '',
            
            open() {
                // Navigate to the production library view
                Core.navigate('production-library');
            },
            
            setFilter(filter) {
                this.currentFilter = filter;
                // Update active button
                document.querySelectorAll('.filter-btn').forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.filter === filter);
                });
                this.render();
            },
            
            filterProductions() {
                this.searchTerm = document.getElementById('production-library-search')?.value.toLowerCase() || '';
                this.render();
            },
            
            async getProductions() {
                // Get all productions from storage and cloud
                const productionMap = new Map();
                const keys = Object.keys(localStorage);
                
                // First, load from localStorage
                for (const key of keys) {
                    if (key.startsWith('dc_alacrity_prod_') && key !== 'dc_alacrity_prod_GLOBAL') {
                        try {
                            const data = JSON.parse(localStorage.getItem(key));
                            const prodId = key.replace('dc_alacrity_prod_', '');
                            
                            productionMap.set(prodId, {
                                id: prodId,
                                isCloudSynced: data._cloudSynced === true,
                                isOfflineOnly: !(data._cloudSynced === true),
                                source: 'local',
                                ...data
                            });
                        } catch (e) {
                            console.error('Error parsing production:', key, e);
                        }
                    }
                }
                
                // Then, fetch from Firebase and merge
                if (Auth.user && !Auth.isDemoMode) {
                    try {
                        const dbRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productions`);
                        const snapshot = await window.firebaseGet(dbRef);
                        
                        if (snapshot.exists()) {
                            const cloudProductions = snapshot.val();
                            
                            for (const [prodId, cloudData] of Object.entries(cloudProductions)) {
                                if (productionMap.has(prodId)) {
                                    // Production exists both locally and in cloud
                                    const localProd = productionMap.get(prodId);
                                    const localMod = localProd.lastModified || localProd.created || 0;
                                    const cloudMod = cloudData.lastModified || cloudData.created || 0;
                                    
                                    // Update with cloud sync status
                                    productionMap.set(prodId, {
                                        ...localProd,
                                        isCloudSynced: true,
                                        isOfflineOnly: false,
                                        cloudNewer: cloudMod > localMod,
                                        cloudLastModified: cloudMod
                                    });
                                } else {
                                    // Production only exists in cloud - add it
                                    productionMap.set(prodId, {
                                        id: prodId,
                                        isCloudSynced: true,
                                        isOfflineOnly: false,
                                        source: 'cloud',
                                        cloudOnly: true,
                                        ...cloudData
                                    });
                                }
                            }
                        }
                    } catch (e) {
                        console.error('Error fetching cloud productions:', e);
                    }
                }
                
                // Convert map to array
                const productions = Array.from(productionMap.values());
                
                // Sort by last modified (most recent first)
                productions.sort((a, b) => {
                    const aDate = a.lastModified || a.created || 0;
                    const bDate = b.lastModified || b.created || 0;
                    return bDate - aDate;
                });
                
                return productions;
            },
            
            async getFilteredProductions() {
                let productions = await this.getProductions();
                
                // Apply type filter
                if (this.currentFilter !== 'all') {
                    productions = productions.filter(p => p.type === this.currentFilter);
                }
                
                // Apply search filter
                if (this.searchTerm) {
                    productions = productions.filter(p => {
                        const name = (p.name || '').toLowerCase();
                        const description = (p.description || '').toLowerCase();
                        return name.includes(this.searchTerm) || description.includes(this.searchTerm);
                    });
                }
                
                return productions;
            },
            
            formatDate(timestamp) {
                if (!timestamp) return 'Unknown';
                const date = new Date(timestamp);
                return date.toLocaleDateString('en-US', { 
                    year: 'numeric', 
                    month: 'short', 
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
            },
            
            getProductionStats(prod) {
                const stats = {
                    scenes: 0,
                    shots: 0,
                    cast: 0,
                    crew: 0,
                    budget: prod.budget || 0
                };
                
                if (prod.schedule && prod.schedule.strips) {
                    stats.scenes = prod.schedule.strips.filter(s => s.type === 'scene').length;
                }
                
                if (prod.shotlist) {
                    stats.shots = prod.shotlist.length;
                }
                
                if (prod.cast) {
                    stats.cast = Object.keys(prod.cast).length;
                }
                
                if (prod.crew) {
                    stats.crew = Object.keys(prod.crew).length;
                }
                
                return stats;
            },
            
            createProductionCard(prod) {
                const stats = this.getProductionStats(prod);
                const lastModified = this.formatDate(prod.lastModified || prod.created);
                const prodName = (prod.name || prod.id || 'Untitled Production').replace(/'/g, "\\'");
                
                // Storage badge
                let storageBadge = '';
                if (prod.cloudOnly) {
                    storageBadge = '<div class="production-card-type" style="background: rgba(139, 92, 246, 0.2); border-color: rgba(139, 92, 246, 0.4); color: #8b5cf6;">â˜ï¸ CLOUD ONLY</div>';
                } else if (prod.isOfflineOnly) {
                    storageBadge = '<div class="production-card-type" style="background: rgba(251, 191, 36, 0.2); border-color: rgba(251, 191, 36, 0.4); color: #fbbf24;">ğŸ’¾ OFFLINE ONLY</div>';
                } else if (prod.isCloudSynced) {
                    storageBadge = '<div class="production-card-type" style="background: rgba(16, 185, 129, 0.2); border-color: rgba(16, 185, 129, 0.4); color: #10b981;">â˜ï¸ CLOUD SYNCED</div>';
                }
                
                // Show newer version indicator if cloud is newer
                if (prod.cloudNewer) {
                    storageBadge += '<div class="production-card-type" style="background: rgba(59, 130, 246, 0.2); border-color: rgba(59, 130, 246, 0.4); color: #3b82f6; margin-top: 8px;">â¬‡ï¸ NEWER VERSION IN CLOUD</div>';
                }
                
                // Upload button for offline productions
                const uploadButton = prod.isOfflineOnly ? 
                    `<button class="production-card-btn" style="background: rgba(251, 191, 36, 0.2); border: 1px solid rgba(251, 191, 36, 0.4); color: #fbbf24;" onclick="ProductionLibrary.uploadToCloud('${prod.id}')">
                        â˜ï¸ Upload to Cloud
                    </button>` : '';
                
                return `
                    <div class="production-card">
                        <div class="production-card-header">
                            ${storageBadge}
                            <div class="production-card-type">${prod.type || 'Production'}</div>
                            <h3 class="production-card-name" title="${prodName}">${prod.name || prod.id || 'Untitled Production'}</h3>
                            <div class="production-card-date">Last modified: ${lastModified}</div>
                        </div>
                        
                        <div class="production-card-body">
                            <div class="production-card-stats">
                                <div class="production-stat">
                                    <span class="production-stat-icon">ğŸ¬</span>
                                    <span><span class="production-stat-value">${stats.scenes}</span> Scenes</span>
                                </div>
                                <div class="production-stat">
                                    <span class="production-stat-icon">ğŸ“¸</span>
                                    <span><span class="production-stat-value">${stats.shots}</span> Shots</span>
                                </div>
                                <div class="production-stat">
                                    <span class="production-stat-icon">ğŸ‘¥</span>
                                    <span><span class="production-stat-value">${stats.cast}</span> Cast</span>
                                </div>
                                <div class="production-stat">
                                    <span class="production-stat-icon">ğŸ¥</span>
                                    <span><span class="production-stat-value">${stats.crew}</span> Crew</span>
                                </div>
                            </div>
                            
                            <div class="production-card-description">
                                ${prod.description || 'No description available'}
                            </div>
                        </div>
                        
                        <div class="production-card-footer">
                            <button class="production-card-btn production-card-btn-load" onclick="ProductionLibrary.loadProduction('${prod.id}')">
                                ${prod.cloudOnly ? 'â¬‡ï¸ Download & Load' : 'Load Production'}
                            </button>
                            ${uploadButton}
                            <button class="production-card-btn production-card-btn-delete" onclick="ProductionLibrary.deleteProduction('${prod.id}')">
                                Delete
                            </button>
                        </div>
                    </div>
                `;
            },
            
            async updateCloudUploadSection() {
                const section = document.getElementById('cloud-upload-section');
                if (!section) return;
                
                const productions = await this.getProductions();
                const offlineProductions = productions.filter(p => p.isOfflineOnly);
                
                if (offlineProductions.length > 0 && Auth.user && !Auth.isDemoMode) {
                    section.style.display = 'block';
                    
                    const list = document.getElementById('offline-productions-list');
                    list.innerHTML = `
                        <div style="background: rgba(251, 191, 36, 0.1); border: 1px solid rgba(251, 191, 36, 0.3); border-radius: 8px; padding: 16px;">
                            <div style="font-weight: 700; color: #fbbf24; margin-bottom: 12px;">
                                ${offlineProductions.length} Offline Production${offlineProductions.length !== 1 ? 's' : ''}
                            </div>
                            ${offlineProductions.map(p => `
                                <div style="padding: 8px 0; border-bottom: 1px solid rgba(251, 191, 36, 0.2); color: var(--text-70);">
                                    ğŸ’¾ ${p.name || p.id}
                                </div>
                            `).join('')}
                        </div>
                    `;
                } else {
                    section.style.display = 'none';
                }
            },
            
            async render() {
                const grid = document.getElementById('production-library-grid');
                if (!grid) return;
                
                console.log('ğŸ“š ProductionLibrary.render() - Refreshing library view');
                
                // Show loading state
                grid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 60px 20px; color: var(--text-50);">
                        <div style="font-size: 48px; margin-bottom: 16px;">âš™ï¸</div>
                        <div>Loading productions...</div>
                    </div>
                `;
                
                const productions = await this.getFilteredProductions();
                const allProductions = await this.getProductions();
                
                // Update production count
                const countEl = document.getElementById('production-library-count');
                if (countEl) {
                    countEl.textContent = `${allProductions.length} Production${allProductions.length !== 1 ? 's' : ''}`;
                }
                
                // Update storage mode icon
                const modeIcon = document.getElementById('storage-mode-icon');
                if (modeIcon) {
                    if (Auth.user && !Auth.isDemoMode) {
                        modeIcon.textContent = 'â˜ï¸';
                    } else {
                        modeIcon.textContent = 'ğŸ’¾';
                    }
                }
                
                // Update cloud upload section
                await this.updateCloudUploadSection();
                
                if (productions.length === 0) {
                    grid.innerHTML = `
                        <div class="production-empty">
                            <div class="production-empty-icon">ğŸ“</div>
                            <h2 class="production-empty-title">
                                ${this.searchTerm || this.currentFilter !== 'all' ? 'No Productions Found' : 'No Productions Yet'}
                            </h2>
                            <p class="production-empty-subtitle">
                                ${this.searchTerm || this.currentFilter !== 'all' 
                                    ? 'Try adjusting your search or filter' 
                                    : 'Create your first production to get started'}
                            </p>
                            ${!this.searchTerm && this.currentFilter === 'all' ? `
                                <div class="production-create-new">
                                    <button class="production-create-new-btn" onclick="Core.newProduction();">
                                        + Create New Production
                                    </button>
                                </div>
                            ` : ''}
                        </div>
                    `;
                } else {
                    grid.innerHTML = productions.map(prod => this.createProductionCard(prod)).join('');
                }
            },
            
            async loadProduction(productionId) {
                console.log(`ğŸ¯ ProductionLibrary.loadProduction called for: ${productionId}`);
                
                // First check if production exists locally
                let prodData = JSON.parse(localStorage.getItem(`dc_alacrity_prod_${productionId}`));
                
                // If not local but user is logged in, try to fetch from cloud
                if (!prodData && Auth.user && !Auth.isDemoMode) {
                    try {
                        console.log(`â˜ï¸ Fetching ${productionId} from cloud...`);
                        const dbRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productions/${productionId}`);
                        const snapshot = await window.firebaseGet(dbRef);
                        
                        if (snapshot.exists()) {
                            prodData = snapshot.val();
                            // Save to local storage for offline access
                            localStorage.setItem(`dc_alacrity_prod_${productionId}`, JSON.stringify(prodData));
                            console.log(`âœ… Downloaded production ${productionId} from cloud`);
                        }
                    } catch (e) {
                        console.error('Error fetching production from cloud:', e);
                        alert(`Failed to load production from cloud: ${e.message}`);
                        return;
                    }
                }
                
                if (!prodData) {
                    alert('Production not found!');
                    return;
                }
                
                // Ensure all required data structures exist
                prodData.cast = prodData.cast || {};
                prodData.crew = prodData.crew || {};
                prodData.shotlist = prodData.shotlist || [];
                prodData.schedule = prodData.schedule || { strips: [] };
                prodData.schedule.strips = prodData.schedule.strips || [];
                prodData.financials = prodData.financials || {
                    categories: {},
                    budget: 0,
                    spent: 0,
                    remaining: 0
                };
                prodData.tasks = prodData.tasks || [];
                prodData.milestones = prodData.milestones || [];
                prodData.risks = prodData.risks || [];
                prodData.continuity = prodData.continuity || [];
                
                // Save sanitized data back
                localStorage.setItem(`dc_alacrity_prod_${productionId}`, JSON.stringify(prodData));
                
                const prodName = prodData?.name || productionId;
                const prodType = prodData?.type || 'Production';
                const castCount = Object.keys(prodData?.cast || {}).length;
                const crewCount = Object.keys(prodData?.crew || {}).length;
                const sceneCount = (prodData?.schedule?.strips || []).length;
                
                console.log(`ğŸ“Š Production data loaded: Cast=${castCount}, Crew=${crewCount}, Scenes=${sceneCount}, Shots=${(prodData.shotlist || []).length}`);
                
                PopupSystem.show({
                    title: `Load Production?`,
                    subtitle: `Switch to "${prodName}"`,
                    fields: [
                        { 
                            id: 'info', 
                            type: 'custom',
                            html: `
                                <div style="background: var(--surface-3); border-radius: 8px; padding: 16px; margin-bottom: 16px;">
                                    <div style="font-size: 18px; font-weight: 700; color: var(--neon-cyan); margin-bottom: 12px;">
                                        ${prodName}
                                    </div>
                                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; font-size: 13px;">
                                        <div>
                                            <div style="color: var(--text-50); font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Type</div>
                                            <div style="color: var(--text-90); font-weight: 600;">${prodType}</div>
                                        </div>
                                        <div>
                                            <div style="color: var(--text-50); font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Scenes</div>
                                            <div style="color: var(--neon-cyan); font-weight: 700; font-family: var(--font-mono);">${sceneCount}</div>
                                        </div>
                                        <div>
                                            <div style="color: var(--text-50); font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Cast</div>
                                            <div style="color: var(--neon-cyan); font-weight: 700; font-family: var(--font-mono);">${castCount}</div>
                                        </div>
                                        <div>
                                            <div style="color: var(--text-50); font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Crew</div>
                                            <div style="color: var(--neon-cyan); font-weight: 700; font-family: var(--font-mono);">${crewCount}</div>
                                        </div>
                                    </div>
                                </div>
                                <div style="background: rgba(251, 191, 36, 0.15); border: 1px solid rgba(251, 191, 36, 0.3); border-radius: 6px; padding: 12px; font-size: 12px; color: var(--text-70);">
                                    âš ï¸ Any unsaved changes to your current production will be lost.
                                </div>
                            `
                        }
                    ],
                    submitText: 'Load Production',
                    onSubmit: async (data) => {
                        console.log(`ğŸ”„ Loading production ${productionId} into Core...`);
                        await Core.loadProduction(productionId);
                        Core.renderProductionDropdown();
                        Core.navigate('dashboard');
                        
                        // Ensure all views are refreshed
                        setTimeout(() => {
                            Core.renderAll();
                            console.log(`âœ… Production ${productionId} loaded and all views refreshed`);
                        }, 100);
                        
                        // Show success toast
                        PopupSystem.showToast(`âœ… Loaded "${prodName}"`, 'success');
                    }
                });
            },
            
            async deleteProduction(productionId) {
                // Try to get from local first, then cloud
                let prodData = JSON.parse(localStorage.getItem(`dc_alacrity_prod_${productionId}`));
                let isCloudSynced = prodData?._cloudSynced;
                
                // If not found locally but user is logged in, check cloud
                if (!prodData && Auth.user && !Auth.isDemoMode) {
                    try {
                        const dbRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productions/${productionId}`);
                        const snapshot = await window.firebaseGet(dbRef);
                        if (snapshot.exists()) {
                            prodData = snapshot.val();
                            isCloudSynced = true;
                        }
                    } catch (e) {
                        console.error('Error checking cloud for production:', e);
                    }
                }
                
                if (!prodData) {
                    alert('Production not found!');
                    return;
                }
                
                const prodName = prodData?.name || productionId;
                const castCount = Object.keys(prodData?.cast || {}).length;
                const crewCount = Object.keys(prodData?.crew || {}).length;
                
                PopupSystem.show({
                    title: `âš ï¸ Delete Production?`,
                    subtitle: `This action cannot be undone!`,
                    fields: [
                        {
                            id: 'warning',
                            type: 'custom',
                            html: `
                                <div style="background: rgba(244, 63, 94, 0.15); border: 2px solid rgba(244, 63, 94, 0.4); border-radius: 8px; padding: 16px; margin-bottom: 16px;">
                                    <div style="font-size: 16px; font-weight: 700; color: var(--neon-rose); margin-bottom: 12px;">
                                        ğŸ—‘ï¸ ${prodName}
                                    </div>
                                    <div style="color: var(--text-70); font-size: 13px; line-height: 1.6; margin-bottom: 12px;">
                                        You're about to permanently delete this production from ${isCloudSynced ? '<strong style="color: var(--neon-cyan);">cloud AND</strong>' : ''} local storage.
                                    </div>
                                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; font-size: 12px; margin-top: 12px; padding-top: 12px; border-top: 1px solid rgba(244, 63, 94, 0.3);">
                                        <div>
                                            <span style="color: var(--text-50);">Cast:</span>
                                            <span style="color: var(--text-90); font-weight: 600; margin-left: 4px;">${castCount} members</span>
                                        </div>
                                        <div>
                                            <span style="color: var(--text-50);">Crew:</span>
                                            <span style="color: var(--text-90); font-weight: 600; margin-left: 4px;">${crewCount} members</span>
                                        </div>
                                    </div>
                                </div>
                                <div style="background: var(--surface-3); border-radius: 6px; padding: 12px;">
                                    <label style="display: flex; align-items: center; gap: 12px; cursor: pointer;">
                                        <input type="checkbox" id="delete-confirm-checkbox" style="width: 20px; height: 20px; cursor: pointer;">
                                        <span style="color: var(--text-90); font-size: 13px;">
                                            I understand this will permanently delete all data
                                        </span>
                                    </label>
                                </div>
                            `
                        }
                    ],
                    submitText: 'Delete Forever',
                    onSubmit: async (data) => {
                        const checkbox = document.getElementById('delete-confirm-checkbox');
                        if (!checkbox || !checkbox.checked) {
                            PopupSystem.showToast('âš ï¸ Please confirm deletion', 'warning');
                            return;
                        }
                        
                        // Delete from cloud if exists
                        if (isCloudSynced && Auth.user && !Auth.isDemoMode) {
                            try {
                                const dbRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productions/${productionId}`);
                                await window.firebaseRemove(dbRef);
                                console.log(`â˜ï¸ Deleted "${prodName}" from cloud`);
                            } catch (e) {
                                console.error('Error deleting from cloud:', e);
                            }
                        }
                        
                        // Delete from localStorage
                        localStorage.removeItem(`dc_alacrity_prod_${productionId}`);
                        
                        // Remove from productions list
                        await Core.deleteProduction(productionId);
                        
                        // If this was the current production, switch to first available
                        if (Core.currentProduction === productionId) {
                            const productions = Core.getProductions();
                            Core.currentProduction = productions.length > 0 ? productions[0] : 'GLOBAL';
                            await Core.loadProduction(Core.currentProduction);
                        }
                        
                        // Update dropdown
                        Core.renderProductionDropdown();
                        
                        PopupSystem.showToast(`âœ… "${prodName}" deleted`, 'success');
                        this.render();
                    }
                });
            },
            
            async uploadToCloud(productionId) {
                if (!Auth.user || Auth.isDemoMode) {
                    alert('Please sign in with a full account to use cloud features.');
                    return;
                }
                
                const prodData = JSON.parse(localStorage.getItem(`dc_alacrity_prod_${productionId}`));
                const prodName = prodData?.name || productionId;
                
                if (confirm(`Upload "${prodName}" to cloud?\n\nThis will make it available on all your devices.`)) {
                    try {
                        // Mark as cloud synced
                        prodData._cloudSynced = true;
                        
                        // Upload to Firebase
                        const dbRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productions/${productionId}`);
                        await window.firebaseSet(dbRef, prodData);
                        
                        // Update local copy with cloud flag
                        localStorage.setItem(`dc_alacrity_prod_${productionId}`, JSON.stringify(prodData));
                        
                        alert(`âœ… "${prodName}" uploaded to cloud successfully!`);
                        this.render();
                    } catch (e) {
                        console.error('Upload error:', e);
                        alert(`âŒ Failed to upload "${prodName}": ${e.message}`);
                    }
                }
            },
            
            async uploadAllOfflineToCloud() {
                if (!Auth.user || Auth.isDemoMode) {
                    alert('Please sign in with a full account to use cloud features.');
                    return;
                }
                
                const productions = await this.getProductions();
                const offlineProductions = productions.filter(p => p.isOfflineOnly);
                
                if (offlineProductions.length === 0) {
                    alert('No offline productions to upload.');
                    return;
                }
                
                if (confirm(`Upload ${offlineProductions.length} offline production${offlineProductions.length !== 1 ? 's' : ''} to cloud?`)) {
                    let successCount = 0;
                    let failCount = 0;
                    
                    for (const prod of offlineProductions) {
                        try {
                            const prodData = JSON.parse(localStorage.getItem(`dc_alacrity_prod_${prod.id}`));
                            prodData._cloudSynced = true;
                            
                            const dbRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productions/${prod.id}`);
                            await window.firebaseSet(dbRef, prodData);
                            
                            localStorage.setItem(`dc_alacrity_prod_${prod.id}`, JSON.stringify(prodData));
                            successCount++;
                        } catch (e) {
                            console.error(`Failed to upload ${prod.id}:`, e);
                            failCount++;
                        }
                    }
                    
                    alert(`âœ… Upload complete!\n\nSuccessful: ${successCount}\nFailed: ${failCount}`);
                    this.render();
                }
            },
            
            showIndividualUpload() {
                alert('Click the "â˜ï¸ Upload to Cloud" button on individual production cards to upload them selectively.');
            }
        };
        
        // Enhanced Core.newProduction with popup interface
        Core.newProduction = function() {
            PopupSystem.show(PopupConfigs.production);
        };
        
        // Original newProduction kept as fallback
        Core.newProductionLegacy = function() {
            const name = prompt('Production Name:');
            if (!name || !name.trim()) return;
            
            const type = prompt('Production Type:\n\nEnter one of:\n- Film\n- TV Series\n- Commercial\n- Music Video\n- Documentary\n- Short\n- Other', 'Film');
            if (!type) return;
            
            const description = prompt('Brief Description (optional):', '');
            
            const id = name.replace(/[^a-zA-Z0-9]/g, '_').toUpperCase();
            
            if (this.data[id]) {
                alert('Production with this name already exists!');
                return;
            }
            
            this.data[id] = {
                name: name,
                type: type,
                description: description || '',
                created: Date.now(),
                lastModified: Date.now(),
                _cloudSynced: false, // Track cloud sync status
                budget: 0,
                schedule: { strips: [] },
                shotlist: [],
                milestones: [],
                risks: [],
                tasks: [],
                continuity: [],
                financials: {
                    categories: {},
                    budget: 0,
                    spent: 0,
                    remaining: 0
                }
            };
            
            this.currentProduction = id;
            this.save();
            this.renderProductionDropdown();
            alert(`Production "${name}" created successfully!`);
            
            // Offer to upload to cloud if logged in
            if (Auth.user && !Auth.isDemoMode) {
                if (confirm(`Would you like to upload "${name}" to the cloud for backup and sync?`)) {
                    ProductionLibrary.uploadToCloud(id);
                }
            }
        };
        
        // Enhanced Core.save to update lastModified and check cloud sync
        const originalSave = Core.save;
        let cloudSyncTimeout = null;
        
        Core.save = async function() {
            // Update lastModified timestamp
            if (this.currentProduction && this.currentProduction !== 'GLOBAL') {
                if (!this.data) {
                    console.error('âš ï¸ Core.data is undefined in save!');
                    return;
                }
                
                // Ensure all required structures exist before saving
                this.data.cast = this.data.cast || {};
                this.data.crew = this.data.crew || {};
                this.data.shotlist = this.data.shotlist || [];
                this.data.schedule = this.data.schedule || { strips: [] };
                this.data.schedule.strips = this.data.schedule.strips || [];
                this.data.financials = this.data.financials || {
                    categories: {},
                    budget: 0,
                    spent: 0,
                    remaining: 0
                };
                this.data.tasks = this.data.tasks || [];
                this.data.milestones = this.data.milestones || [];
                this.data.risks = this.data.risks || [];
                this.data.continuity = this.data.continuity || [];
                
                // Update timestamp
                this.data.lastModified = Date.now();
                
                console.log(`ğŸ’¾ Saving ${this.currentProduction}...`);
                console.log(`ğŸ“Š Cast: ${Object.keys(this.data.cast || {}).length}, Crew: ${Object.keys(this.data.crew || {}).length}, Shots: ${(this.data.shotlist || []).length}`);
                
                // Call original save (which saves to localStorage) - IMMEDIATE
                originalSave.call(this);
                
                // Immediate cloud sync if user is logged in (not debounced for critical data)
                if (Auth.user && !Auth.isDemoMode) {
                    // Clear any pending sync
                    if (cloudSyncTimeout) {
                        clearTimeout(cloudSyncTimeout);
                    }
                    
                    // Schedule cloud sync after 300ms (reduced from 500ms for faster sync)
                    cloudSyncTimeout = setTimeout(async () => {
                        try {
                            const dbRef = window.firebaseRef(window.firebaseDb, `users/${Auth.user.uid}/productions/${this.currentProduction}`);
                            
                            // Create a clean copy of data for cloud sync
                            const dataToSync = JSON.parse(JSON.stringify(this.data));
                            dataToSync._cloudSynced = true;
                            
                            await window.firebaseSet(dbRef, dataToSync);
                            console.log(`â˜ï¸ Auto-synced ${this.currentProduction} to cloud`);
                            
                            // Update local data to mark as synced
                            this.data._cloudSynced = true;
                            localStorage.setItem(`dc_alacrity_prod_${this.currentProduction}`, JSON.stringify(this.data));
                            
                            // Show subtle sync indicator
                            const indicator = document.querySelector('.sync-indicator');
                            if (indicator) {
                                indicator.textContent = 'âœ“ Synced';
                                indicator.style.color = '#10b981';
                                setTimeout(() => {
                                    indicator.textContent = 'â˜ï¸ Cloud';
                                    indicator.style.color = '';
                                }, 1500);
                            }
                        } catch (e) {
                            console.error('Auto-sync failed:', e);
                            const indicator = document.querySelector('.sync-indicator');
                            if (indicator) {
                                indicator.textContent = 'âš ï¸ Sync Error';
                                indicator.style.color = '#f59e0b';
                            }
                        }
                    }, 300);
                }
            } else {
                // Call original save for non-production data
                originalSave.call(this);
            }
            
            // Refresh Production Library if it's currently open (debounced)
            if (document.getElementById('view-production-library')?.classList.contains('active')) {
                console.log('ğŸ”„ Refreshing Production Library after save...');
                setTimeout(() => ProductionLibrary.render(), 100);
            }
        };
        
        // Add navigation handler for production-library view
        const originalNavigate = Core.navigate;
        Core.navigate = function(view) {
            closeMobileMenu();
            const previousView = document.querySelector('.view.active')?.id;
            originalNavigate.call(this, view);
            if (view === 'production-library') {
                setTimeout(() => ProductionLibrary.render(), 100);
            }
            if (view === 'shopping') {
                setTimeout(() => ShoppingList.render(), 100);
            }
            if (view === 'export') {
                setTimeout(() => DataManager.initExportTab(), 100);
            }
            if (previousView === 'view-cast-crew' || 
                previousView === 'view-schedule' || 
                previousView === 'view-shotlist') {
                console.log(`ğŸ”„ Left ${previousView}, refreshing library data...`);
            }
        };
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  SHOPPING LIST MODULE â€” Auto-aggregated from all Breakdown Sheets
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const ShoppingList = {
            CATEGORIES: [
                { id: 'props',    icon: 'ğŸ­', label: 'Props',              color: '#f59e0b' },
                { id: 'vehicles', icon: 'ğŸš—', label: 'Vehicles / Picture Cars', color: '#3b82f6' },
                { id: 'wardrobe', icon: 'ğŸ‘—', label: 'Wardrobe / Costumes', color: '#a855f7' },
                { id: 'makeup',   icon: 'ğŸ’„', label: 'Makeup & Hair',       color: '#ec4899' },
                { id: 'sfx',      icon: 'ğŸ’¥', label: 'Special Effects / SFX',color: '#ef4444' },
                { id: 'animals',  icon: 'ğŸ¾', label: 'Animals',             color: '#10b981' },
                { id: 'stunts',   icon: 'âš¡', label: 'Stunts',              color: '#f97316' },
                { id: 'extras',   icon: 'ğŸ‘¤', label: 'Extras / Atmosphere', color: '#22d3ee' },
                { id: 'sound',    icon: 'ğŸ”Š', label: 'Sound / Playback',    color: '#6366f1' },
                { id: 'set',      icon: 'ğŸ—ï¸', label: 'Set Dressing',        color: '#84cc16' },
                { id: 'camera',   icon: 'ğŸ¥', label: 'Camera / Equipment',  color: '#64748b' },
                { id: 'other',    icon: 'ğŸ“¦', label: 'Other / Miscellaneous',color: '#94a3b8' },
            ],

            // Build aggregated list from all breakdown sheets
            _aggregate() {
                const result = {};
                this.CATEGORIES.forEach(cat => { result[cat.id] = []; });
                
                const breakdowns = Core.data.breakdowns || [];
                breakdowns.forEach(bd => {
                    const els = bd.elements || {};
                    this.CATEGORIES.forEach(cat => {
                        const items = els[cat.id] || [];
                        items.forEach(item => {
                            const existing = result[cat.id].find(e => e.item.toLowerCase() === item.toLowerCase());
                            if (existing) {
                                existing.scenes.push(bd.scene);
                                existing.count++;
                            } else {
                                result[cat.id].push({
                                    item: item,
                                    scenes: [bd.scene],
                                    count: 1,
                                    acquired: false,
                                    notes: ''
                                });
                            }
                        });
                    });
                });
                return result;
            },

            // Persist acquired/notes state
            _getState() {
                return Core.data.shoppingListState || {};
            },
            _setState(catId, itemName, patch) {
                if (!Core.data.shoppingListState) Core.data.shoppingListState = {};
                const key = catId + '||' + itemName.toLowerCase();
                if (!Core.data.shoppingListState[key]) Core.data.shoppingListState[key] = {};
                Object.assign(Core.data.shoppingListState[key], patch);
                Core.save();
            },
            toggleAcquired(catId, itemName) {
                const key = catId + '||' + itemName.toLowerCase();
                const st = this._getState();
                const cur = (st[key] && st[key].acquired) || false;
                this._setState(catId, itemName, { acquired: !cur });
                this.render();
            },
            saveNote(catId, itemName, val) {
                this._setState(catId, itemName, { notes: val });
            },

            exportPDF() {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF({ orientation: 'portrait', unit: 'mm', format: 'a4' });
                const agg = this._aggregate();
                const st = this._getState();
                const title = (Core.data.name || Core.currentProduction || 'Production') + ' â€” Shopping List';

                doc.setFillColor(0, 0, 0);
                doc.rect(0, 0, 210, 40, 'F');
                doc.setTextColor(34, 211, 238);
                doc.setFontSize(20);
                doc.setFont('helvetica', 'bold');
                doc.text('DC ALACRITY', 14, 14);
                doc.setFontSize(13);
                doc.setTextColor(255, 255, 255);
                doc.text(title, 14, 24);
                doc.setFontSize(9);
                doc.setTextColor(150, 150, 150);
                doc.text(`Generated: ${new Date().toLocaleDateString()}`, 14, 33);

                let y = 48;
                this.CATEGORIES.forEach(cat => {
                    const items = agg[cat.id] || [];
                    if (!items.length) return;
                    if (y > 260) { doc.addPage(); y = 14; }
                    doc.setFillColor(20, 20, 30);
                    doc.roundedRect(10, y, 190, 8, 2, 2, 'F');
                    doc.setTextColor(34, 211, 238);
                    doc.setFontSize(10);
                    doc.setFont('helvetica', 'bold');
                    doc.text(`${cat.icon}  ${cat.label.toUpperCase()}  (${items.length})`, 14, y + 5.5);
                    y += 11;
                    items.forEach(entry => {
                        if (y > 275) { doc.addPage(); y = 14; }
                        const key = cat.id + '||' + entry.item.toLowerCase();
                        const acquired = (st[key] && st[key].acquired) || false;
                        const notes = (st[key] && st[key].notes) || '';
                        doc.setTextColor(acquired ? 100 : 220, acquired ? 180 : 220, acquired ? 100 : 220);
                        doc.setFontSize(9);
                        doc.setFont('helvetica', 'normal');
                        const check = acquired ? '[âœ“]' : '[ ]';
                        const sceneStr = `Sc. ${entry.scenes.join(', ')}`;
                        doc.text(`  ${check}  ${entry.item}`, 14, y);
                        doc.setTextColor(100, 150, 170);
                        doc.text(sceneStr, 160, y, { align: 'right' });
                        y += 5.5;
                        if (notes) {
                            doc.setFontSize(8);
                            doc.setTextColor(120, 120, 120);
                            doc.text(`       Note: ${notes}`, 14, y);
                            y += 4.5;
                        }
                    });
                    y += 4;
                });

                doc.save(`shopping-list-${(Core.data.name || 'production').replace(/\s+/g,'_')}.pdf`);
            },

            render() {
                const container = document.getElementById('view-shopping');
                if (!container) return;

                const agg = this._aggregate();
                const st = this._getState();
                const breakdowns = Core.data.breakdowns || [];
                const totalItems = Object.values(agg).reduce((s, arr) => s + arr.length, 0);
                const acquiredCount = Object.entries(agg).reduce((s, [catId, items]) => {
                    return s + items.filter(e => {
                        const k = catId + '||' + e.item.toLowerCase();
                        return st[k] && st[k].acquired;
                    }).length;
                }, 0);

                container.innerHTML = `
                    <div class="dashboard-hero" style="background: linear-gradient(135deg, rgba(245,158,11,0.12) 0%, rgba(168,85,247,0.08) 100%); border-bottom: 2px solid rgba(245,158,11,0.3);">
                        <div class="dashboard-hero-content">
                            <h1 class="dashboard-hero-title" style="color: #f59e0b;">ğŸ›’ SHOPPING LIST</h1>
                            <p class="dashboard-hero-subtitle">All props, costumes, vehicles, and elements â€” auto-aggregated from ${breakdowns.length} breakdown sheet${breakdowns.length !== 1 ? 's' : ''}</p>
                        </div>
                    </div>

                    <div style="display: flex; gap: 16px; align-items: center; margin-bottom: 24px; flex-wrap: wrap;">
                        <div style="display: flex; gap: 12px; flex-wrap: wrap; flex: 1;">
                            <div class="stat-card" style="padding: 16px 24px; background: rgba(245,158,11,0.1); border: 1px solid rgba(245,158,11,0.3); border-radius: 12px; min-width: 140px;">
                                <div style="font-size: 28px; font-weight: 900; color: #f59e0b;">${totalItems}</div>
                                <div style="font-size: 11px; color: var(--text-50); text-transform: uppercase; letter-spacing: 1px;">Total Items</div>
                            </div>
                            <div class="stat-card" style="padding: 16px 24px; background: rgba(16,185,129,0.1); border: 1px solid rgba(16,185,129,0.3); border-radius: 12px; min-width: 140px;">
                                <div style="font-size: 28px; font-weight: 900; color: #10b981;">${acquiredCount}</div>
                                <div style="font-size: 11px; color: var(--text-50); text-transform: uppercase; letter-spacing: 1px;">Acquired</div>
                            </div>
                            <div class="stat-card" style="padding: 16px 24px; background: rgba(239,68,68,0.1); border: 1px solid rgba(239,68,68,0.3); border-radius: 12px; min-width: 140px;">
                                <div style="font-size: 28px; font-weight: 900; color: #ef4444;">${totalItems - acquiredCount}</div>
                                <div style="font-size: 11px; color: var(--text-50); text-transform: uppercase; letter-spacing: 1px;">Still Needed</div>
                            </div>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button class="btn btn-primary" onclick="ShoppingList.exportPDF()" style="padding: 12px 20px; font-size: 13px;">ğŸ“„ Export PDF</button>
                            <button class="btn btn-sm" onclick="ShoppingList.render()" style="padding: 12px 16px; font-size: 13px;">ğŸ”„ Refresh</button>
                        </div>
                    </div>

                    ${totalItems === 0 ? `
                        <div style="text-align: center; padding: 80px 20px; opacity: 0.5;">
                            <div style="font-size: 64px; margin-bottom: 16px;">ğŸ›’</div>
                            <div style="font-size: 22px; font-family: var(--font-display); letter-spacing: 2px; color: var(--text-70);">NO ITEMS YET</div>
                            <div style="color: var(--text-50); margin-top: 8px;">Import a script or add elements to your Breakdown Sheets to populate this list.</div>
                            <button class="btn btn-primary" onclick="Core.navigate('script-import')" style="margin-top: 24px;">ğŸ“‚ Import Script</button>
                        </div>
                    ` : `
                        <div style="display: grid; gap: 20px;">
                            ${this.CATEGORIES.map(cat => {
                                const items = agg[cat.id] || [];
                                if (!items.length) return '';
                                const catAcquired = items.filter(e => {
                                    const k = cat.id + '||' + e.item.toLowerCase();
                                    return st[k] && st[k].acquired;
                                }).length;
                                return `
                                    <div class="card" style="border-color: ${cat.color}40; background: linear-gradient(145deg, rgba(10,10,20,0.95), rgba(5,5,15,0.98));">
                                        <div class="card-body" style="padding: 0;">
                                            <div style="padding: 16px 20px; background: ${cat.color}14; border-bottom: 1px solid ${cat.color}30; display: flex; align-items: center; justify-content: space-between;">
                                                <div style="display: flex; align-items: center; gap: 10px;">
                                                    <span style="font-size: 22px;">${cat.icon}</span>
                                                    <span style="font-family: var(--font-display); font-size: 16px; letter-spacing: 2px; color: ${cat.color}; font-weight: 700;">${cat.label.toUpperCase()}</span>
                                                    <span style="background: ${cat.color}25; border: 1px solid ${cat.color}50; border-radius: 20px; padding: 2px 10px; font-size: 11px; font-weight: 700; color: ${cat.color};">${items.length}</span>
                                                </div>
                                                <div style="font-size: 12px; color: var(--text-50);">${catAcquired}/${items.length} acquired</div>
                                            </div>
                                            <div style="padding: 12px 20px;">
                                                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 8px;">
                                                    ${items.map(entry => {
                                                        const k = cat.id + '||' + entry.item.toLowerCase();
                                                        const acquired = (st[k] && st[k].acquired) || false;
                                                        const notes = (st[k] && st[k].notes) || '';
                                                        return `
                                                            <div style="display: flex; align-items: flex-start; gap: 10px; padding: 10px 12px; border-radius: 8px; background: ${acquired ? 'rgba(16,185,129,0.08)' : 'rgba(255,255,255,0.03)'}; border: 1px solid ${acquired ? 'rgba(16,185,129,0.3)' : 'rgba(255,255,255,0.06)'}; transition: all 0.2s;">
                                                                <input type="checkbox" ${acquired ? 'checked' : ''} 
                                                                    onchange="ShoppingList.toggleAcquired('${cat.id}', ${JSON.stringify(entry.item)})"
                                                                    style="margin-top: 2px; accent-color: ${cat.color}; width: 16px; height: 16px; cursor: pointer; flex-shrink: 0;">
                                                                <div style="flex: 1; min-width: 0;">
                                                                    <div style="font-size: 13px; font-weight: 600; color: ${acquired ? 'var(--text-40)' : 'var(--text-90)'}; text-decoration: ${acquired ? 'line-through' : 'none'}; word-break: break-word;">${entry.item}</div>
                                                                    <div style="font-size: 10px; color: var(--text-40); margin-top: 2px; font-family: var(--font-mono);">Scene${entry.scenes.length > 1 ? 's' : ''}: ${entry.scenes.slice(0,8).join(', ')}${entry.scenes.length > 8 ? 'â€¦' : ''}${entry.count > 1 ? ` Â· Ã—${entry.count}` : ''}</div>
                                                                    <input type="text" placeholder="Add note..." value="${notes.replace(/"/g,'&quot;')}"
                                                                        onchange="ShoppingList.saveNote('${cat.id}', ${JSON.stringify(entry.item)}, this.value)"
                                                                        style="margin-top: 4px; width: 100%; background: transparent; border: none; border-bottom: 1px solid rgba(255,255,255,0.1); color: var(--text-60); font-size: 11px; padding: 2px 0; outline: none; font-family: var(--font-sans);"
                                                                        onfocus="this.style.borderBottomColor='${cat.color}'" onblur="this.style.borderBottomColor='rgba(255,255,255,0.1)'">
                                                                </div>
                                                            </div>
                                                        `;
                                                    }).join('')}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    `}
                `;
            }
        };

                document.addEventListener('DOMContentLoaded', () => {
            Auth.init();
            
            const updateHamburger = () => {
                const btn = document.getElementById('mobile-menu-btn');
                const loginOverlay = document.getElementById('login-overlay');
                if (btn) {
                    const loginVisible = loginOverlay && !loginOverlay.classList.contains('hidden');
                    if (window.innerWidth <= 1023 && !loginVisible) {
                        btn.classList.add('visible');
                    } else {
                        btn.classList.remove('visible');
                    }
                }
            };
            
            updateHamburger();
            window.addEventListener('resize', updateHamburger);
            
            const loginOverlay = document.getElementById('login-overlay');
            if (loginOverlay) {
                new MutationObserver(updateHamburger).observe(loginOverlay, {
                    attributes: true, attributeFilter: ['style', 'class']
                });
            }
            const app = document.getElementById('app');
            if (app) {
                new MutationObserver(updateHamburger).observe(app, {
                    attributes: true, attributeFilter: ['style']
                });
            }
        });
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       MOBILE EXCELLENCE ENGINE â€” 28 POINT SYSTEM JS
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    const MobileSystem = {
        isMobile: false,
        isTablet: false,
        devicePixelRatio: 1,
        orientation: 'portrait',
        _swipeStartX: 0,
        _swipeStartY: 0,
        _swipeStartTime: 0,
        _sidebarOpen: false,
        _ptrActive: false,
        _ptrStartY: 0,

        // â”€â”€ POINT 1 & 9: Device Detection & Classification â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        detect() {
            const w = window.innerWidth;
            const h = window.innerHeight;
            const ua = navigator.userAgent.toLowerCase();
            const dpr = window.devicePixelRatio || 1;
            const isTouch = ('ontouchstart' in window) || navigator.maxTouchPoints > 0;

            this.isMobile = w <= 1023 || (isTouch && w <= 1023);
            this.isTablet = isTouch && w > 640 && w <= 1024;
            this.isPhone  = isTouch && w <= 640;
            this.devicePixelRatio = dpr;
            this.orientation = w > h ? 'landscape' : 'portrait';

            const html = document.documentElement;
            html.classList.remove('device-mobile', 'device-tablet', 'device-desktop');
            if (this.isPhone)       html.classList.add('device-mobile');
            else if (this.isTablet) html.classList.add('device-tablet');
            else                    html.classList.add('device-desktop');

            // Set CSS custom props
            html.style.setProperty('--is-mobile',  this.isMobile  ? '1' : '0');
            html.style.setProperty('--is-tablet',  this.isTablet  ? '1' : '0');
            html.style.setProperty('--is-desktop', !this.isMobile ? '1' : '0');
            html.style.setProperty('--dpr',        dpr.toString());

            // Store for other systems
            window._deviceInfo = {
                isMobile: this.isMobile, isTablet: this.isTablet,
                isPhone: this.isPhone, dpr, w, h,
                ua, isTouch, orientation: this.orientation,
                isIOS: /iphone|ipad|ipod/.test(ua),
                isAndroid: /android/.test(ua),
                isSafari: /safari/.test(ua) && !/chrome/.test(ua),
                isChrome: /chrome/.test(ua),
                isStandalone: window.matchMedia('(display-mode: standalone)').matches
            };

            console.log('[Mobile] Device detected:', window._deviceInfo);
            return this.isMobile;
        },

        // â”€â”€ POINT 10 & 11: Show/hide mobile chrome â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        applyMobileChrome() {
            const topBar    = document.getElementById('mobile-top-bar');
            const bottomNav = document.getElementById('mobile-bottom-nav');
            const menuBtn   = document.getElementById('mobile-menu-btn'); // old button
            const hint      = document.getElementById('sidebar-swipe-hint');

            if (this.isMobile) {
                if (topBar)    { topBar.style.display = 'flex'; }
                if (bottomNav) { bottomNav.style.display = 'flex'; }
                if (menuBtn)   { menuBtn.style.display = 'none'; } // hide old btn, we use top bar
                if (hint)      { hint.classList.add('visible'); }

                // Populate the more drawer
                this.buildMoreDrawer();
            } else {
                if (topBar)    { topBar.style.display = 'none'; }
                if (bottomNav) { bottomNav.style.display = 'none'; }
                if (menuBtn)   { menuBtn.style.display = ''; }
                if (hint)      { hint.classList.remove('visible'); }
            }
        },

        // â”€â”€ POINT 10: Build "More" nav drawer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        buildMoreDrawer() {
            const grid = document.getElementById('mob-drawer-grid');
            if (!grid) return;
            const items = [
                { id: 'shotlist',   icon: 'ğŸ¯', label: 'Shot List' },
                { id: 'days',       icon: 'ğŸ“…', label: 'Shoot Days' },
                { id: 'continuity', icon: 'ğŸ”„', label: 'Continuity' },
                { id: 'risk',       icon: 'âš ï¸', label: 'Risks' },
                { id: 'breakdown',  icon: 'ğŸ“‹', label: 'Breakdown' },
                { id: 'milestones', icon: 'ğŸ', label: 'Milestones' },
                { id: 'gantt',      icon: 'ğŸ“Š', label: 'Timeline' },
                { id: 'contacts',   icon: 'ğŸ“', label: 'Contacts' },
                { id: 'vault',      icon: 'ğŸ—„ï¸', label: 'Vault' },
                { id: 'tech',       icon: 'âš™ï¸', label: 'Equipment' },
                { id: 'notes',      icon: 'ğŸ“', label: 'Notes' },
                { id: 'export',     icon: 'ğŸ’¾', label: 'Export' },
            ];
            grid.innerHTML = items.map(item => `
                <button onclick="MobileNav.go('${item.id}')" style="
                    background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.08);
                    border-radius:12px;padding:14px 8px;display:flex;flex-direction:column;
                    align-items:center;gap:6px;cursor:pointer;color:rgba(255,255,255,0.8);
                    font-size:11px;font-weight:600;letter-spacing:0.5px;text-transform:uppercase;
                    font-family:var(--font-mono,monospace);transition:all 0.2s;
                    -webkit-tap-highlight-color:transparent;
                " ontouchstart="this.style.background='rgba(34,211,238,0.1)'"
                   ontouchend="this.style.background='rgba(255,255,255,0.04)'">
                    <span style="font-size:22px;">${item.icon}</span>
                    ${item.label}
                </button>
            `).join('');
        },

        // â”€â”€ POINT 12: Swipe Gestures â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        initSwipeGestures() {
            const el = document.body;

            el.addEventListener('touchstart', (e) => {
                const t = e.touches[0];
                this._swipeStartX = t.clientX;
                this._swipeStartY = t.clientY;
                this._swipeStartTime = Date.now();
            }, { passive: true });

            el.addEventListener('touchend', (e) => {
                if (!this.isMobile) return;
                const t = e.changedTouches[0];
                const dx = t.clientX - this._swipeStartX;
                const dy = t.clientY - this._swipeStartY;
                const dt = Date.now() - this._swipeStartTime;
                const absDx = Math.abs(dx);
                const absDy = Math.abs(dy);

                // Horizontal swipe: fast, mostly horizontal, significant distance
                if (absDx > absDy && absDx > 50 && dt < 400) {
                    if (dx > 0 && this._swipeStartX < 60) {
                        // Right swipe from left edge â†’ open sidebar
                        this.openSidebar();
                    } else if (dx < 0 && this._sidebarOpen) {
                        // Left swipe â†’ close sidebar
                        this.closeSidebar();
                    }
                }
            }, { passive: true });

            // Track sidebar open state
            const overlay = document.getElementById('sidebar-overlay');
            if (overlay) {
                new MutationObserver(() => {
                    this._sidebarOpen = overlay.classList.contains('active');
                }).observe(overlay, { attributes: true });
            }
        },

        openSidebar() {
            const sidebar = document.querySelector('.sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            if (sidebar) sidebar.classList.add('mobile-open');
            if (overlay) overlay.classList.add('active');
            this._sidebarOpen = true;
            document.body.style.overflow = 'hidden';
        },

        closeSidebar() {
            const sidebar = document.querySelector('.sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            if (sidebar) sidebar.classList.remove('mobile-open');
            if (overlay) overlay.classList.remove('active');
            this._sidebarOpen = false;
            document.body.style.overflow = '';
        },

        // â”€â”€ POINT 18: Touch Ripple â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        initRipple() {
            document.addEventListener('touchstart', (e) => {
                const target = e.target.closest('.btn, .nav-item, .mob-nav-btn, .eb-action-row, .eb-quick-btn');
                if (!target) return;
                const rect = target.getBoundingClientRect();
                const t = e.touches[0];
                const x = t.clientX - rect.left;
                const y = t.clientY - rect.top;
                const size = Math.max(rect.width, rect.height) * 2;

                const ripple = document.createElement('div');
                ripple.className = 'ripple-wave';
                ripple.style.cssText = `
                    width:${size}px;height:${size}px;
                    left:${x - size/2}px;top:${y - size/2}px;
                `;
                if (!target.classList.contains('ripple-container')) {
                    target.classList.add('ripple-container');
                }
                target.appendChild(ripple);
                ripple.addEventListener('animationend', () => ripple.remove());
            }, { passive: true });
        },

        // â”€â”€ POINT 20: Pull-to-Refresh â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        initPullToRefresh() {
            const indicator = document.getElementById('ptr-indicator');
            if (!indicator || !this.isMobile) return;
            let startY = 0;
            let pulling = false;

            const scrollEl = document.querySelector('.content-inner') || document.querySelector('.main');
            if (!scrollEl) return;

            scrollEl.addEventListener('touchstart', (e) => {
                if (scrollEl.scrollTop === 0) {
                    startY = e.touches[0].clientY;
                    pulling = true;
                }
            }, { passive: true });

            scrollEl.addEventListener('touchmove', (e) => {
                if (!pulling) return;
                const dy = e.touches[0].clientY - startY;
                if (dy > 0 && dy < 80) {
                    indicator.classList.add('ptr-active');
                    indicator.style.transform = `translateX(-50%) translateY(${Math.min(dy * 0.5, 40)}px)`;
                }
            }, { passive: true });

            scrollEl.addEventListener('touchend', () => {
                if (!pulling) return;
                pulling = false;
                indicator.style.transform = '';
                indicator.classList.remove('ptr-active');
            }, { passive: true });
        },

        // â”€â”€ POINT 22: Orientation Change Handler â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        initOrientationHandler() {
            const handler = () => {
                setTimeout(() => {
                    this.detect();
                    this.applyMobileChrome();
                    // Fix viewport height bug on iOS after rotation
                    const vh = window.innerHeight * 0.01;
                    document.documentElement.style.setProperty('--vh', `${vh}px`);
                    this.closeSidebar();
                }, 150);
            };

            window.addEventListener('resize', handler, { passive: true });
            window.addEventListener('orientationchange', handler, { passive: true });
            if (screen.orientation) {
                screen.orientation.addEventListener('change', handler, { passive: true });
            }
        },

        // â”€â”€ POINT 25 & 26: Loading State Management â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        showLoading(msg = 'Loading...') {
            const overlay = document.getElementById('mob-loading-overlay');
            const text = document.getElementById('mob-loading-text');
            if (overlay) {
                if (text) text.textContent = msg;
                overlay.classList.add('active');
            }
        },

        hideLoading() {
            const overlay = document.getElementById('mob-loading-overlay');
            if (overlay) overlay.classList.remove('active');
        },

        // â”€â”€ MISC: fix viewport height for iOS chrome â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        fixViewportHeight() {
            const setVH = () => {
                const vh = window.innerHeight * 0.01;
                document.documentElement.style.setProperty('--vh', `${vh}px`);
                document.documentElement.style.setProperty('--dvh', `${vh}px`);
            };
            setVH();
            window.addEventListener('resize', setVH, { passive: true });
        },

        // â”€â”€ INIT: Wire everything up â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        init() {
            this.detect();
            this.fixViewportHeight();
            this.applyMobileChrome();
            this.initSwipeGestures();
            this.initRipple();
            this.initOrientationHandler();
            this.initPullToRefresh();

            // Update top bar title when view changes
            this._hookNavigate();

            console.log('[Mobile] System initialized. isMobile:', this.isMobile);
        },

        _hookNavigate() {
            if (typeof Core === 'undefined') {
                setTimeout(() => this._hookNavigate(), 200);
                return;
            }
            const orig = Core.navigate.bind(Core);
            Core.navigate = (view) => {
                orig(view);
                this._onNavigate(view);
            };
        },

        _onNavigate(view) {
            if (!this.isMobile) return;
            // Update top bar title
            const titleEl = document.getElementById('mobile-top-bar-title');
            const titles = {
                dashboard: 'DASHBOARD', schedule: 'SCHEDULE',
                'cast-crew': 'TEAM', financials: 'BUDGET',
                shotlist: 'SHOT LIST', days: 'SHOOT DAYS',
                continuity: 'CONTINUITY', risk: 'RISKS',
                breakdown: 'BREAKDOWN', milestones: 'MILESTONES',
                gantt: 'TIMELINE', contacts: 'CONTACTS',
                vault: 'VAULT', tech: 'EQUIPMENT',
                notes: 'NOTES', export: 'EXPORT',
                'prod-crm': 'PROD CRM', 'biz-crm': 'BIZ CRM',
                'production-library': 'PRODUCTIONS',
            };
            if (titleEl) titleEl.textContent = titles[view] || 'DC ALACRITY';

            // Update bottom nav active state
            const navMap = {
                dashboard: 'mob-btn-dashboard',
                schedule: 'mob-btn-schedule',
                'cast-crew': 'mob-btn-cast-crew',
                financials: 'mob-btn-financials',
            };
            document.querySelectorAll('.mob-nav-btn').forEach(b => b.classList.remove('active'));
            const activeId = navMap[view];
            if (activeId) {
                document.getElementById(activeId)?.classList.add('active');
            } else {
                // Highlight "More" for non-primary tabs
                document.getElementById('mob-btn-more')?.classList.add('active');
            }

            // Close sidebar & drawer on navigate
            this.closeSidebar();
            MobileNav.closeDrawer();
        },
    };

    // â”€â”€ Mobile Navigation Controller â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const MobileNav = {
        go(view) {
            if (typeof Core !== 'undefined') Core.navigate(view);
            this.closeDrawer();
        },

        openDrawer() {
            const overlay = document.getElementById('mob-drawer-overlay');
            const drawer  = document.getElementById('mob-drawer');
            if (!overlay || !drawer) return;
            overlay.style.display = 'block';
            drawer.style.display  = 'block';
            requestAnimationFrame(() => {
                overlay.style.opacity = '1';
                drawer.style.transform = 'translateY(0)';
            });
        },

        closeDrawer() {
            const overlay = document.getElementById('mob-drawer-overlay');
            const drawer  = document.getElementById('mob-drawer');
            if (!drawer) return;
            drawer.style.transform = 'translateY(100%)';
            if (overlay) overlay.style.opacity = '0';
            setTimeout(() => {
                if (drawer)  drawer.style.display  = 'none';
                if (overlay) overlay.style.display = 'none';
            }, 320);
        },
    };

    // â”€â”€ Expose loading helpers to DataManager â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    window.MobileLoadingShow = (msg) => MobileSystem.showLoading(msg);
    window.MobileLoadingHide = () => MobileSystem.hideLoading();

    // â”€â”€ Patch Productions.load to show loading spinner on mobile â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    document.addEventListener('DOMContentLoaded', () => {
        MobileSystem.init();

        // Patch Productions.load for mobile loading indicator
        if (typeof Productions !== 'undefined') {
            const origLoad = Productions.load.bind(Productions);
            Productions.load = async function() {
                if (MobileSystem.isMobile) MobileSystem.showLoading('Switching...');
                try {
                    await origLoad();
                } finally {
                    if (MobileSystem.isMobile) MobileSystem.hideLoading();
                }
            };
        }
    });

    // Also run detect immediately for any CSS that depends on device class
    if (document.readyState !== 'loading') {
        MobileSystem.detect();
        MobileSystem.fixViewportHeight();
        MobileSystem.applyMobileChrome();
    }

    </script>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         CINEMATIC MODULE HEADERS + COHERENT DATA ENHANCEMENTS
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <style>
        /* â”€â”€ Shared cinematic page header â”€â”€ */
        .cine-header {
            position: relative;
            overflow: hidden;
            border-radius: 16px;
            margin-bottom: 28px;
            padding: 36px 40px 32px;
            background: #07111a;
            border: 1px solid rgba(34,211,238,0.15);
        }
        .cine-header::before {
            content: '';
            position: absolute;
            inset: 0;
            background:
                radial-gradient(ellipse 80% 60% at 50% -10%, rgba(34,211,238,0.12) 0%, transparent 60%),
                radial-gradient(ellipse 60% 80% at 90% 50%, rgba(139,92,246,0.08) 0%, transparent 60%),
                linear-gradient(180deg, rgba(34,211,238,0.04) 0%, transparent 100%);
            pointer-events: none;
        }
        .cine-header::after {
            content: '';
            position: absolute;
            left: 0; right: 0; height: 1px;
            background: linear-gradient(90deg, transparent 0%, rgba(34,211,238,0.5) 50%, transparent 100%);
            animation: chScan 6s linear infinite;
            pointer-events: none;
        }
        @keyframes chScan {
            0%   { top: -1px; opacity: 0; }
            10%  { opacity: 1; }
            90%  { opacity: 0.6; }
            100% { top: 100%; opacity: 0; }
        }
        .cine-header-bg-art {
            position: absolute;
            right: -20px; top: -20px;
            opacity: 0.045;
            pointer-events: none;
        }
        .cine-header-eyebrow {
            font-family: var(--font-mono);
            font-size: 10px;
            letter-spacing: 4px;
            text-transform: uppercase;
            color: var(--neon-cyan);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
        }
        .cine-header-eyebrow::before {
            content: '';
            display: inline-block;
            width: 24px; height: 2px;
            background: var(--neon-cyan);
        }
        .cine-header-title {
            font-family: var(--font-display);
            font-size: clamp(32px, 5vw, 52px);
            font-weight: 700;
            letter-spacing: 3px;
            color: #fff;
            line-height: 1;
            margin-bottom: 10px;
            position: relative;
        }
        .cine-header-title span { color: var(--neon-cyan); }
        .cine-header-sub {
            font-size: 13px;
            color: rgba(255,255,255,0.45);
            font-family: var(--font-mono);
            letter-spacing: 1px;
            position: relative;
        }
        .cine-header-stats {
            display: flex;
            gap: 24px;
            margin-top: 22px;
            flex-wrap: wrap;
            position: relative;
        }
        .cine-stat { display: flex; flex-direction: column; gap: 4px; }
        .cine-stat-val {
            font-family: var(--font-display);
            font-size: 28px;
            font-weight: 700;
            line-height: 1;
            color: #fff;
        }
        .cine-stat-val.cyan   { color: var(--neon-cyan); }
        .cine-stat-val.gold   { color: var(--neon-gold); }
        .cine-stat-val.rose   { color: var(--neon-rose); }
        .cine-stat-val.green  { color: var(--neon-emerald); }
        .cine-stat-val.violet { color: #a78bfa; }
        .cine-stat-label {
            font-family: var(--font-mono);
            font-size: 9px;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: rgba(255,255,255,0.35);
        }
        .cine-stat-divider {
            width: 1px;
            background: rgba(255,255,255,0.1);
            align-self: stretch;
            margin: 4px 0;
        }
        .cine-header-actions {
            position: absolute;
            top: 28px; right: 32px;
            display: flex;
            gap: 10px;
            align-items: center;
        }
        @media (max-width: 640px) {
            .cine-header { padding: 24px 20px 20px; }
            .cine-header-actions { position: static; margin-top: 20px; }
            .cine-header-title { font-size: 30px; }
        }
        /* â”€â”€ Contacts â”€â”€ */
        .contacts-hero-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .contact-dept-card { background: var(--surface-2); border: 1px solid var(--border-default); border-radius: 12px; overflow: hidden; transition: border-color 0.2s; }
        .contact-dept-card:hover { border-color: rgba(34,211,238,0.35); }
        .contact-dept-hdr { padding: 12px 16px; background: linear-gradient(135deg, rgba(34,211,238,0.08), transparent); border-bottom: 1px solid rgba(34,211,238,0.2); display: flex; align-items: center; justify-content: space-between; }
        .contact-dept-name { font-family: var(--font-display); font-size: 12px; font-weight: 700; letter-spacing: 2px; text-transform: uppercase; color: var(--neon-cyan); }
        .contact-dept-count { font-family: var(--font-mono); font-size: 11px; color: rgba(255,255,255,0.3); background: rgba(255,255,255,0.05); padding: 2px 8px; border-radius: 10px; }
        .contact-dept-body { padding: 10px; }
        .contact-card-item { padding: 12px 14px; border-radius: 8px; background: var(--void-deep); margin-bottom: 8px; transition: all 0.2s; position: relative; }
        .contact-card-item:last-child { margin-bottom: 0; }
        .contact-card-item:hover { background: rgba(34,211,238,0.05); transform: translateX(3px); }
        .contact-card-name { font-weight: 600; font-size: 14px; color: var(--text-100); margin-bottom: 2px; }
        .contact-card-role { font-size: 11px; color: var(--text-50); margin-bottom: 8px; font-family: var(--font-mono); }
        .contact-card-links { display: flex; gap: 12px; flex-wrap: wrap; }
        .contact-card-link { font-size: 11px; color: var(--neon-cyan); text-decoration: none; font-family: var(--font-mono); display: flex; align-items: center; gap: 4px; opacity: 0.8; transition: opacity 0.2s; }
        .contact-card-link:hover { opacity: 1; }
        .contact-card-del { position: absolute; top: 8px; right: 8px; background: none; border: none; color: rgba(255,255,255,0.2); cursor: pointer; font-size: 16px; padding: 2px 6px; border-radius: 4px; transition: all 0.15s; line-height: 1; }
        .contact-card-del:hover { color: var(--neon-rose); background: rgba(244,63,94,0.1); }
        .contacts-search-wrap { position: relative; margin-bottom: 20px; }
        .contacts-search-wrap svg { position: absolute; left: 14px; top: 50%; transform: translateY(-50%); color: var(--text-40); pointer-events: none; }
        .contacts-search-input { width: 100%; padding: 13px 18px 13px 42px; background: var(--surface-2); border: 1px solid var(--border-default); border-radius: 8px; color: var(--text-90); font-size: 14px; font-family: var(--font-mono); box-sizing: border-box; transition: border-color 0.2s; }
        .contacts-search-input:focus { outline: none; border-color: var(--neon-cyan); }
        /* â”€â”€ Milestones â”€â”€ */
        .ms-phase-wrap { margin-bottom: 32px; }
        .ms-phase-title { font-family: var(--font-display); font-size: 11px; letter-spacing: 3px; text-transform: uppercase; color: rgba(255,255,255,0.3); margin-bottom: 16px; padding-left: 28px; position: relative; }
        .ms-phase-title::before { content: ''; position: absolute; left: 0; top: 50%; transform: translateY(-50%); width: 16px; height: 2px; background: var(--neon-violet); }
        .ms-timeline { position: relative; padding-left: 28px; }
        .ms-timeline::before { content: ''; position: absolute; left: 7px; top: 0; bottom: 0; width: 2px; background: linear-gradient(180deg, var(--neon-violet), rgba(139,92,246,0.1)); }
        .ms-item { position: relative; margin-bottom: 16px; background: var(--surface-2); border: 1px solid var(--border-default); border-radius: 10px; padding: 16px 18px 14px; transition: all 0.2s; }
        .ms-item:hover { border-color: rgba(139,92,246,0.4); transform: translateX(3px); }
        .ms-item.completed { border-color: rgba(16,185,129,0.25); opacity: 0.7; }
        .ms-item.overdue { border-color: rgba(244,63,94,0.35); }
        .ms-dot { position: absolute; left: -21px; top: 18px; width: 14px; height: 14px; border-radius: 50%; border: 2px solid var(--neon-violet); background: var(--surface-1); }
        .ms-item.completed .ms-dot { border-color: var(--neon-emerald); background: var(--neon-emerald); }
        .ms-item.overdue .ms-dot { border-color: var(--neon-rose); background: var(--neon-rose); animation: msPulse 1.8s infinite; }
        @keyframes msPulse { 0%,100% { box-shadow: 0 0 0 0 rgba(244,63,94,0.5); } 50% { box-shadow: 0 0 0 6px rgba(244,63,94,0); } }
        .ms-item-head { display: flex; align-items: flex-start; justify-content: space-between; gap: 12px; margin-bottom: 6px; }
        .ms-item-title { font-weight: 600; font-size: 14px; color: var(--text-90); flex: 1; }
        .ms-item.completed .ms-item-title { text-decoration: line-through; color: var(--text-40); }
        .ms-item-date { font-family: var(--font-mono); font-size: 11px; color: var(--text-40); white-space: nowrap; }
        .ms-item-desc { font-size: 12px; color: var(--text-50); margin-bottom: 10px; }
        .ms-item-actions { display: flex; gap: 8px; }
        .ms-btn { padding: 4px 10px; border-radius: 5px; font-size: 11px; font-family: var(--font-mono); cursor: pointer; border: 1px solid var(--border-default); background: transparent; color: var(--text-60); transition: all 0.15s; }
        .ms-btn:hover { border-color: var(--neon-cyan); color: var(--neon-cyan); }
        .ms-btn.complete { border-color: rgba(16,185,129,0.4); color: var(--neon-emerald); }
        .ms-btn.complete:hover { background: rgba(16,185,129,0.1); }
        .ms-btn.delete:hover { border-color: var(--neon-rose); color: var(--neon-rose); background: rgba(244,63,94,0.08); }
        .ms-add-form { background: var(--surface-2); border: 1px solid rgba(34,211,238,0.2); border-radius: 12px; padding: 20px; margin-top: 24px; }
        /* â”€â”€ Risk â”€â”€ */
        .risk-matrix-wrap { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; margin-bottom: 24px; }
        .risk-lane { background: var(--surface-2); border-radius: 12px; overflow: hidden; border: 1px solid var(--border-default); }
        .risk-lane-hdr { padding: 12px 16px; font-family: var(--font-display); font-size: 12px; font-weight: 700; letter-spacing: 2px; text-transform: uppercase; }
        .risk-lane-hdr.high { background: rgba(244,63,94,0.15); color: var(--neon-rose); border-bottom: 2px solid var(--neon-rose); }
        .risk-lane-hdr.medium { background: rgba(251,191,36,0.12); color: var(--neon-gold); border-bottom: 2px solid var(--neon-gold); }
        .risk-lane-hdr.low { background: rgba(16,185,129,0.1); color: var(--neon-emerald); border-bottom: 2px solid var(--neon-emerald); }
        .risk-lane-body { padding: 10px; min-height: 80px; }
        .risk-item { background: var(--void-deep); border-radius: 8px; padding: 12px 14px; margin-bottom: 8px; position: relative; transition: all 0.2s; border-left: 3px solid transparent; }
        .risk-item:hover { transform: translateY(-2px); }
        .risk-item.high { border-left-color: var(--neon-rose); }
        .risk-item.medium { border-left-color: var(--neon-gold); }
        .risk-item.low { border-left-color: var(--neon-emerald); }
        .risk-item.resolved { opacity: 0.45; }
        .risk-item-title { font-size: 13px; font-weight: 600; color: var(--text-90); margin-bottom: 4px; }
        .risk-item-cat { font-family: var(--font-mono); font-size: 10px; color: var(--text-40); margin-bottom: 6px; }
        .risk-item-mit { font-size: 11px; color: var(--text-55); font-style: italic; }
        .risk-item-actions { display: flex; gap: 6px; margin-top: 10px; }
        .risk-action-btn { padding: 3px 9px; font-size: 10px; font-family: var(--font-mono); border: 1px solid var(--border-default); background: transparent; border-radius: 4px; cursor: pointer; color: var(--text-50); transition: all 0.15s; }
        .risk-action-btn:hover { border-color: var(--neon-cyan); color: var(--neon-cyan); }
        .risk-action-btn.resolve:hover { border-color: var(--neon-emerald); color: var(--neon-emerald); }
        .risk-action-btn.del:hover { border-color: var(--neon-rose); color: var(--neon-rose); }
        /* â”€â”€ Shopping â”€â”€ */
        .shop-category-wrap { margin-bottom: 28px; }
        .shop-cat-hdr { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid var(--border-subtle); }
        .shop-cat-icon { font-size: 18px; }
        .shop-cat-name { font-family: var(--font-display); font-size: 14px; font-weight: 700; letter-spacing: 1px; color: var(--text-80); }
        .shop-cat-badge { margin-left: auto; font-family: var(--font-mono); font-size: 10px; padding: 2px 8px; border-radius: 10px; background: rgba(255,255,255,0.06); color: var(--text-40); }
        .shop-item-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 10px; }
        .shop-item-card { background: var(--surface-2); border: 1px solid var(--border-default); border-radius: 8px; padding: 12px 14px; display: flex; align-items: flex-start; gap: 12px; transition: all 0.2s; cursor: pointer; }
        .shop-item-card:hover { border-color: rgba(34,211,238,0.3); background: var(--surface-3); }
        .shop-item-card.checked { opacity: 0.5; }
        .shop-item-card.checked .shop-item-name { text-decoration: line-through; }
        .shop-item-check { width: 18px; height: 18px; border: 2px solid var(--border-default); border-radius: 4px; flex-shrink: 0; margin-top: 1px; display: flex; align-items: center; justify-content: center; transition: all 0.15s; font-size: 11px; }
        .shop-item-card.checked .shop-item-check { background: var(--neon-emerald); border-color: var(--neon-emerald); color: #000; }
        .shop-item-name { font-size: 13px; font-weight: 600; color: var(--text-90); flex: 1; }
        .shop-item-qty { font-family: var(--font-mono); font-size: 11px; color: var(--text-40); }
        .shop-item-del { background: none; border: none; color: var(--text-20); cursor: pointer; font-size: 14px; padding: 0 4px; transition: color 0.15s; }
        .shop-item-del:hover { color: var(--neon-rose); }
        @media (max-width: 640px) {
            .risk-matrix-wrap { grid-template-columns: 1fr; }
        }
    </style>

    <script>
    /* CINEMATIC MODULE UPGRADES */
    (function patchModules() {

        function cineHeader(o) {
            const statsHtml = (o.stats||[]).map((s,i) =>
                (i>0?'<div class="cine-stat-divider"></div>':'')+
                '<div class="cine-stat"><div class="cine-stat-val '+(s.color||'')+'">'+s.val+'</div><div class="cine-stat-label">'+s.label+'</div></div>'
            ).join('');
            return '<div class="cine-header">'+(o.artSvg?'<div class="cine-header-bg-art">'+o.artSvg+'</div>':'')+(o.actions?'<div class="cine-header-actions">'+o.actions+'</div>':'')+
                '<div class="cine-header-eyebrow">'+o.eyebrow+'</div>'+
                '<div class="cine-header-title">'+(o.titlePre?o.titlePre+' ':'')+
                '<span>'+o.titleAccent+'</span></div>'+
                '<div class="cine-header-sub">'+o.sub+'</div>'+
                (statsHtml?'<div class="cine-header-stats">'+statsHtml+'</div>':'')+
                '</div>';
        }

        const ART = {
            contacts: '<svg width="220" height="220" viewBox="0 0 200 200" fill="none" stroke="currentColor" stroke-width="1.5" color="var(--neon-cyan)"><circle cx="100" cy="70" r="28"/><path d="M44 170c0-30.9 25.1-56 56-56s56 25.1 56 56"/><circle cx="40" cy="80" r="18" opacity=".5"/><path d="M14 160c0-14.4 11.6-26 26-26" opacity=".5"/><circle cx="160" cy="80" r="18" opacity=".5"/><path d="M186 160c0-14.4-11.6-26-26-26" opacity=".5"/></svg>',
            milestones: '<svg width="220" height="220" viewBox="0 0 200 200" fill="none" stroke="currentColor" stroke-width="1.5" color="var(--neon-violet)"><line x1="20" y1="100" x2="180" y2="100"/><circle cx="50" cy="100" r="10"/><circle cx="100" cy="100" r="10"/><circle cx="150" cy="100" r="10"/><line x1="50" y1="100" x2="50" y2="60"/><line x1="100" y1="100" x2="100" y2="50"/><line x1="150" y1="100" x2="150" y2="70"/><rect x="30" y="40" width="40" height="20" rx="4"/><rect x="80" y="30" width="40" height="20" rx="4"/><rect x="130" y="50" width="40" height="20" rx="4"/></svg>',
            risk: '<svg width="220" height="220" viewBox="0 0 200 200" fill="none" stroke="currentColor" stroke-width="1.5" color="var(--neon-rose)"><polygon points="100,20 180,170 20,170"/><line x1="100" y1="80" x2="100" y2="130"/><circle cx="100" cy="148" r="6" fill="currentColor"/></svg>',
            shopping: '<svg width="220" height="220" viewBox="0 0 200 200" fill="none" stroke="currentColor" stroke-width="1.5" color="var(--neon-gold)"><path d="M40 40h20l20 80h70l20-60H70"/><circle cx="90" cy="160" r="10"/><circle cx="150" cy="160" r="10"/></svg>',
            shotlist: '<svg width="220" height="220" viewBox="0 0 200 200" fill="none" stroke="currentColor" stroke-width="1.5" color="var(--neon-cyan)"><rect x="30" y="50" width="120" height="90" rx="8"/><rect x="150" y="68" width="30" height="18" rx="4"/><rect x="150" y="102" width="30" height="18" rx="4"/><circle cx="90" cy="95" r="28"/><circle cx="90" cy="95" r="18"/><circle cx="90" cy="95" r="8" fill="currentColor" opacity=".4"/></svg>',
            continuity: '<svg width="220" height="220" viewBox="0 0 200 200" fill="none" stroke="currentColor" stroke-width="1.5" color="#a78bfa"><rect x="30" y="30" width="140" height="140" rx="10"/><line x1="30" y1="70" x2="170" y2="70"/><line x1="30" y1="110" x2="170" y2="110"/><line x1="30" y1="150" x2="170" y2="150"/><line x1="80" y1="30" x2="80" y2="170"/></svg>',
            financials: '<svg width="220" height="220" viewBox="0 0 200 200" fill="none" stroke="currentColor" stroke-width="1.5" color="var(--neon-emerald)"><rect x="30" y="50" width="140" height="110" rx="8"/><line x1="30" y1="78" x2="170" y2="78"/><path d="M100 40 L100 50"/><path d="M85 105 C85 95 115 95 115 105 C115 118 85 118 85 128 C85 138 115 138 115 128"/><line x1="100" y1="92" x2="100" y2="96"/><line x1="100" y1="138" x2="100" y2="142"/></svg>',
        };

        // â”€â”€ ContactDirectory â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function patchContactDirectory() {
            if (typeof ContactDirectory === 'undefined') return;
            ContactDirectory.render = function() {
                const container = document.getElementById('view-contacts');
                if (!container) return;
                const contacts = this.getData();
                const byDept = {};
                this.departments.forEach(d => byDept[d] = []);
                contacts.forEach(c => {
                    const dept = c.department && byDept[c.department] !== undefined ? c.department : 'Other';
                    if (!byDept[dept]) byDept[dept] = [];
                    byDept[dept].push(c);
                });
                const total = contacts.length;
                const deptCount = Object.values(byDept).filter(a=>a.length>0).length;
                const withEmail = contacts.filter(c=>c.email).length;
                const withPhone = contacts.filter(c=>c.phone).length;
                const deptIcons = {
                    'Production':'ğŸ¬','Direction':'ğŸ­','Camera':'ğŸ“·','Lighting':'ğŸ’¡',
                    'Sound':'ğŸµ','Art':'ğŸ¨','Wardrobe':'ğŸ‘—','Hair/Makeup':'ğŸ’„',
                    'Locations':'ğŸ“','Transportation':'ğŸš—','Catering':'ğŸ½ï¸',
                    'Post-Production':'ğŸ–¥ï¸','Other':'ğŸ“'
                };
                const activeDepts = this.departments.filter(d => byDept[d] && byDept[d].length > 0);
                container.innerHTML = cineHeader({
                    eyebrow:'Production Network',titleAccent:'CONTACTS',
                    sub:'Department directory â€” all crew, vendors & collaborators in one place',
                    stats:[
                        {val:total,label:'Total Contacts',color:'cyan'},
                        {val:deptCount,label:'Departments'},
                        {val:withEmail,label:'With Email',color:'green'},
                        {val:withPhone,label:'With Phone'},
                    ],
                    actions:'<button class="btn btn-sm" onclick="ContactDirectory.exportToCSV()">ğŸ“Š CSV</button><button class="btn btn-sm btn-primary" onclick="ContactDirectory.showAdd()">+ Add</button>',
                    artSvg:ART.contacts
                })+
                '<div class="contacts-search-wrap">'+
                '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>'+
                '<input class="contacts-search-input" id="contacts-search" placeholder="Search by name, role, department, email..." oninput="ContactDirectory.search(this.value)">'+
                '</div>'+
                '<div class="contacts-hero-grid" id="contacts-dept-grid">'+
                (activeDepts.length===0?'<div style="grid-column:1/-1;text-align:center;padding:60px 20px"><div style="font-size:48px;margin-bottom:16px">ğŸ“‡</div><div style="font-family:var(--font-display);font-size:20px;color:var(--text-50);letter-spacing:2px;margin-bottom:8px">NO CONTACTS YET</div><div style="font-size:13px;color:var(--text-30)">Add crew, vendors, and collaborators.</div></div>':
                activeDepts.map(dept=>
                    '<div class="contact-dept-card" data-dept="'+dept+'">'+
                    '<div class="contact-dept-hdr"><div class="contact-dept-name">'+(deptIcons[dept]||'ğŸ“')+' '+dept+'</div>'+
                    '<div class="contact-dept-count">'+byDept[dept].length+'</div></div>'+
                    '<div class="contact-dept-body">'+
                    byDept[dept].map(c=>
                        '<div class="contact-card-item">'+
                          `<button class="contact-card-del" onclick="ContactDirectory.deleteContact(this.dataset.id);event.stopPropagation()" data-id="${String(c.id||c.name)}">\u00d7</button>`+
                        '<div class="contact-card-name">'+(c.name||'â€”')+'</div>'+
                        '<div class="contact-card-role">'+(c.role||c.title||'')+( c.company?' Â· '+c.company:'')+'</div>'+
                        '<div class="contact-card-links">'+
                        (c.phone?'<a class="contact-card-link" href="tel:'+c.phone+'">ğŸ“ '+c.phone+'</a>':'')+
                        (c.email?'<a class="contact-card-link" href="mailto:'+c.email+'">âœ‰ '+c.email+'</a>':'')+
                        '</div>'+(c.notes?'<div style="font-size:11px;color:var(--text-35);margin-top:6px;font-style:italic">'+c.notes+'</div>':'')+
                        '</div>').join('')+
                    '</div></div>').join(''))+
                '</div>';
            };
            ContactDirectory.search = function(q) {
                const grid = document.getElementById('contacts-dept-grid');
                if (!grid) return;
                const term = q.toLowerCase();
                grid.querySelectorAll('.contact-dept-card').forEach(card => {
                    let anyVisible = false;
                    card.querySelectorAll('.contact-card-item').forEach(item => {
                        const show = !term || item.textContent.toLowerCase().includes(term);
                        item.style.display = show ? '' : 'none';
                        if (show) anyVisible = true;
                    });
                    card.style.display = anyVisible ? '' : 'none';
                });
            };
            ContactDirectory.showAdd = function() {
                if (typeof PopupSystem !== 'undefined' && PopupSystem.show) PopupSystem.show('contact');
                else if (typeof showPopup !== 'undefined') showPopup('contact');
            };
        }

        // â”€â”€ Milestones â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function patchMilestones() {
            if (typeof Milestones === 'undefined') return;
            Milestones.render = function() {
                const container = document.getElementById('view-milestones');
                if (!container) return;
                const milestones = this.getData();
                const completed = milestones.filter(m=>m.completed).length;
                const today = new Date();
                const overdue = milestones.filter(m=>!m.completed&&m.dueDate&&new Date(m.dueDate)<today).length;
                const upcoming = milestones.filter(m=>!m.completed&&m.dueDate&&new Date(m.dueDate)>=today).length;
                const progress = milestones.length ? Math.round(completed/milestones.length*100) : 0;
                const byPhase = {};
                this.phases.forEach(p=>byPhase[p]=[]);
                milestones.forEach(m=>{ const p=m.phase&&byPhase[m.phase]!==undefined?m.phase:this.phases[0]; byPhase[p].push(m); });
                const phaseOrder = this.phases.filter(p=>byPhase[p].length>0);
                container.innerHTML = cineHeader({
                    eyebrow:'Production Timeline',titleAccent:'MILESTONES',
                    sub:'Track every deliverable across all production phases',
                    stats:[
                        {val:milestones.length,label:'Total'},{val:completed,label:'Complete',color:'green'},
                        {val:upcoming,label:'Upcoming',color:'cyan'},{val:overdue,label:'Overdue',color:overdue>0?'rose':''},
                        {val:progress+'%',label:'Progress',color:'violet'}
                    ],
                    actions:`<button class="btn btn-sm" onclick="DataManager.exportToCSV('milestones')">ğŸ“Š CSV</button><button class="btn btn-sm btn-primary" onclick="Milestones.showAdd()">+ Add</button>`,
                    artSvg:ART.milestones
                })+
                '<div style="background:var(--surface-2);border:1px solid var(--border-default);border-radius:10px;padding:18px 20px;margin-bottom:24px;">'+
                '<div style="display:flex;justify-content:space-between;font-family:var(--font-mono);font-size:11px;color:var(--text-50);margin-bottom:10px;"><span>OVERALL PROGRESS</span><span>'+progress+'% COMPLETE</span></div>'+
                '<div style="background:var(--surface-3);border-radius:6px;height:8px;overflow:hidden;"><div style="height:100%;width:'+progress+'%;background:linear-gradient(90deg,var(--neon-violet),var(--neon-cyan));border-radius:6px;"></div></div>'+
                '</div>'+
                (phaseOrder.length===0?'<div style="text-align:center;padding:60px 20px"><div style="font-size:48px;margin-bottom:16px">ğŸ—“ï¸</div><div style="font-family:var(--font-display);font-size:20px;color:var(--text-50);letter-spacing:2px;margin-bottom:8px">NO MILESTONES YET</div><div style="font-size:13px;color:var(--text-30)">Import a script to auto-generate a production milestone timeline.</div></div>':
                phaseOrder.map(phase=>{
                    const items=byPhase[phase].sort((a,b)=>new Date(a.dueDate||0)-new Date(b.dueDate||0));
                    return '<div class="ms-phase-wrap"><div class="ms-phase-title">'+phase+'</div><div class="ms-timeline">'+
                    items.map((m,idx)=>{
                        const due=m.dueDate?new Date(m.dueDate):null;
                        const isOverdue=!m.completed&&due&&due<today;
                        const cls=m.completed?'completed':isOverdue?'overdue':'';
                        return '<div class="ms-item '+cls+'"><div class="ms-dot"></div>'+
                            '<div class="ms-item-head"><div class="ms-item-title">'+(m.title||m.name||'Milestone')+'</div>'+
                            '<div class="ms-item-date">'+(due?due.toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'}):'â€”')+'</div></div>'+
                            (m.description?'<div class="ms-item-desc">'+m.description+'</div>':'')+
                            '<div class="ms-item-actions">'+
                            (!m.completed?'<button class="ms-btn complete" onclick="Milestones.complete('+m.id+')">âœ“ Complete</button>':'<span style="font-size:11px;color:var(--neon-emerald);font-family:var(--font-mono)">âœ“ Done</span>')+
                            '<button class="ms-btn delete" onclick="Milestones.delete('+m.id+')">Delete</button>'+
                            '</div></div>';
                    }).join('')+'</div></div>';
                }).join(''))+
                '<div class="ms-add-form" id="ms-add-form" style="display:none">'+
                '<div style="font-family:var(--font-display);font-size:14px;font-weight:700;letter-spacing:1px;margin-bottom:16px;color:var(--neon-cyan)">ADD MILESTONE</div>'+
                '<div class="form-row">'+
                '<div class="form-group"><label class="form-label">Title</label><input class="form-input" id="ms-title" placeholder="Milestone name"></div>'+
                '<div class="form-group"><label class="form-label">Phase</label><select class="form-select" id="ms-phase">'+this.phases.map(p=>'<option>'+p+'</option>').join('')+'</select></div>'+
                '<div class="form-group"><label class="form-label">Due Date</label><input class="form-input" id="ms-date" type="date"></div>'+
                '<div class="form-group"><label class="form-label">Description</label><input class="form-input" id="ms-desc" placeholder="Optional"></div>'+
                '</div><div style="display:flex;gap:10px;margin-top:12px">'+
                '<button class="btn btn-primary" onclick="Milestones.addNew()">Add Milestone</button>'+
                `<button class="btn" onclick="document.getElementById('ms-add-form').style.display='none'">Cancel</button></div></div>`;
            };
            Milestones.showAdd=function(){const f=document.getElementById('ms-add-form');if(f)f.style.display=f.style.display==='none'?'':'none';};
            Milestones.addNew=function(){
                const title=document.getElementById('ms-title')?.value?.trim();if(!title)return;
                if(!Core.data.milestones)Core.data.milestones=[];
                Core.data.milestones.push({id:Date.now(),title,phase:document.getElementById('ms-phase')?.value||this.phases[0],dueDate:document.getElementById('ms-date')?.value||'',description:document.getElementById('ms-desc')?.value||'',completed:false});
                Core.save();this.render();Core.log('Milestone added: '+title);
            };
            Milestones.complete=function(id){const m=(Core.data.milestones||[]).find(x=>x.id===id||x.id==id);if(m){m.completed=true;Core.save();this.render();}};
            Milestones.delete=function(id){if(!Core.data.milestones)return;Core.data.milestones=Core.data.milestones.filter(x=>x.id!==id&&x.id!=id);Core.save();this.render();};
        }

        // â”€â”€ RiskAssessment â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function patchRisk() {
            if (typeof RiskAssessment === 'undefined') return;
            RiskAssessment.render = function() {
                const container = document.getElementById('view-risk');
                if (!container) return;
                const risks = this.getData();
                const high=risks.filter(r=>(r.level||r.severity)==='High');
                const medium=risks.filter(r=>(r.level||r.severity)==='Medium');
                const low=risks.filter(r=>(r.level||r.severity)==='Low');
                const resolved=risks.filter(r=>r.resolved);
                const renderLane=(arr,cls)=>{
                    if(!arr.length)return'<div class="risk-lane-body" style="display:flex;align-items:center;justify-content:center;color:var(--text-25);font-size:11px;font-family:var(--font-mono)">â€”</div>';
                    return'<div class="risk-lane-body">'+arr.map(r=>{
                        const desc=r.risk||r.description||r.title||'â€”';
                        const mit=r.mitigation||'';const cat=r.category||'';
                        return'<div class="risk-item '+cls+(r.resolved?' resolved':'')+'">'+
                            '<div class="risk-item-title">'+desc+'</div>'+
                            (cat?'<div class="risk-item-cat">'+cat+'</div>':'')+
                            (mit?'<div class="risk-item-mit">'+mit+'</div>':'')+
                            '<div class="risk-item-actions">'+
                            (!r.resolved?'<button class="risk-action-btn resolve" onclick="RiskAssessment.resolve('+r.id+')">âœ“ Resolve</button>':'<span style="font-size:10px;color:var(--neon-emerald);font-family:var(--font-mono)">Resolved</span>')+
                            '<button class="risk-action-btn del" onclick="RiskAssessment.delete('+r.id+')">Delete</button>'+
                            '</div></div>';
                    }).join('')+'</div>';
                };
                container.innerHTML = cineHeader({
                    eyebrow:'Safety & Planning',titleAccent:'RISK ASSESSMENT',
                    sub:'Identify, categorize, and mitigate production hazards',
                    stats:[
                        {val:risks.length,label:'Total Risks'},{val:high.length,label:'High',color:'rose'},
                        {val:medium.length,label:'Medium',color:'gold'},{val:low.length,label:'Low',color:'green'},
                        {val:resolved.length,label:'Resolved'}
                    ],
                    actions:`<button class="btn btn-sm" onclick="DataManager.exportToCSV('risks')">ğŸ“Š CSV</button><button class="btn btn-sm btn-primary" onclick="RiskAssessment.showAdd()">+ Add Risk</button>`,
                    artSvg:ART.risk
                })+
                '<div class="risk-matrix-wrap">'+
                '<div class="risk-lane"><div class="risk-lane-hdr high">âš  HIGH</div>'+renderLane(high,'high')+'</div>'+
                '<div class="risk-lane"><div class="risk-lane-hdr medium">â–³ MEDIUM</div>'+renderLane(medium,'medium')+'</div>'+
                '<div class="risk-lane"><div class="risk-lane-hdr low">âœ“ LOW</div>'+renderLane(low,'low')+'</div>'+
                '</div>'+
                (risks.length===0?'<div style="text-align:center;padding:40px;color:var(--text-30);font-size:13px">No risks logged. Import a script or add manually.</div>':'')+
                '<div class="ms-add-form" id="risk-add-form" style="display:none">'+
                '<div style="font-family:var(--font-display);font-size:14px;font-weight:700;letter-spacing:1px;margin-bottom:16px;color:var(--neon-rose)">ADD RISK</div>'+
                '<div class="form-row">'+
                '<div class="form-group"><label class="form-label">Description</label><input class="form-input" id="risk-desc" placeholder="What is the risk?"></div>'+
                '<div class="form-group"><label class="form-label">Category</label><select class="form-select" id="risk-cat">'+this.riskCategories.map(c=>'<option>'+c+'</option>').join('')+'</select></div>'+
                '<div class="form-group"><label class="form-label">Severity</label><select class="form-select" id="risk-level"><option>High</option><option>Medium</option><option>Low</option></select></div>'+
                '<div class="form-group"><label class="form-label">Mitigation Plan</label><input class="form-input" id="risk-mit" placeholder="How will you mitigate this?"></div>'+
                '</div><div style="display:flex;gap:10px;margin-top:12px">'+
                '<button class="btn btn-primary" onclick="RiskAssessment.addNew()">Add Risk</button>'+
                `<button class="btn" onclick="document.getElementById('risk-add-form').style.display='none'">Cancel</button></div></div>`;
            };
            RiskAssessment.showAdd=function(){const f=document.getElementById('risk-add-form');if(f)f.style.display=f.style.display==='none'?'':'none';};
            RiskAssessment.addNew=function(){
                const desc=document.getElementById('risk-desc')?.value?.trim();if(!desc)return;
                if(!Core.data.risks)Core.data.risks=[];
                Core.data.risks.push({id:Date.now(),risk:desc,category:document.getElementById('risk-cat')?.value||'',level:document.getElementById('risk-level')?.value||'Medium',severity:document.getElementById('risk-level')?.value||'Medium',mitigation:document.getElementById('risk-mit')?.value||'',resolved:false,status:'Active'});
                Core.save();this.render();Core.log('Risk added');
            };
            RiskAssessment.resolve=function(id){const r=(Core.data.risks||[]).find(x=>x.id===id||x.id==id);if(r){r.resolved=true;r.status='Resolved';Core.save();this.render();}};
            RiskAssessment.delete=function(id){if(!Core.data.risks)return;Core.data.risks=Core.data.risks.filter(x=>x.id!==id&&x.id!=id);Core.save();this.render();};
        }

        // â”€â”€ ShoppingList â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function patchShopping() {
            if (typeof ShoppingList === 'undefined') return;
            ShoppingList.render = function() {
                const container = document.getElementById('view-shopping');
                if (!container) return;
                const items = Core.data.shopping || [];
                const total=items.length,checked=items.filter(i=>i.checked).length,unchecked=total-checked;
                const catIcons={'Props':'ğŸ­','Wardrobe':'ğŸ‘—','Set Dressing':'ğŸ›‹ï¸','Camera':'ğŸ“·','Lighting':'ğŸ’¡','Sound':'ğŸ™ï¸','Catering':'ğŸ•','Office':'ğŸ“‹','Safety':'ğŸ¦º','Expendables':'ğŸ”§','Other':'ğŸ“¦'};
                const categories=[...new Set(items.map(i=>i.category||'Other'))];
                if(!categories.includes('Other'))categories.push('Other');
                const byCategory={};categories.forEach(c=>byCategory[c]=[]);
                items.forEach(i=>{const cat=i.category||'Other';if(!byCategory[cat])byCategory[cat]=[];byCategory[cat].push(i);});
                const activeCats=categories.filter(c=>byCategory[c]&&byCategory[c].length>0);
                container.innerHTML = cineHeader({
                    eyebrow:'Production Procurement',titleAccent:'SHOPPING LIST',
                    sub:'Track every item you need to source for production',
                    stats:[
                        {val:total,label:'Total Items'},{val:unchecked,label:'Remaining',color:'gold'},
                        {val:checked,label:'Acquired',color:'green'},
                        {val:total>0?Math.round(checked/total*100)+'%':'â€”',label:'Complete',color:'cyan'}
                    ],
                    actions:'<button class="btn btn-sm" onclick="ShoppingList.clearChecked()" style="color:var(--text-40)">Clear Done</button><button class="btn btn-sm btn-primary" onclick="ShoppingList.showAdd()">+ Add Item</button>',
                    artSvg:ART.shopping
                })+
                (activeCats.length===0?'<div style="text-align:center;padding:60px 20px"><div style="font-size:48px;margin-bottom:16px">ğŸ›’</div><div style="font-family:var(--font-display);font-size:20px;color:var(--text-50);letter-spacing:2px;margin-bottom:8px">LIST IS EMPTY</div><div style="font-size:13px;color:var(--text-30)">Add items or import a script to auto-seed props.</div></div>':
                activeCats.map(cat=>
                    '<div class="shop-category-wrap">'+
                    '<div class="shop-cat-hdr"><span class="shop-cat-icon">'+(catIcons[cat]||'ğŸ“¦')+'</span>'+
                    '<span class="shop-cat-name">'+cat+'</span>'+
                    '<span class="shop-cat-badge">'+byCategory[cat].length+' item'+(byCategory[cat].length!==1?'s':'')+'</span></div>'+
                    '<div class="shop-item-grid">'+
                    byCategory[cat].map(item=>
                        '<div class="shop-item-card'+(item.checked?' checked':'')+'" onclick="ShoppingList.toggleItem('+item.id+')">'+
                        '<div class="shop-item-check">'+(item.checked?'âœ“':'')+'</div>'+
                        '<div style="flex:1"><div class="shop-item-name">'+(item.name||'â€”')+'</div>'+
                        (item.notes?'<div style="font-size:11px;color:var(--text-40);margin-top:2px">'+item.notes+'</div>':'')+
                        '</div>'+(item.qty?'<div class="shop-item-qty">Ã—'+item.qty+'</div>':'')+
                        '<button class="shop-item-del" onclick="event.stopPropagation();ShoppingList.deleteItem('+item.id+')">Ã—</button></div>'
                    ).join('')+'</div></div>').join(''))+
                '<div class="ms-add-form" id="shop-add-form" style="display:none">'+
                '<div style="font-family:var(--font-display);font-size:14px;font-weight:700;letter-spacing:1px;margin-bottom:16px;color:var(--neon-gold)">ADD ITEM</div>'+
                '<div class="form-row">'+
                '<div class="form-group"><label class="form-label">Item Name</label><input class="form-input" id="shop-name" placeholder="What do you need?"></div>'+
                '<div class="form-group"><label class="form-label">Category</label><select class="form-select" id="shop-cat">'+Object.keys(catIcons).map(c=>'<option>'+c+'</option>').join('')+'</select></div>'+
                '<div class="form-group"><label class="form-label">Qty</label><input class="form-input" id="shop-qty" placeholder="1" type="number" min="1" style="max-width:100px"></div>'+
                '<div class="form-group"><label class="form-label">Notes</label><input class="form-input" id="shop-notes" placeholder="Vendor, specs, etc."></div>'+
                '</div><div style="display:flex;gap:10px;margin-top:12px">'+
                '<button class="btn btn-primary" onclick="ShoppingList.addNew()">Add Item</button>'+
                `<button class="btn" onclick="document.getElementById('shop-add-form').style.display='none'">Cancel</button></div></div>`;
            };
            ShoppingList.showAdd=function(){const f=document.getElementById('shop-add-form');if(f)f.style.display=f.style.display==='none'?'':'none';};
            ShoppingList.addNew=function(){
                const name=document.getElementById('shop-name')?.value?.trim();if(!name)return;
                if(!Core.data.shopping)Core.data.shopping=[];
                Core.data.shopping.push({id:Date.now(),name,category:document.getElementById('shop-cat')?.value||'Other',qty:document.getElementById('shop-qty')?.value||'',notes:document.getElementById('shop-notes')?.value||'',checked:false});
                Core.save();this.render();
            };
            ShoppingList.toggleItem=function(id){const i=(Core.data.shopping||[]).find(x=>x.id===id||x.id==id);if(i){i.checked=!i.checked;Core.save();this.render();}};
            ShoppingList.deleteItem=function(id){if(!Core.data.shopping)return;Core.data.shopping=Core.data.shopping.filter(x=>x.id!==id&&x.id!=id);Core.save();this.render();};
            ShoppingList.clearChecked=function(){if(!Core.data.shopping)return;Core.data.shopping=Core.data.shopping.filter(i=>!i.checked);Core.save();this.render();};
        }

        // â”€â”€ ShotList cinematic header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function patchShotList() {
            if (typeof ShotList === 'undefined') return;
            const origRender = ShotList.render.bind(ShotList);
            ShotList.render = function() {
                const container = document.getElementById('view-shotlist');
                if (!container) return;
                const shots = this.getData();
                const completed=shots.filter(s=>s.completed||s.status==='Completed').length;
                const inProgress=shots.filter(s=>s.status==='In Progress').length;
                const planned=shots.filter(s=>!s.completed&&s.status!=='Completed'&&s.status!=='In Progress').length;
                const hdr = cineHeader({
                    eyebrow:'Camera Department',titleAccent:'SHOT LIST',
                    sub:'Every setup, angle, and coverage for this production',
                    stats:[
                        {val:shots.length,label:'Total Shots'},{val:completed,label:'Completed',color:'green'},
                        {val:inProgress,label:'In Progress',color:'cyan'},{val:planned,label:'Planned'}
                    ],
                    actions:`<button class="btn btn-sm" onclick="DataManager.exportToCSV('shotlist')">ğŸ“Š CSV</button><button class="btn btn-sm btn-primary" onclick="ShotList.showAddModal()">+ Add Shot</button>`,
                    artSvg:ART.shotlist
                });
                origRender();
                container.innerHTML = hdr + container.innerHTML;
            };
        }

        // â”€â”€ ContinuityLog cinematic header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function patchContinuity() {
            if (typeof ContinuityLog === 'undefined') return;
            const origRender = ContinuityLog.render.bind(ContinuityLog);
            ContinuityLog.render = function() {
                const container = document.getElementById('view-continuity');
                if (!container) return;
                const logs = Core.data.continuity || [];
                const scenes=[...new Set(logs.map(l=>l.scene).filter(Boolean))].sort();
                const hdr = cineHeader({
                    eyebrow:'Script Supervision',titleAccent:'CONTINUITY LOG',
                    sub:'Scene-by-scene continuity records â€” wardrobe, props, makeup, hair',
                    stats:[
                        {val:logs.length,label:'Log Entries'},{val:scenes.length,label:'Scenes',color:'cyan'},
                        {val:logs.filter(l=>(l.type||'').toLowerCase().includes('costume')||(l.type||'')==='Wardrobe').length,label:'Wardrobe'},
                        {val:logs.filter(l=>(l.type||'').toLowerCase().includes('prop')).length,label:'Props'}
                    ],
                    actions:'<button class="btn btn-sm" onclick="ContinuityLog.exportToCSV()">ğŸ“Š CSV</button><button class="btn btn-sm btn-primary" onclick="ContinuityLog.showAddLogModal()">+ Add Entry</button>',
                    artSvg:ART.continuity
                });
                origRender();
                container.innerHTML = hdr + container.innerHTML;
            };
        }

        // â”€â”€ Financials: no-op patch (replaced by new Financials object above) â”€â”€
        function patchFinancials() {
            // New Financials system is fully self-contained â€” no patch needed.
            // Kept for structural compatibility.
        }

        // â”€â”€ Export coherence: normalize contacts + richer readable report â”€â”€â”€â”€â”€
        function patchExports() {
            if (typeof DataManager === 'undefined') return;
            const origCSV = DataManager.exportToCSV.bind(DataManager);
            DataManager.exportToCSV = function(type) {
                if (type === 'contacts') {
                    if(Core.currentProduction==='GLOBAL'){this.toast('Select a production first','warn');return;}
                    const biz=Core.bizData?.contacts?Object.values(Core.bizData.contacts):[];
                    const dat=Array.isArray(Core.data?.contacts)?Core.data.contacts:[];
                    const all={};dat.forEach(c=>{all[c.id||c.name]=c;});biz.forEach(c=>{all[c.id||c.name]=c;});
                    const contacts=Object.values(all);
                    if(!contacts.length){this.toast('No contacts to export','warn');return;}
                    let csv=`Name,Role,Department,Phone,Email,Company,Notes\n`;
                    contacts.forEach(c=>{csv+=`"${[c.name||'',c.role||c.title||'',c.department||'',c.phone||'',c.email||'',c.company||'',c.notes||''].map(v=>v.replace(/"/g,'""')).join('","')}"\n`;});
                    const fn=Core.currentProduction+'_contacts_'+this.getDateString()+'.csv';
                    const url=URL.createObjectURL(new Blob([csv],{type:'text/csv'}));
                    const a=document.createElement('a');a.href=url;a.download=fn;a.click();URL.revokeObjectURL(url);
                    this.toast('âœ“ Contacts exported','success');
                    return;
                }
                if (type === 'risks') {
                    if(Core.currentProduction==='GLOBAL'){this.toast('Select a production first','warn');return;}
                    const risks=Core.data?.risks||[];
                    if(!risks.length){this.toast('No risks to export','warn');return;}
                    let csv=`Description,Category,Severity,Status,Resolved,Mitigation
`;
                    risks.forEach(r=>{
                        const desc=r.risk||r.description||r.title||'';
                        const sev=r.level||r.severity||'';
                        csv+=`"${[desc,r.category||'',sev,r.status||'Active',r.resolved?'YES':'NO',r.mitigation||''].map(v=>(v+'').replace(/"/g,'""')).join('","')}"\n`;
                    });
                    const fn=Core.currentProduction+'_risks_'+this.getDateString()+'.csv';
                    const url=URL.createObjectURL(new Blob([csv],{type:'text/csv'}));
                    const a=document.createElement('a');a.href=url;a.download=fn;a.click();URL.revokeObjectURL(url);
                    this.toast('âœ“ Risks exported','success');
                    return;
                }
                origCSV(type);
            };

            // Enhanced readable production report
            DataManager.exportProductionReadable = function() {
                if(Core.currentProduction==='GLOBAL'){this.toast('Select a production first','warn');return;}
                const d=Core.data;
                const hr='â•'.repeat(60);const thin='â”€'.repeat(60);
                const biz=Core.bizData?.contacts?Object.values(Core.bizData.contacts):[];
                const dat=Array.isArray(d.contacts)?d.contacts:[];
                const allC={};dat.forEach(c=>{allC[c.id||c.name]=c;});biz.forEach(c=>{allC[c.id||c.name]=c;});
                const contacts=Object.values(allC);
                const lines=[
                    hr,'PRODUCTION INTELLIGENCE REPORT',
                    'Project: '+Core.currentProduction,
                    'Generated: '+new Date().toLocaleString(),hr,
                    '\n[ SCHEDULE â€” '+(d.schedule?.strips?.filter(s=>s.type==='scene')||[]).length+' Scenes ]',thin
                ];
                (d.schedule?.strips?.filter(s=>s.type==='scene')||[]).forEach(s=>{
                    lines.push('  Scene '+(s.scene||'?')+' | '+(s.intext||'')+' '+(s.location||'')+' â€” '+(s.daynight||'')+' | '+(s.pages||'')+'pp | Cast: '+(s.cast||'â€”'));
                    if(s.description)lines.push('    '+s.description);
                });
                const cast=Object.values(Core.bizData?.cast||{});
                lines.push('\n[ CAST â€” '+cast.length+' Members ]',thin);
                cast.forEach(c=>lines.push('  '+(c.name||'')+' â€” '+(c.role||c.character||'')+' | '+(c.phone||'')+' | '+(c.email||'')));
                const crew=Object.values(Core.bizData?.crew||{});
                lines.push('\n[ CREW â€” '+crew.length+' Members ]',thin);
                crew.forEach(c=>lines.push('  '+(c.name||'')+' â€” '+(c.position||'')+' ('+(c.department||'')+') | '+(c.phone||'')+' | '+(c.email||'')));
                lines.push('\n[ CONTACTS â€” '+contacts.length+' ]',thin);
                contacts.forEach(c=>lines.push('  '+(c.name||'')+' â€” '+(c.role||c.title||'')+' ['+(c.department||'')+'] | '+(c.phone||'')+' | '+(c.email||'')+' | '+(c.company||'')));
                const shots=d.shotlist||[];
                lines.push('\n[ SHOT LIST â€” '+shots.length+' Shots ]',thin);
                shots.forEach(s=>lines.push('  Shot '+(s.number||'?')+' | Scene '+(s.scene||'?')+' | '+(s.size||'')+' '+(s.type||'')+' | '+(s.description||'')+' ['+(s.status||'Planned')+']'));
                const budLines=d.budget?.lines||[];const pos=d.budget?.pos||[];
                const tEst=budLines.reduce((s,l)=>s+(parseFloat(l.est)||0),0);
                const tAct=budLines.reduce((s,l)=>s+(parseFloat(l.act)||0),0);
                lines.push('\n[ FINANCIALS ]',thin,'  Total Estimated: $'+tEst.toLocaleString(),'  Total Actual:    $'+tAct.toLocaleString(),'  Variance:        $'+(tEst-tAct).toLocaleString());
                budLines.forEach(l=>lines.push('    '+l.code+' '+l.name+': Est $'+(l.est||0)+' / Act $'+(l.act||0)));
                if(pos.length){lines.push('  Purchase Orders:');pos.forEach(p=>lines.push('    PO#'+(p.poNum||'')+' '+(p.vendor||'')+' $'+(p.amount||0)+' â€” '+(p.desc||'')));}
                const ms=d.milestones||[];
                lines.push('\n[ MILESTONES â€” '+ms.length+' ]',thin);
                ms.forEach(m=>lines.push('  ['+(m.completed?'âœ“':' ')+'] '+(m.title||m.name||'')+' | '+(m.phase||'')+' | Due: '+(m.dueDate||'â€”')));
                const risks=d.risks||[];
                lines.push('\n[ RISKS â€” '+risks.length+' ]',thin);
                risks.forEach(r=>lines.push('  ['+(r.level||r.severity||'?')+'] '+(r.risk||r.description||r.title||'')+' | '+(r.category||'')+' | Mit: '+(r.mitigation||'â€”')+' | '+(r.resolved?'RESOLVED':'ACTIVE')));
                const shopping=d.shopping||[];
                lines.push('\n[ SHOPPING LIST â€” '+shopping.length+' Items ]',thin);
                shopping.forEach(i=>lines.push('  ['+(i.checked?'âœ“':' ')+'] '+(i.name||'')+' ('+(i.category||'')+')'+(i.qty?' Ã—'+i.qty:'')+' '+(i.notes||'')));
                const cont=d.continuity||[];
                lines.push('\n[ CONTINUITY LOG â€” '+cont.length+' Entries ]',thin);
                cont.forEach(c=>lines.push('  Scene '+(c.scene||'?')+' | '+(c.type||'')+' | '+(c.description||c.notes||'')));
                lines.push('\n'+hr,'END OF REPORT',hr);
                const txt=lines.join('\n');
                const url=URL.createObjectURL(new Blob([txt],{type:'text/plain'}));
                const a=document.createElement('a');a.href=url;
                a.download=Core.currentProduction+'_production_report_'+this.getDateString()+'.txt';
                a.click();URL.revokeObjectURL(url);
                this.toast('âœ“ Production report exported','success');
                Core.log('Production report exported');
            };
        }

        // â”€â”€ Script import: ONLY seeds shopping list from props â”€â”€
        // Save + BSP popup handled by patchScriptImportV10 in V10Suite below
        function patchScriptImport() {
            if (typeof ScriptImport === 'undefined') return;
            const origCommit = ScriptImport.commitImport.bind(ScriptImport);
            ScriptImport.commitImport = function() {
                origCommit();
                const r = this._result;
                if (!r || !r.scenes) return;
                const allProps = [...new Set(r.scenes.flatMap(s => s.props||[]))].filter(Boolean);
                if (!allProps.length) return;
                if (!Core.data.shopping) Core.data.shopping = [];
                const existing = new Set(Core.data.shopping.map(i => (i.name||'').toLowerCase()));
                let added = 0;
                allProps.forEach(prop => {
                    if (!existing.has(prop.toLowerCase())) {
                        Core.data.shopping.push({id:Date.now()+Math.random(),name:prop,category:'Props',qty:'1',notes:'From script â€” '+Core.currentProduction,checked:false});
                        added++;
                    }
                });
                if (added > 0) { Core.save(); Core.log('Shopping list seeded with '+added+' props from script'); }
            };
        }

        // â”€â”€ Run all patches â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function runAll() {
            patchContactDirectory();
            patchMilestones();
            patchRisk();
            patchShopping();
            patchShotList();
            patchContinuity();
            patchFinancials();
            patchExports();
            patchScriptImport();
            console.log('âœ“ Cinematic module patches v2 applied');
        }
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', runAll);
        } else {
            setTimeout(runAll, 120);
        }
    })();
    </script>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     DC ALACRITY V10 â€” UNIFIED ENHANCEMENT SUITE
     Fixes: import pipeline, script commit, budget popup, edit panel, library
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script>
(function V10Suite() {

/* â”€â”€â”€ helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function waitFor(fn, cb, iv=80, tries=150) {
    let n=0; const id=setInterval(()=>{ if(fn()||++n>=tries){clearInterval(id);if(fn())cb();}},iv);
}

function showV10Toast(msg, type) {
    const colors = { info:'rgba(34,211,238,0.15)', warn:'rgba(251,191,36,0.15)', error:'rgba(244,63,94,0.15)', success:'rgba(16,185,129,0.15)' };
    const borders = { info:'rgba(34,211,238,0.4)', warn:'rgba(251,191,36,0.4)', error:'rgba(244,63,94,0.4)', success:'rgba(16,185,129,0.4)' };
    const texts = { info:'#22d3ee', warn:'#fbbf24', error:'#f43f5e', success:'#10b981' };
    const t = document.createElement('div');
    t.style.cssText = 'position:fixed;top:28px;left:50%;transform:translateX(-50%);background:'+colors[type||'info']+';border:1.5px solid '+borders[type||'info']+';color:'+texts[type||'info']+';font-family:var(--font-mono,monospace);font-size:13px;font-weight:600;padding:13px 28px;border-radius:10px;z-index:99999999;pointer-events:none;transition:opacity .4s;white-space:nowrap;backdrop-filter:blur(12px);box-shadow:0 8px 32px rgba(0,0,0,0.4);letter-spacing:0.3px;';
    t.textContent = msg;
    document.body.appendChild(t);
    setTimeout(()=>{ t.style.opacity='0'; setTimeout(()=>t.remove(),500); }, 2800);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   1. IMPORT NOTIFICATION â€” thin wrapper, delegates to original after confirm
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function patchImportNotification() {
    waitFor(
        () => typeof DataManager !== 'undefined' && typeof DataManager._processImportFile === 'function',
        () => {
            const _orig = DataManager._processImportFile.bind(DataManager);
            DataManager._processImportFile = function(file) {
                // Peek at JSON first, then decide
                const reader = new FileReader();
                reader.onload = (ev) => {
                    let imported;
                    try { imported = JSON.parse(ev.target.result); } catch(e) { _orig(file); return; }

                    const existing = (typeof Core !== 'undefined') ? Core.getProductions() : [];

                    if (imported.exportType === 'production' && existing.includes(imported.productionName)) {
                        showImportUpdatePopup(imported.productionName, () => _orig(file));
                        return;
                    }
                    if (imported.exportType === 'full_backup') {
                        const incoming = imported.productionsList || Object.keys(imported.productions || {});
                        const updates  = incoming.filter(n => existing.includes(n));
                        const fresh    = incoming.filter(n => !existing.includes(n));
                        if (updates.length > 0) {
                            showImportBulkUpdatePopup(updates, fresh, () => _orig(file));
                            return;
                        }
                    }
                    // No conflicts â€” pass original file object directly to original handler
                    _orig(file);
                };
                reader.readAsText(file);
            };
        }
    );
}

function showImportUpdatePopup(prodName, onConfirm) {
    const overlay = document.createElement('div');
    overlay.style.cssText = 'position:fixed;inset:0;background:rgba(3,5,8,0.92);backdrop-filter:blur(16px);display:flex;align-items:center;justify-content:center;z-index:9999999;';
    overlay.innerHTML = `
    <div style="background:linear-gradient(145deg,#1a1a1a,#0f0f0f);border:2px solid rgba(251,191,36,0.5);border-radius:18px;width:min(540px,92vw);padding:36px;box-shadow:0 40px 80px rgba(0,0,0,0.8),0 0 40px rgba(251,191,36,0.15);">
      <div style="font-family:var(--font-mono,monospace);font-size:10px;letter-spacing:3px;color:#fbbf24;text-transform:uppercase;margin-bottom:10px;">Import Warning</div>
      <div style="font-family:var(--font-display,'Bebas Neue',sans-serif);font-size:34px;letter-spacing:2px;color:#fff;margin-bottom:8px;">PRODUCTION UPDATE</div>
      <div style="background:rgba(251,191,36,0.1);border:1px solid rgba(251,191,36,0.3);border-radius:10px;padding:16px;margin-bottom:20px;">
        <div style="font-size:16px;font-weight:700;color:#fbbf24;margin-bottom:6px;">\u26a0\ufe0f "${prodName}" already exists</div>
        <div style="font-size:13px;color:rgba(255,255,255,0.65);line-height:1.6;">Importing will <strong style="color:#fff;">update</strong> this production with new data. Your current version will be overwritten.</div>
      </div>
      <div style="display:flex;gap:12px;justify-content:flex-end;">
        <button onclick="this.closest('[style*=fixed]').remove()" style="padding:12px 24px;background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.15);border-radius:9px;color:rgba(255,255,255,0.6);font-size:13px;cursor:pointer;">Cancel</button>
        <button id="v10-imp-confirm" style="padding:12px 28px;background:linear-gradient(135deg,#fbbf24,#d97706);border:none;border-radius:9px;color:#000;font-size:13px;font-weight:800;text-transform:uppercase;letter-spacing:1px;cursor:pointer;">Update Production</button>
      </div>
    </div>`;
    document.body.appendChild(overlay);
    overlay.querySelector('#v10-imp-confirm').addEventListener('click', () => { overlay.remove(); onConfirm(); });
    overlay.addEventListener('click', e => { if (e.target === overlay) overlay.remove(); });
}

function showImportBulkUpdatePopup(updates, fresh, onConfirm) {
    const overlay = document.createElement('div');
    overlay.style.cssText = 'position:fixed;inset:0;background:rgba(3,5,8,0.92);backdrop-filter:blur(16px);display:flex;align-items:center;justify-content:center;z-index:9999999;';
    const updHtml = updates.map(n=>`<div style="color:#fbbf24;font-size:13px;padding:4px 0;font-family:var(--font-mono,monospace);">\u21bb ${n}</div>`).join('');
    const newHtml = fresh.map(n=>`<div style="color:#10b981;font-size:13px;padding:4px 0;font-family:var(--font-mono,monospace);">+ ${n}</div>`).join('');
    overlay.innerHTML = `
    <div style="background:linear-gradient(145deg,#1a1a1a,#0f0f0f);border:2px solid rgba(251,191,36,0.5);border-radius:18px;width:min(580px,92vw);padding:36px;box-shadow:0 40px 80px rgba(0,0,0,0.8),0 0 40px rgba(251,191,36,0.1);">
      <div style="font-family:var(--font-mono,monospace);font-size:10px;letter-spacing:3px;color:#fbbf24;text-transform:uppercase;margin-bottom:10px;">Import Warning</div>
      <div style="font-family:var(--font-display,'Bebas Neue',sans-serif);font-size:32px;letter-spacing:2px;color:#fff;margin-bottom:16px;">FULL BACKUP IMPORT</div>
      ${updates.length?`<div style="background:rgba(251,191,36,0.08);border:1px solid rgba(251,191,36,0.25);border-radius:10px;padding:14px;margin-bottom:12px;"><div style="font-size:11px;color:#fbbf24;font-family:var(--font-mono,monospace);letter-spacing:1px;text-transform:uppercase;margin-bottom:8px;">WILL BE UPDATED (overwritten)</div>${updHtml}</div>`:''}
      ${fresh.length?`<div style="background:rgba(16,185,129,0.06);border:1px solid rgba(16,185,129,0.2);border-radius:10px;padding:14px;margin-bottom:12px;"><div style="font-size:11px;color:#10b981;font-family:var(--font-mono,monospace);letter-spacing:1px;text-transform:uppercase;margin-bottom:8px;">WILL BE CREATED (new)</div>${newHtml}</div>`:''}
      <div style="display:flex;gap:12px;justify-content:flex-end;margin-top:8px;">
        <button onclick="this.closest('[style*=fixed]').remove()" style="padding:12px 24px;background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.15);border-radius:9px;color:rgba(255,255,255,0.6);font-size:13px;cursor:pointer;">Cancel</button>
        <button id="v10-bulk-confirm" style="padding:12px 28px;background:linear-gradient(135deg,#fbbf24,#d97706);border:none;border-radius:9px;color:#000;font-size:13px;font-weight:800;text-transform:uppercase;letter-spacing:1px;cursor:pointer;">Import Backup</button>
      </div>
    </div>`;
    document.body.appendChild(overlay);
    overlay.querySelector('#v10-bulk-confirm').addEventListener('click', () => { overlay.remove(); onConfirm(); });
    overlay.addEventListener('click', e => { if (e.target === overlay) overlay.remove(); });
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   2. BUDGET POPUP ON NEW PRODUCTION â€” calls existing showBudgetScalePopup
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function patchProductionCreate() {
    waitFor(
        function() { return typeof Productions !== 'undefined' && typeof Productions.create === 'function'; },
        function() {
            var _orig = Productions.create.bind(Productions);
            Productions.create = function() {
                _orig.call(this);
                setTimeout(function() {
                    if (typeof Core === 'undefined' || Core.currentProduction === 'GLOBAL') return;
                    if (typeof showBudgetScalePopup === 'function') showBudgetScalePopup();
                }, 900);
            };
        }
    );
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   3. SCRIPT IMPORT V10 â€” outer wrapper, runs after inner shopping-list wrap
      Saves annotated script to production + shows BSP popup (no navigation)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function patchScriptImportV10() {
    // Wait for the inner patchScriptImport to have run first (it wraps commitImport for shopping list)
    // Then we add our layer on top. We poll until commitImport is the wrapped version.
    waitFor(
        function() {
            return typeof ScriptImport !== 'undefined'
                && typeof ScriptImport.commitImport === 'function'
                && typeof Core !== 'undefined' && typeof Core.save === 'function'
                && typeof Core.data !== 'undefined';
        },
        function() {
            // V10 script import patch â€” V11 now handles commitImport replacement
            // This wrapper is kept minimal to avoid conflict with V11's async version
            var prev = ScriptImport.commitImport.bind(ScriptImport);
            ScriptImport._v10prev = prev; // preserve for chaining
        },
        120, 80
    );
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   4. UNIQUE PRODUCTION ID + RENAME AUDIT TRAIL
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function patchProductionUID() {
    waitFor(() => typeof Core !== 'undefined' && typeof Core.loadProduction === 'function', () => {
        const _orig = Core.loadProduction.bind(Core);
        Core.loadProduction = async function(name) {
            const res = await _orig(name);
            try {
                if (!Core.data._uid) {
                    Core.data._uid = 'prod_' + Math.random().toString(36).slice(2,8) + '_' + Math.random().toString(36).slice(2,7);
                    Core.save();
                }
                const vi = document.getElementById('view-indicator');
                if (vi) vi.textContent = '\uD83C\uDFAC ' + (Core.data.name || name);
            } catch(e) {}
            return res;
        };
    });
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   5. PRODUCTION LIBRARY â€” full card replacement with V10 features
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

function patchLibraryCard() {
    waitFor(() => typeof ProductionLibrary !== 'undefined', () => {
        // Enrich getProductions
        const _origGet = ProductionLibrary.getProductions.bind(ProductionLibrary);
        ProductionLibrary.getProductions = async function() {
            const prods = await _origGet();
            prods.forEach(prod => {
                const stored = localStorage.getItem('dc_alacrity_prod_' + prod.id);
                if (stored) {
                    try {
                        const d = JSON.parse(stored);
                        prod.name        = d.name        || prod.name;
                        prod.description = d.description || prod.description;
                        prod.type        = d.type        || prod.type;
                        prod.director    = d.director    || '';
                        prod.client      = d.client      || '';
                        prod.budget      = d.budget      || {};
                        prod._scriptSaved = !!(d.scriptImport && d.scriptImport.savedAt);
                        prod.rename_log  = d.rename_log  || [];
                    } catch(e) {}
                }
            });
            return prods;
        };

        // Replace card renderer
        ProductionLibrary.createProductionCard = function(prod) {
            const stats = this.getProductionStats(prod);
            const lastModified = this.formatDate(prod.lastModified || prod.created);
            const safeId   = (prod.id  || '').replace(/'/g, "\\'");
            const safeName = (prod.name || prod.id || 'Untitled').replace(/'/g, "\\'");

            // Budget scale badge
            const scaleId = prod.budget && prod.budget.scale;
            let scaleBadge = '';
            if (typeof BUDGET_SCALES !== 'undefined' && scaleId && BUDGET_SCALES[scaleId]) {
                const sc = BUDGET_SCALES[scaleId];
                scaleBadge = `<div style="display:inline-flex;align-items:center;gap:5px;padding:3px 10px;background:rgba(34,211,238,0.07);border:1px solid rgba(34,211,238,0.18);border-radius:6px;font-size:11px;color:${sc.color};font-family:var(--font-mono,monospace);margin-bottom:6px;cursor:pointer;" title="Budget Scale" onclick="V10.loadAndShowBSP('${safeId}')">${sc.icon} ${sc.label} &middot; ${sc.range}</div>`;
            } else {
                scaleBadge = `<div style="display:inline-flex;align-items:center;gap:5px;padding:3px 10px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.08);border-radius:6px;font-size:11px;color:rgba(255,255,255,0.3);font-family:var(--font-mono,monospace);margin-bottom:6px;cursor:pointer;" title="Set budget scale" onclick="V10.loadAndShowBSP('${safeId}')">&#9881; Set Budget Scale</div>`;
            }

            // Script status
            const scriptBadge = prod._scriptSaved
                ? `<div style="font-size:10px;font-family:var(--font-mono,monospace);color:#10b981;margin-bottom:4px;">\u2713 Script imported</div>`
                : `<div style="font-size:10px;font-family:var(--font-mono,monospace);color:rgba(255,255,255,0.22);margin-bottom:4px;">\u25cb No script imported</div>`;

            // Storage badges
            let storageBadge = '';
            if (prod.cloudOnly)       storageBadge = `<div class="production-card-type" style="background:rgba(139,92,246,.2);border-color:rgba(139,92,246,.4);color:#8b5cf6;">\u2601\ufe0f CLOUD ONLY</div>`;
            else if (prod.isOfflineOnly) storageBadge = `<div class="production-card-type" style="background:rgba(251,191,36,.2);border-color:rgba(251,191,36,.4);color:#fbbf24;">\uD83D\uDCBE OFFLINE ONLY</div>`;
            else if (prod.isCloudSynced) storageBadge = `<div class="production-card-type" style="background:rgba(16,185,129,.2);border-color:rgba(16,185,129,.4);color:#10b981;">\u2601\ufe0f CLOUD SYNCED</div>`;
            if (prod.cloudNewer)      storageBadge += `<div class="production-card-type" style="background:rgba(59,130,246,.2);border-color:rgba(59,130,246,.4);color:#3b82f6;margin-top:8px;">\u2b07\ufe0f NEWER IN CLOUD</div>`;

            const uploadBtn = prod.isOfflineOnly
                ? `<button class="production-card-btn" style="background:rgba(251,191,36,.2);border:1px solid rgba(251,191,36,.4);color:#fbbf24;" onclick="ProductionLibrary.uploadToCloud('${safeId}')">&#x2601;&#xfe0f; Upload</button>` : '';

            return `
            <div class="production-card">
              <div class="production-card-header">
                ${storageBadge}
                <div class="production-card-type">${prod.type || 'Production'}</div>
                <h3 class="production-card-name" title="${safeName}">${prod.name || prod.id || 'Untitled'}</h3>
                <div class="production-card-date">Last modified: ${lastModified}</div>
              </div>
              <div class="production-card-body">
                ${scaleBadge}
                ${scriptBadge}
                <div class="production-card-stats" style="margin-top:10px;">
                  <div class="production-stat"><span class="production-stat-icon">\uD83C\uDFAC</span><span><span class="production-stat-value">${stats.scenes}</span> Scenes</span></div>
                  <div class="production-stat"><span class="production-stat-icon">\uD83D\uDCF8</span><span><span class="production-stat-value">${stats.shots}</span> Shots</span></div>
                  <div class="production-stat"><span class="production-stat-icon">\uD83D\uDC65</span><span><span class="production-stat-value">${stats.cast}</span> Cast</span></div>
                  <div class="production-stat"><span class="production-stat-icon">\uD83C\uDF9A\ufe0f</span><span><span class="production-stat-value">${stats.crew}</span> Crew</span></div>
                </div>
                <div class="production-card-description">${prod.description || 'No description'}</div>
              </div>
              <div class="production-card-footer">
                <button class="production-card-btn production-card-btn-load" onclick="ProductionLibrary.loadProduction('${safeId}')">${prod.cloudOnly ? '\u2b07\ufe0f Download &amp; Load' : 'Load Production'}</button>
                ${uploadBtn}
                <button class="production-card-btn" style="background:rgba(34,211,238,.1);border:1px solid rgba(34,211,238,.3);color:var(--neon-cyan);flex:0 0 auto;padding:10px 14px;" onclick="V10.editProduction('${safeId}','${safeName}');event.stopPropagation();" title="Edit production details">&#x270e; Edit</button>
                <button class="production-card-btn production-card-btn-delete" onclick="ProductionLibrary.deleteProduction('${safeId}')">Delete</button>
              </div>
            </div>`;
        };
    });
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   6. NAVIGATE HOOK â€” refresh doc card status when Documents tab opens
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function patchNavigate() {
    waitFor(() => typeof Core !== 'undefined' && typeof Core.navigate === 'function', () => {
        const _orig = Core.navigate.bind(Core);
        Core.navigate = function(viewId) {
            _orig(viewId);
            if (viewId === 'documents') setTimeout(V10.updateDocCard, 120);
        };
    });
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   7. MUSIC AGREEMENT PDF
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function addMusicAgreementPDF() {
    waitFor(() => typeof PDFExport !== 'undefined', () => {

        // â”€â”€ INJECT MODAL HTML â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        if (!document.getElementById('ma-modal-overlay')) {
            const modalHTML = `
<div id="ma-modal-overlay" style="display:none;position:fixed;inset:0;background:rgba(3,5,8,0.94);backdrop-filter:blur(24px);z-index:9999998;align-items:center;justify-content:center;overflow-y:auto;padding:24px;">
  <div id="ma-modal" style="background:linear-gradient(160deg,#0c1016 0%,#080c10 60%,#060a0e 100%);border:1px solid rgba(34,211,238,0.18);border-radius:24px;width:min(680px,98vw);max-width:680px;margin:auto;box-shadow:0 40px 100px rgba(0,0,0,0.9),0 0 80px rgba(34,211,238,0.06);overflow:hidden;">
    <!-- Header -->
    <div style="background:linear-gradient(135deg,rgba(34,211,238,0.08) 0%,transparent 60%);border-bottom:1px solid rgba(34,211,238,0.12);padding:28px 32px 24px;">
      <div style="display:flex;align-items:flex-start;justify-content:space-between;gap:16px;">
        <div>
          <div style="font-family:var(--font-mono,'JetBrains Mono',monospace);font-size:10px;letter-spacing:3px;color:#22d3ee;text-transform:uppercase;margin-bottom:8px;opacity:0.8;">Production Documents</div>
          <div style="font-family:var(--font-display,'Bebas Neue',sans-serif);font-size:28px;letter-spacing:2px;color:#fff;line-height:1;">MUSIC LICENSE AGREEMENT</div>
          <div style="font-size:13px;color:rgba(255,255,255,0.4);margin-top:6px;">Customise &amp; generate your music sync contract</div>
        </div>
        <button onclick="document.getElementById('ma-modal-overlay').style.display='none'" style="width:36px;height:36px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:9px;color:rgba(255,255,255,0.5);font-size:18px;cursor:pointer;flex-shrink:0;display:flex;align-items:center;justify-content:center;">&times;</button>
      </div>
      <!-- Free / Paid Toggle -->
      <div style="display:flex;gap:0;margin-top:20px;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.08);border-radius:12px;padding:4px;">
        <button id="ma-toggle-paid" onclick="window._maSetMode('paid')" style="flex:1;padding:10px 0;background:linear-gradient(135deg,#22d3ee,#0ea5e9);border:none;border-radius:9px;color:#000;font-size:13px;font-weight:800;letter-spacing:0.5px;cursor:pointer;transition:all 0.2s;">ğŸ’° PAID LICENSE</button>
        <button id="ma-toggle-free" onclick="window._maSetMode('free')" style="flex:1;padding:10px 0;background:transparent;border:none;border-radius:9px;color:rgba(255,255,255,0.4);font-size:13px;font-weight:600;letter-spacing:0.3px;cursor:pointer;transition:all 0.2s;">ğŸ¤ CREATIVE COLLABORATION</button>
      </div>
    </div>

    <!-- Body -->
    <div style="padding:28px 32px;max-height:68vh;overflow-y:auto;">
      <!-- Section: Parties -->
      <div style="margin-bottom:24px;">
        <div style="font-family:var(--font-mono,'JetBrains Mono',monospace);font-size:9px;letter-spacing:2.5px;color:#22d3ee;text-transform:uppercase;margin-bottom:14px;display:flex;align-items:center;gap:8px;"><span style="display:inline-block;width:18px;height:1px;background:#22d3ee;opacity:0.5;"></span>PARTIES<span style="display:inline-block;flex:1;height:1px;background:rgba(34,211,238,0.15);"></span></div>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
          <div>
            <div style="font-size:10px;color:rgba(255,255,255,0.35);text-transform:uppercase;letter-spacing:1px;margin-bottom:6px;">ğŸ¬ Licensee (Your Production)</div>
            ${maField('ma-prod-company','Production Company','')}
            ${maField('ma-prod-title','Film / Project Title','')}
            ${maField('ma-prod-rep','Representative Name','')}
            ${maField('ma-prod-email','Email','')}
          </div>
          <div>
            <div style="font-size:10px;color:rgba(255,255,255,0.35);text-transform:uppercase;letter-spacing:1px;margin-bottom:6px;">ğŸµ Licensor (Rights Holder)</div>
            ${maField('ma-lic-publisher','Publisher / Company','')}
            ${maField('ma-lic-artist','Artist / Composer','')}
            ${maField('ma-lic-email','Email','')}
            ${maField('ma-lic-pro','PRO Affiliation (ASCAP/BMI/etc)','')}
          </div>
        </div>
      </div>

      <!-- Section: Track -->
      <div style="margin-bottom:24px;">
        <div style="font-family:var(--font-mono,'JetBrains Mono',monospace);font-size:9px;letter-spacing:2.5px;color:#22d3ee;text-transform:uppercase;margin-bottom:14px;display:flex;align-items:center;gap:8px;"><span style="display:inline-block;width:18px;height:1px;background:#22d3ee;opacity:0.5;"></span>TRACK DETAILS<span style="display:inline-block;flex:1;height:1px;background:rgba(34,211,238,0.15);"></span></div>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
          ${maField('ma-track-title','Song / Track Title','')}
          ${maField('ma-track-artist','Performing Artist','')}
          ${maField('ma-track-album','Album / EP (optional)','')}
          ${maField('ma-track-isrc','ISRC / ISWC (optional)','')}
          ${maField('ma-track-duration','Duration Used','e.g. 0:30 / Full track')}
          ${maField('ma-track-timestamp','Timestamp in Film','e.g. 00:12:34')}
          ${maSelect('ma-track-use','Use Type',['Background Score','Featured (On-Screen)','End Credits','Opening Credits','Theme / Leitmotif','Montage','Promotional Trailer'])}
          ${maField('ma-track-scene','Scene / Context Description','')}
        </div>
      </div>

      <!-- Section: License Terms (hidden/simplified for free mode) -->
      <div id="ma-paid-section" style="margin-bottom:24px;">
        <div style="font-family:var(--font-mono,'JetBrains Mono',monospace);font-size:9px;letter-spacing:2.5px;color:#22d3ee;text-transform:uppercase;margin-bottom:14px;display:flex;align-items:center;gap:8px;"><span style="display:inline-block;width:18px;height:1px;background:#22d3ee;opacity:0.5;"></span>LICENSE TERMS<span style="display:inline-block;flex:1;height:1px;background:rgba(34,211,238,0.15);"></span></div>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
          ${maField('ma-fee','License Fee (USD)','e.g. $500')}
          ${maField('ma-payment-date','Payment Due Date','')}
          ${maSelect('ma-territory','Territory',['Worldwide','North America Only','United States Only','Europe Only','Custom (specify in notes)'])}
          ${maSelect('ma-term','License Term',['In Perpetuity','5 Years','3 Years','1 Year','Festival Run Only','Custom'])}
          ${maSelect('ma-media','Media Rights',['All Media (Now Known or Hereafter Devised)','Theatrical Only','Streaming / VOD Only','Broadcast + Streaming','Digital Only','Film Festival Only'])}
          ${maSelect('ma-festival','Festival Rights',['Included','Excluded','Separate fee applies'])}
        </div>
      </div>

      <!-- Free mode extra section -->
      <div id="ma-free-section" style="display:none;margin-bottom:24px;">
        <div style="background:rgba(16,185,129,0.07);border:1px solid rgba(16,185,129,0.2);border-radius:12px;padding:16px 18px;">
          <div style="font-size:12px;font-weight:700;color:#10b981;margin-bottom:6px;">ğŸ¤ Creative Collaboration Agreement</div>
          <div style="font-size:12px;color:rgba(255,255,255,0.5);line-height:1.6;">This agreement honors the artist's generosity in supporting independent and creative work. The licensor retains full ownership and copyright of their music, and will receive prominent credit on the project. Performance royalties continue to flow through their PRO as normal.</div>
        </div>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:14px;">
          ${maSelect('ma-free-territory','Territory',['Worldwide','North America Only','United States Only','Festival Run Only','Custom'])}
          ${maSelect('ma-free-term','Term',['In Perpetuity','Festival Run Only','One-Time Use','Non-Commercial Use Only'])}
          ${maSelect('ma-free-media','Media Rights',['All Media','Non-Commercial / Student / Festival Only','Digital Only','Theatrical + Streaming'])}
          ${maField('ma-free-conditions','Any Special Conditions or Requests from the Artist','e.g. credit requirements, festival-only use, approval of final edit')}
        </div>
      </div>

      <!-- Section: Credits & Notes -->
      <div style="margin-bottom:24px;">
        <div style="font-family:var(--font-mono,'JetBrains Mono',monospace);font-size:9px;letter-spacing:2.5px;color:#22d3ee;text-transform:uppercase;margin-bottom:14px;display:flex;align-items:center;gap:8px;"><span style="display:inline-block;width:18px;height:1px;background:#22d3ee;opacity:0.5;"></span>CREDITS &amp; NOTES<span style="display:inline-block;flex:1;height:1px;background:rgba(34,211,238,0.15);"></span></div>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
          ${maField('ma-credit-text','Credit Line for End Credits','e.g. "Song" by Artist Â· Published by Publisher')}
          ${maField('ma-governing-law','Governing Law','e.g. State of California, USA')}
          ${maTextarea('ma-notes','Additional Notes / Special Terms','')}
        </div>
      </div>

    </div>

    <!-- Footer CTA -->
    <div style="border-top:1px solid rgba(34,211,238,0.1);padding:20px 32px;display:flex;align-items:center;justify-content:space-between;gap:14px;background:rgba(0,0,0,0.3);">
      <div style="font-size:11px;color:rgba(255,255,255,0.25);line-height:1.5;">Template only &mdash; consult an entertainment attorney<br>before executing legally binding agreements.</div>
      <div style="display:flex;gap:10px;">
        <button onclick="document.getElementById('ma-modal-overlay').style.display='none'" style="padding:12px 22px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:10px;color:rgba(255,255,255,0.5);font-size:13px;cursor:pointer;font-weight:600;">Cancel</button>
        <button onclick="window._maGenerate()" style="padding:12px 28px;background:linear-gradient(135deg,#22d3ee,#0ea5e9);border:none;border-radius:10px;color:#000;font-size:13px;font-weight:900;cursor:pointer;letter-spacing:0.5px;text-transform:uppercase;">âš¡ Generate PDF</button>
      </div>
    </div>
  </div>
</div>`;
            document.body.insertAdjacentHTML('beforeend', modalHTML);
        }

        // â”€â”€ HELPER FUNCTIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function maField(id, label, placeholder) {
            return `<div><div style="font-size:10px;color:rgba(255,255,255,0.35);text-transform:uppercase;letter-spacing:0.8px;margin-bottom:5px;font-weight:600;">${label}</div><input id="${id}" type="text" placeholder="${placeholder}" style="width:100%;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.1);border-radius:8px;padding:9px 12px;color:#fff;font-size:12px;outline:none;font-family:inherit;" onfocus="this.style.borderColor='rgba(34,211,238,0.5)'" onblur="this.style.borderColor='rgba(255,255,255,0.1)'"></div>`;
        }
        function maSelect(id, label, opts) {
            const options = opts.map(o => `<option value="${o}">${o}</option>`).join('');
            return `<div><div style="font-size:10px;color:rgba(255,255,255,0.35);text-transform:uppercase;letter-spacing:0.8px;margin-bottom:5px;font-weight:600;">${label}</div><select id="${id}" style="width:100%;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.1);border-radius:8px;padding:9px 12px;color:#fff;font-size:12px;outline:none;font-family:inherit;" onfocus="this.style.borderColor='rgba(34,211,238,0.5)'" onblur="this.style.borderColor='rgba(255,255,255,0.1)'">${options}</select></div>`;
        }
        function maTextarea(id, label, placeholder) {
            return `<div style="grid-column:span 2"><div style="font-size:10px;color:rgba(255,255,255,0.35);text-transform:uppercase;letter-spacing:0.8px;margin-bottom:5px;font-weight:600;">${label}</div><textarea id="${id}" placeholder="${placeholder}" rows="3" style="width:100%;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.1);border-radius:8px;padding:9px 12px;color:rgba(255,255,255,0.8);font-size:12px;outline:none;font-family:inherit;resize:vertical;" onfocus="this.style.borderColor='rgba(34,211,238,0.5)'" onblur="this.style.borderColor='rgba(255,255,255,0.1)'"></textarea></div>`;
        }

        // â”€â”€ MODE TOGGLE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        window._maMode = 'paid';
        window._maSetMode = function(mode) {
            window._maMode = mode;
            const paidBtn  = document.getElementById('ma-toggle-paid');
            const freeBtn  = document.getElementById('ma-toggle-free');
            const paidSec  = document.getElementById('ma-paid-section');
            const freeSec  = document.getElementById('ma-free-section');
            if (mode === 'paid') {
                paidBtn.style.background = 'linear-gradient(135deg,#22d3ee,#0ea5e9)';
                paidBtn.style.color      = '#000';
                freeBtn.style.background = 'transparent';
                freeBtn.style.color      = 'rgba(255,255,255,0.4)';
                if (paidSec) paidSec.style.display = '';
                if (freeSec) freeSec.style.display = 'none';
            } else {
                freeBtn.style.background = 'linear-gradient(135deg,#10b981,#059669)';
                freeBtn.style.color      = '#000';
                paidBtn.style.background = 'transparent';
                paidBtn.style.color      = 'rgba(255,255,255,0.4)';
                if (paidSec) paidSec.style.display = 'none';
                if (freeSec) freeSec.style.display = '';
            }
        };

        // â”€â”€ GENERATE PDF â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        window._maGenerate = function() {
            const g = id => { const el = document.getElementById(id); return el ? (el.value||'').trim() : ''; };
            const isFree = window._maMode === 'free';
            const prod = (typeof Core !== 'undefined' && Core.currentProduction !== 'GLOBAL') ? Core.currentProduction : (g('ma-prod-title') || 'Production');
            const date = new Date().toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric'});
            const agreementNum = 'MA-' + String(Date.now()).slice(-7);

            const styles = (typeof PDFExport !== 'undefined') ? PDFExport.getStyles() : '';

            // â”€â”€ Build party data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            const licensee = {
                company:    g('ma-prod-company') || prod,
                title:      g('ma-prod-title')   || prod,
                rep:        g('ma-prod-rep'),
                email:      g('ma-prod-email')
            };
            const licensor = {
                publisher:  g('ma-lic-publisher'),
                artist:     g('ma-lic-artist'),
                email:      g('ma-lic-email'),
                pro:        g('ma-lic-pro')
            };
            const track = {
                title:     g('ma-track-title'),
                artist:    g('ma-track-artist'),
                album:     g('ma-track-album'),
                isrc:      g('ma-track-isrc'),
                duration:  g('ma-track-duration'),
                timestamp: g('ma-track-timestamp'),
                use:       g('ma-track-use') || 'Background Score',
                scene:     g('ma-track-scene')
            };
            const terms = isFree ? {
                fee:       'Waived â€” Creative Collaboration',
                territory: g('ma-free-territory') || 'Worldwide',
                term:      g('ma-free-term') || 'In Perpetuity',
                media:     g('ma-free-media') || 'All Media',
                festival:  'Included',
                conditions: g('ma-free-conditions')
            } : {
                fee:       g('ma-fee') || 'To be agreed',
                payDate:   g('ma-payment-date'),
                territory: g('ma-territory') || 'Worldwide',
                term:      g('ma-term') || 'In Perpetuity',
                media:     g('ma-media') || 'All Media',
                festival:  g('ma-festival') || 'Included'
            };
            const creditText = g('ma-credit-text') || `"${track.title || '[Song Title]'}" Written by ${licensor.artist || '[Composer]'} Â· Published by ${licensor.publisher || '[Publisher]'} Â· Used with permission`;
            const govLaw    = g('ma-governing-law') || '_______________';
            const notes     = g('ma-notes');

            function row(label, value) {
                if (!value) return '';
                return `<tr><td style="padding:9px 14px;font-size:8.5pt;font-weight:700;color:#64748b;text-transform:uppercase;letter-spacing:0.7px;width:38%;white-space:nowrap;">${label}</td><td style="padding:9px 14px;font-size:9.5pt;color:#0f172a;font-weight:600;border-left:2px solid #f1f5f9;">${value || '<span style="color:#94a3b8;">â€”</span>'}</td></tr>`;
            }
            function section(title, accentColor, content) {
                return `<div style="margin-bottom:22px;break-inside:avoid;">
                    <div style="background:linear-gradient(135deg,${accentColor}15 0%,${accentColor}05 100%);border:1px solid ${accentColor}30;border-left:4px solid ${accentColor};border-radius:0 8px 8px 0;padding:10px 16px;margin-bottom:10px;display:flex;align-items:center;gap:10px;">
                        <div style="font-size:10pt;font-weight:800;color:#0f172a;text-transform:uppercase;letter-spacing:1px;">${title}</div>
                    </div>
                    ${content}
                </div>`;
            }
            function clauseBlock(clauses) {
                return '<div style="font-size:9pt;color:#374151;line-height:1.75;">' + clauses.map((c,i) => `<div style="padding:8px 0 8px 14px;border-left:2px solid #e2e8f0;margin-bottom:6px;">${c}</div>`).join('') + '</div>';
            }
            function infoTable(rows) {
                return `<table style="width:100%;border-collapse:collapse;background:#f8fafc;border-radius:8px;overflow:hidden;border:1px solid #e2e8f0;">${rows}</table>`;
            }
            function partyBox(title, icon, rows, accent) {
                return `<div style="background:#f8fafc;border:1px solid #e2e8f0;border-top:3px solid ${accent};border-radius:8px;padding:16px 18px;">
                    <div style="font-size:8.5pt;font-weight:800;color:${accent};text-transform:uppercase;letter-spacing:1.2px;margin-bottom:12px;">${icon} ${title}</div>
                    <table style="width:100%;border-collapse:collapse;">
                        ${rows.map(([l,v]) => `<tr><td style="font-size:7.5pt;color:#94a3b8;text-transform:uppercase;letter-spacing:0.5px;padding:4px 0;width:40%;font-weight:600;">${l}</td><td style="font-size:9.5pt;color:#0f172a;font-weight:600;padding:4px 0;border-bottom:1px solid #f1f5f9;">${v || '<span style="color:#cbd5e1;">â€”</span>'}</td></tr>`).join('')}
                    </table>
                </div>`;
            }

            const freeBanner = isFree ? `<div style="background:linear-gradient(135deg,#ecfdf5,#d1fae5);border:2px solid #10b981;border-radius:10px;padding:14px 18px;margin-bottom:20px;display:flex;align-items:center;gap:12px;">
                <div style="font-size:22px;">ğŸ¤</div>
                <div><div style="font-size:10pt;font-weight:800;color:#065f46;text-transform:uppercase;letter-spacing:0.5px;">Creative Collaboration License</div>
                <div style="font-size:8.5pt;color:#047857;margin-top:2px;">The Licensor retains full ownership and copyright of the Music. This agreement acknowledges the artist\u2019s generous support of this production and ensures they receive full credit and any applicable performance royalties.</div></div>
            </div>` : '';

            const paidPayment = !isFree ? row('Payment Due', terms.payDate) : '';

            const grantClauses = isFree ? [
                `The Licensor graciously grants to Licensee a <strong>non-exclusive, limited synchronization license</strong> to use the Music in timed synchronization with the Film in the media and territory specified above. The Licensor retains full copyright ownership of the Music at all times.`,
                `${terms.conditions ? `This license is subject to the following conditions, as agreed between the parties: <strong>${terms.conditions}</strong>.` : "This license reflects the mutual understanding and goodwill between both parties, with the Licensor\u2019s generosity expressly acknowledged."}`,
                `Licensee may make minor editorial adjustments (such as fade-ins, fade-outs, or timing edits) to fit the Film\u2019s requirements. No other modifications to the Music shall be made without the Licensor\u2019s prior written consent. Full authorship credits shall be preserved in all formats and distributions.`,
                `Performance royalties remain the sole property of the Licensor and shall continue to be collected through their Performing Rights Organisation (${licensor.pro || 'ASCAP, BMI, or SESAC'}) via normal broadcast and streaming reporting channels.`
            ] : [
                `The Licensor hereby grants to Licensee a <strong>non-exclusive, worldwide, irrevocable synchronization and master use license</strong> to use the Music in timed synchronization with the Film in all media now known or hereafter devised, including but not limited to theatrical exhibition, streaming platforms, broadcast, and digital distribution.`,
                `Licensee may <strong>edit, dub, or alter</strong> the Music to fit the Film's editorial requirements, provided that authorship credits are preserved in all formats.`,
                `This license does not include the right to sublicense, sell, or otherwise transfer the Music as a standalone work separate from the Film.`
            ];

            // â”€â”€â”€ Compact 1-page HTML output â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            const html = `<!DOCTYPE html><html><head><meta charset="UTF-8">
            <style>
              @page { size: letter; margin: 0.55in 0.6in 0.5in; }
              * { box-sizing: border-box; margin: 0; padding: 0; }
              body { font-family: 'Georgia', 'Times New Roman', serif; font-size: 8pt; color: #1a1a2e; line-height: 1.4; background: #fff; }
              .page { max-width: 100%; }
              /* Header bar */
              .ma-header { background: #0f172a; color: #fff; padding: 14px 18px; display: flex; align-items: center; justify-content: space-between; border-radius: 4px 4px 0 0; margin-bottom: 0; }
              .ma-header-left { }
              .ma-header-eyebrow { font-family: Arial, sans-serif; font-size: 6.5pt; letter-spacing: 2.5px; color: #94a3b8; text-transform: uppercase; margin-bottom: 3px; }
              .ma-header-title { font-family: Arial, sans-serif; font-size: 13pt; font-weight: 900; color: #fff; letter-spacing: 0.5px; line-height: 1; }
              .ma-header-right { text-align: right; }
              .ma-header-project { font-family: Arial, sans-serif; font-size: 9pt; font-weight: 700; color: #fff; }
              .ma-header-meta { font-family: Arial, sans-serif; font-size: 6.5pt; color: #64748b; margin-top: 3px; }
              .ma-badge { display: inline-block; background: ${isFree ? '#065f46' : '#0c4a6e'}; color: ${isFree ? '#6ee7b7' : '#7dd3fc'}; font-family: Arial, sans-serif; font-size: 6pt; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; padding: 2px 7px; border-radius: 3px; margin-top: 5px; }
              /* Thin accent rule under header */
              .ma-rule { height: 3px; background: linear-gradient(90deg, #22d3ee 0%, #6366f1 100%); margin-bottom: 10px; }
              /* Section headers */
              .sec-label { font-family: Arial, sans-serif; font-size: 6.5pt; font-weight: 800; text-transform: uppercase; letter-spacing: 1.5px; color: #475569; border-bottom: 1.5px solid #e2e8f0; padding-bottom: 3px; margin-bottom: 6px; margin-top: 9px; }
              /* Two-col layout */
              .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
              .three-col { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; }
              /* Party block */
              .party-block { border: 1px solid #e2e8f0; border-top: 2.5px solid #334155; border-radius: 3px; padding: 8px 10px; }
              .party-role { font-family: Arial, sans-serif; font-size: 6pt; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; color: #64748b; margin-bottom: 5px; }
              .party-name { font-size: 8.5pt; font-weight: 700; color: #0f172a; margin-bottom: 1px; }
              .party-detail { font-size: 7pt; color: #475569; line-height: 1.5; }
              .party-detail span { color: #94a3b8; font-size: 6.5pt; }
              /* Data row */
              .data-row { display: flex; justify-content: space-between; padding: 3px 0; border-bottom: 1px solid #f1f5f9; gap: 6px; }
              .data-row:last-child { border-bottom: none; }
              .dr-label { font-family: Arial, sans-serif; font-size: 6.5pt; color: #94a3b8; text-transform: uppercase; letter-spacing: 0.5px; white-space: nowrap; flex-shrink: 0; min-width: 95px; padding-top: 1px; }
              .dr-value { font-size: 7.5pt; color: #1e293b; font-weight: 600; text-align: right; }
              /* Legal text */
              .legal-box { background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 3px; padding: 8px 10px; font-size: 7pt; color: #374151; line-height: 1.55; }
              .legal-box p { margin-bottom: 4px; }
              .legal-box p:last-child { margin-bottom: 0; }
              /* Credit line */
              .credit-box { background: #fffbeb; border: 1px solid #fde68a; border-radius: 3px; padding: 6px 10px; font-size: 7pt; color: #78350f; font-style: italic; }
              /* Signature blocks */
              .sig-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 12px; }
              .sig-block { border-top: 1.5px solid #0f172a; padding-top: 5px; }
              .sig-role { font-family: Arial, sans-serif; font-size: 6.5pt; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; color: #0f172a; margin-bottom: 2px; }
              .sig-name { font-size: 7pt; color: #475569; margin-bottom: 24px; }
              .sig-line { border-top: 1px solid #94a3b8; margin-bottom: 3px; }
              .sig-line-label { font-family: Arial, sans-serif; font-size: 5.5pt; color: #94a3b8; text-transform: uppercase; letter-spacing: 0.5px; }
              .sig-line + .sig-line-label { margin-top: 0; }
              .sig-name-line { border-top: 1px solid #e2e8f0; margin-top: 14px; margin-bottom: 3px; }
              /* Footer */
              .ma-footer { margin-top: 10px; border-top: 1px solid #e2e8f0; padding-top: 5px; font-family: Arial, sans-serif; font-size: 6pt; color: #94a3b8; text-align: center; letter-spacing: 0.5px; }
              /* Free banner */
              .free-banner { background: #ecfdf5; border: 1px solid #a7f3d0; border-radius: 3px; padding: 5px 10px; font-family: Arial, sans-serif; font-size: 7pt; color: #065f46; font-weight: 700; text-align: center; margin-bottom: 8px; }
            </style></head><body>
            <div class="page">

              <!-- HEADER -->
              <div class="ma-header">
                <div class="ma-header-left">
                  <div class="ma-header-eyebrow">DC Alacrity Â· Film &amp; Media Music Rights</div>
                  <div class="ma-header-title">${isFree ? 'MUSIC LICENSE AGREEMENT â€” CREATIVE COLLABORATION' : 'MUSIC SYNCHRONIZATION LICENSE AGREEMENT'}</div>
                  <div class="ma-badge">${isFree ? 'CREATIVE COLLABORATION' : 'PAID LICENSE'}</div>
                </div>
                <div class="ma-header-right">
                  <div class="ma-header-project">${licensee.title || prod || 'Untitled Production'}</div>
                  <div class="ma-header-meta">Agreement #${agreementNum} &nbsp;Â·&nbsp; ${date}</div>
                </div>
              </div>
              <div class="ma-rule"></div>

              ${isFree ? '<div class="free-banner">&#129309; Creative Collaboration License &#8212; The artist\u2019s generosity in supporting this project is gratefully acknowledged. Full copyright and ownership are retained by the Licensor.</div>' : ''}

              <!-- PARTIES -->
              <div class="sec-label">Parties to this Agreement</div>
              <div class="two-col">
                <div class="party-block">
                  <div class="party-role">ğŸ¬ Licensee (Production)</div>
                  <div class="party-name">${licensee.company || 'â€”'}</div>
                  <div class="party-detail"><span>Film / Project:</span> ${licensee.title || 'â€”'}</div>
                  <div class="party-detail"><span>Representative:</span> ${licensee.rep || 'â€”'}</div>
                  <div class="party-detail"><span>Email:</span> ${licensee.email || 'â€”'}</div>
                </div>
                <div class="party-block">
                  <div class="party-role">ğŸµ Licensor (Rights Holder)</div>
                  <div class="party-name">${licensor.publisher || licensor.artist || 'â€”'}</div>
                  <div class="party-detail"><span>Artist / Composer:</span> ${licensor.artist || 'â€”'}</div>
                  <div class="party-detail"><span>Email:</span> ${licensor.email || 'â€”'}</div>
                  <div class="party-detail"><span>PRO:</span> ${licensor.pro || 'â€”'}</div>
                </div>
              </div>

              <!-- TRACK + TERMS side by side -->
              <div class="two-col" style="margin-top:0;">
                <div>
                  <div class="sec-label">Music Track</div>
                  <div class="data-row"><span class="dr-label">Song Title</span><span class="dr-value">${track.title || 'â€”'}</span></div>
                  <div class="data-row"><span class="dr-label">Artist</span><span class="dr-value">${track.artist || 'â€”'}</span></div>
                  ${track.album ? `<div class="data-row"><span class="dr-label">Album / EP</span><span class="dr-value">${track.album}</span></div>` : ''}
                  ${track.isrc ? `<div class="data-row"><span class="dr-label">ISRC / ISWC</span><span class="dr-value">${track.isrc}</span></div>` : ''}
                  <div class="data-row"><span class="dr-label">Duration Used</span><span class="dr-value">${track.duration || 'â€”'}</span></div>
                  <div class="data-row"><span class="dr-label">Timestamp</span><span class="dr-value">${track.timestamp || 'â€”'}</span></div>
                  <div class="data-row"><span class="dr-label">Use Type</span><span class="dr-value">${track.use || 'â€”'}</span></div>
                  ${track.scene ? `<div class="data-row"><span class="dr-label">Scene Context</span><span class="dr-value">${track.scene}</span></div>` : ''}
                </div>
                <div>
                  <div class="sec-label">License Terms</div>
                  <div class="data-row"><span class="dr-label">License Fee</span><span class="dr-value">${terms.fee}</span></div>
                  ${!isFree && terms.payDate ? `<div class="data-row"><span class="dr-label">Payment Due</span><span class="dr-value">${terms.payDate}</span></div>` : ''}
                  <div class="data-row"><span class="dr-label">Territory</span><span class="dr-value">${terms.territory}</span></div>
                  <div class="data-row"><span class="dr-label">Term</span><span class="dr-value">${terms.term}</span></div>
                  <div class="data-row"><span class="dr-label">Media Rights</span><span class="dr-value">${terms.media}</span></div>
                  <div class="data-row"><span class="dr-label">Festival Rights</span><span class="dr-value">${terms.festival || 'Included'}</span></div>
                  ${isFree && terms.conditions ? `<div class="data-row"><span class="dr-label">Conditions</span><span class="dr-value">${terms.conditions}</span></div>` : ''}
                  <div class="data-row"><span class="dr-label">Governing Law</span><span class="dr-value">${govLaw}</span></div>
                </div>
              </div>

              <!-- LEGAL TERMS (condensed) -->
              <div class="sec-label" style="margin-top:9px;">Terms &amp; Conditions</div>
              <div class="legal-box">
                <p><strong>Grant of Rights:</strong> ${isFree
                  ? `The Licensor graciously grants to Licensee a non-exclusive synchronization license to use the Music in timed synchronization with the Film in the media and territory specified above. The Licensor retains full copyright ownership of the Music at all times. ${terms.conditions ? 'Special conditions: ' + terms.conditions + '.' : ''} Minor editorial adjustments (e.g. fades, timing edits) are permitted; all other modifications require prior written consent. Full authorship credits shall be preserved in all distributions.`
                  : `Licensor grants Licensee a non-exclusive, worldwide, irrevocable synchronization and master use license to use the Music in timed synchronization with the Film in all media now known or hereafter devised. Licensee may edit, dub, or alter the Music to fit editorial requirements. This license does not include the right to sublicense, sell, or transfer the Music as a standalone work.`}
                </p>
                <p><strong>Warranties:</strong> Licensor warrants sole ownership or full authority to grant these rights and that the Music does not infringe any third-party intellectual property. Licensee warrants use shall be limited to the Film as described herein and that appropriate credit shall appear in end credits.</p>
                <p><strong>Credits &amp; Royalties:</strong> Screen credit shall read: <em>${creditText}</em>. ${isFree ? "The Licensor\u2019s creative contribution is gratefully acknowledged. Performance royalties (if any) remain the sole property of the Licensor and are collected independently through their PRO (" + (licensor.pro || 'ASCAP/BMI/SESAC') + ") via standard broadcast and streaming channels." : "Licensor shall collect all performance royalties through their PRO (" + (licensor.pro || 'ASCAP/BMI/SESAC') + "). No additional royalties or back-end participation are owed beyond the fee stated above."}</p>
                <p><strong>General:</strong> Each party shall indemnify and hold harmless the other from claims arising from any breach of these warranties.${notes ? ' <strong>Additional Terms:</strong> ' + notes + '.' : ''} This Agreement is the entire agreement between the parties and may only be modified in writing signed by both parties. Governed by the laws of ${govLaw}.</p>
              </div>

              <!-- CREDIT LINE -->
              <div class="sec-label" style="margin-top:8px;">Required Credit Line</div>
              <div class="credit-box">${creditText}</div>

              <!-- SIGNATURES -->
              <div class="sec-label" style="margin-top:10px;">Signatures</div>
              <div class="sig-grid">
                <div>
                  <div class="sig-block">
                    <div class="sig-role">Licensee</div>
                    <div class="sig-name">${licensee.company || 'Production Company'} &nbsp;Â·&nbsp; ${licensee.rep || 'Authorized Representative'}</div>
                    <div class="sig-line"></div>
                    <div class="sig-line-label">Signature &amp; Date</div>
                    <div class="sig-name-line"></div>
                    <div class="sig-line-label">Print Name &amp; Title</div>
                  </div>
                </div>
                <div>
                  <div class="sig-block">
                    <div class="sig-role">Licensor</div>
                    <div class="sig-name">${licensor.publisher || licensor.artist || 'Rights Holder'} &nbsp;Â·&nbsp; ${licensor.artist || 'Authorized Representative'}</div>
                    <div class="sig-line"></div>
                    <div class="sig-line-label">Signature &amp; Date</div>
                    <div class="sig-name-line"></div>
                    <div class="sig-line-label">Print Name &amp; Title</div>
                  </div>
                </div>
              </div>

              <div class="ma-footer">
                DC ALACRITY &nbsp;Â·&nbsp; Music ${isFree ? 'Creative Collaboration' : 'Sync'} License &nbsp;Â·&nbsp; ${prod} &nbsp;Â·&nbsp; ${agreementNum} &nbsp;Â·&nbsp; ${date} &nbsp;Â·&nbsp; Template only â€” consult entertainment counsel before executing.
              </div>
            </div></body></html>`;

            PDFExport.openPrintWindow(html, `Music License Agreement â€” ${prod}`);
            document.getElementById('ma-modal-overlay').style.display = 'none';
        };

        // â”€â”€ MOUNT PDFExport.musicAgreement â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        PDFExport.musicAgreement = function() {
            const prod = (typeof Core !== 'undefined' && Core.currentProduction !== 'GLOBAL') ? Core.currentProduction : '';
            // Pre-fill production title
            const titleEl = document.getElementById('ma-prod-title');
            if (titleEl && prod && !titleEl.value) titleEl.value = prod;
            const modal = document.getElementById('ma-modal-overlay');
            if (modal) {
                modal.style.display = 'flex';
                window._maSetMode('paid');
            }
        };
    });
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   V10 PUBLIC API
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
window.V10 = {

    /* Show budget scale popup WITHOUT navigating to financials */
    showBSPNoNav(onSelect) {
        if (typeof BUDGET_SCALES === 'undefined') return;
        const ex = document.getElementById('bsp-overlay');
        if (ex) ex.remove();
        const ov = document.createElement('div');
        ov.id = 'bsp-overlay';
        ov.style.cssText = 'position:fixed;inset:0;background:rgba(3,5,8,0.93);backdrop-filter:blur(20px);display:flex;align-items:center;justify-content:center;z-index:9999999;opacity:0;transition:opacity 0.3s ease;';
        const cards = Object.values(BUDGET_SCALES).map(s =>
            `<div class="bsp-card" data-scale="${s.id}" style="--bc:${s.color};" onclick="BSP.select('${s.id}')">
                <div class="bsp-line-ct">${s.lines ? s.lines.length : ''} LINES</div>
                <div class="bsp-icon">${s.icon}</div>
                <div class="bsp-label">${s.label}</div>
                <div class="bsp-range" style="color:${s.color};">${s.range}</div>
                <div class="bsp-desc">${s.description}</div>
            </div>`
        ).join('');
        ov.innerHTML = `<style>
            #bsp-modal{background:linear-gradient(145deg,#0c1118 0%,#080c12 100%);border:1px solid rgba(34,211,238,0.2);border-radius:22px;width:min(960px,96vw);max-height:92vh;overflow-y:auto;box-shadow:0 50px 100px rgba(0,0,0,0.85),0 0 80px rgba(34,211,238,0.06);animation:bspIn 0.4s cubic-bezier(0.34,1.4,0.64,1) both;}
            @keyframes bspIn{from{transform:translateY(50px) scale(0.95);opacity:0}to{transform:none;opacity:1}}
            .bsp-head{padding:34px 38px 22px;border-bottom:1px solid rgba(34,211,238,0.1);}
            .bsp-eyebrow{font-family:var(--font-mono,monospace);font-size:10px;letter-spacing:3px;color:#22d3ee;text-transform:uppercase;opacity:.65;margin-bottom:10px;}
            .bsp-title{font-family:var(--font-display,sans-serif);font-size:40px;letter-spacing:3px;color:#fff;margin:0 0 6px;line-height:1;}
            .bsp-subtitle{color:rgba(255,255,255,0.45);font-size:14px;line-height:1.5;}
            .bsp-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;padding:26px 38px;}
            .bsp-card{background:rgba(255,255,255,0.03);border:1.5px solid rgba(255,255,255,0.07);border-radius:14px;padding:22px;cursor:pointer;transition:all 0.22s cubic-bezier(0.4,0,0.2,1);position:relative;overflow:hidden;user-select:none;}
            .bsp-card::after{content:'';position:absolute;inset:0;border-radius:13px;background:radial-gradient(circle at 30% 30%,var(--bc,#22d3ee),transparent 70%);opacity:0;transition:opacity 0.3s;}
            .bsp-card:hover{transform:translateY(-5px);border-color:var(--bc,#22d3ee);box-shadow:0 20px 50px rgba(0,0,0,0.5),0 0 25px color-mix(in srgb,var(--bc,#22d3ee) 20%,transparent);}
            .bsp-card:hover::after{opacity:0.08;}
            .bsp-card.sel{border-color:var(--bc)!important;box-shadow:0 0 0 2px var(--bc),0 20px 50px rgba(0,0,0,0.6)!important;}
            .bsp-card.sel::after{opacity:0.1!important;}
            .bsp-line-ct{position:absolute;top:13px;right:14px;font-family:var(--font-mono,monospace);font-size:9px;color:rgba(255,255,255,0.22);letter-spacing:1.5px;}
            .bsp-icon{font-size:32px;margin-bottom:14px;display:block;position:relative;z-index:1;}
            .bsp-label{font-family:var(--font-display,sans-serif);font-size:20px;letter-spacing:1.5px;color:#fff;margin-bottom:5px;position:relative;z-index:1;}
            .bsp-range{font-family:var(--font-mono,monospace);font-size:13px;font-weight:700;margin-bottom:9px;position:relative;z-index:1;}
            .bsp-desc{font-size:12px;color:rgba(255,255,255,0.48);line-height:1.6;position:relative;z-index:1;}
            .bsp-warn{background:rgba(251,191,36,0.07);border:1px solid rgba(251,191,36,0.2);border-radius:10px;padding:13px 18px;margin:0 38px 6px;display:flex;align-items:flex-start;gap:10px;font-size:12px;color:rgba(251,191,36,0.85);line-height:1.5;}
            .bsp-foot{padding:20px 38px 30px;display:flex;justify-content:space-between;align-items:center;border-top:1px solid rgba(255,255,255,0.05);}
            .bsp-skip{background:none;border:none;color:rgba(255,255,255,0.35);font-size:13px;cursor:pointer;padding:10px 16px;border-radius:8px;transition:all 0.2s;}
            .bsp-skip:hover{color:rgba(255,255,255,0.75);background:rgba(255,255,255,0.05);}
            .bsp-apply{padding:14px 36px;background:linear-gradient(135deg,#22d3ee,#0891b2);border:none;border-radius:11px;color:#000;font-size:13px;font-weight:800;text-transform:uppercase;letter-spacing:1.5px;cursor:pointer;transition:all 0.25s;opacity:0.35;pointer-events:none;white-space:nowrap;}
            .bsp-apply.on{opacity:1;pointer-events:all;}
            .bsp-apply.on:hover{box-shadow:0 8px 30px rgba(34,211,238,0.5);transform:translateY(-2px);}
        </style>
        <div id="bsp-modal">
            <div class="bsp-head">
                <div class="bsp-eyebrow">Production Configuration</div>
                <div class="bsp-title">SELECT BUDGET SCALE</div>
                <div class="bsp-subtitle">Choose the tier that best matches your production. All figures are starting estimates â€” fine-tune in Financials.</div>
            </div>
            <div class="bsp-grid">${cards}</div>
            <div class="bsp-warn"><span style="font-size:16px;flex-shrink:0;">âš¡</span><span><strong>Budget lines will be auto-populated from your script analysis.</strong> Review and adjust all figures before sharing with stakeholders.</span></div>
            <div class="bsp-foot">
                <button class="bsp-skip" onclick="BSP.cancel()">Skip for now</button>
                <button class="bsp-apply" id="bsp-apply-btn" onclick="BSP.apply()">Select a scale to continue</button>
            </div>
        </div>`;
        document.body.appendChild(ov);
        requestAnimationFrame(() => { ov.style.opacity = '1'; });
        const cb = onSelect || null;
        window.BSP = {
            _sel: null, _cb: cb,
            select(id) {
                this._sel = id;
                document.querySelectorAll('.bsp-card').forEach(c => c.classList.toggle('sel', c.dataset.scale === id));
                const btn = document.getElementById('bsp-apply-btn');
                if (btn) { btn.classList.add('on'); btn.textContent = 'Apply: ' + BUDGET_SCALES[id].label + '  â†’'; }
            },
            apply() {
                if (!this._sel) return;
                if (typeof applyBudgetScale === 'function') applyBudgetScale(this._sel);
                this.close();
                if (this._cb) this._cb(this._sel);
                // NO navigate to financials
            },
            cancel() { this.close(); if (this._cb) this._cb(null); },
            close() {
                const el = document.getElementById('bsp-overlay');
                if (el) { el.style.opacity = '0'; setTimeout(() => el.remove(), 320); }
            }
        };
    },

    /* Load a production then show BSP without navigating */
    loadAndShowBSP(prodId) {
        const show = () => { if (typeof showBudgetScalePopup === 'function') showBudgetScalePopup(); };
        if (typeof Core === 'undefined') { show(); return; }
        if (typeof Core.loadProduction === 'function') Core.loadProduction(prodId).then(show).catch(show);
        else show();
    },

    /* Open BSP then navigate to financials (kept for explicit financial tab clicks) */
    openFinancialsBSP(prodId) {
        if (typeof Core === 'undefined') return;
        const load = typeof Core.loadProduction === 'function' ? Core.loadProduction(prodId) : Promise.resolve();
        load.then ? load.then(() => { Core.navigate('financials'); setTimeout(() => { if (typeof showBudgetScalePopup === 'function') showBudgetScalePopup(); }, 300); })
                  : (Core.navigate('financials'), setTimeout(() => { if (typeof showBudgetScalePopup === 'function') showBudgetScalePopup(); }, 300));
    },

    /* Update annotated script card in Documents tab */
    updateDocCard() {
        const iconEl   = document.getElementById('doc-script-icon');
        const descEl   = document.getElementById('doc-script-desc');
        const statusEl = document.getElementById('doc-script-status');
        const cardEl   = document.getElementById('doc-annotated-script-card');
        if (!iconEl) return;
        const si = (typeof Core !== 'undefined' && Core.data) ? Core.data.scriptImport : null;
        // Check savedAt (new) or result.scenes (legacy)
        const hasScript = si && si.savedAt && (si.result || si.sceneCount > 0);
        if (hasScript) {
            const title    = (si.result && si.result.title) || si.title || 'Untitled';
            const scenes   = (si.result && si.result.scenes) ? si.result.scenes.length : (si.sceneCount || 0);
            const savedDate = new Date(si.savedAt).toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'});
            if (iconEl)   iconEl.textContent  = '\uD83D\uDCDC';
            if (descEl)   descEl.textContent  = '\u201C' + title + '\u201D \u00b7 ' + scenes + ' scenes \u00b7 Click to export PDF';
            if (statusEl) statusEl.innerHTML  = '<span style="color:#10b981;font-weight:600;">\u2713 Script saved \u00b7 ' + savedDate + '</span>';
            if (cardEl) {
                cardEl.style.borderColor = 'rgba(16,185,129,0.5)';
                cardEl.style.background  = 'linear-gradient(145deg, rgba(16,185,129,0.06) 0%, var(--surface-2) 100%)';
            }
        } else {
            if (iconEl)   iconEl.textContent  = '\uD83D\uDCC4';
            if (descEl)   descEl.textContent  = 'No script imported yet \u2014 import a script first';
            if (statusEl) statusEl.innerHTML  = '<span style="color:rgba(255,255,255,0.3);">\u25cb No script imported</span>';
            if (cardEl) {
                cardEl.style.borderColor = '';
                cardEl.style.background  = '';
            }
        }
    },

    /* Open annotated script card action */
    openAnnotatedScript() {
        if (typeof Core === 'undefined' || !Core.data) { alert('No production loaded.'); return; }
        const si = Core.data.scriptImport;
        const hasScript = si && si.savedAt && (si.result || si.sceneCount > 0);
        if (!hasScript) {
            const ov = document.createElement('div');
            ov.style.cssText = 'position:fixed;inset:0;background:rgba(3,5,8,0.92);backdrop-filter:blur(16px);display:flex;align-items:center;justify-content:center;z-index:9999999;';
            ov.innerHTML = `<div style="background:linear-gradient(145deg,#0d0d0d,#0a0a0a);border:1px solid rgba(255,255,255,0.1);border-radius:20px;width:min(460px,90vw);padding:40px;text-align:center;">
              <div style="width:64px;height:64px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:30px;margin:0 auto 20px;">ğŸ“„</div>
              <div style="font-family:var(--font-display,'Bebas Neue',sans-serif);font-size:26px;letter-spacing:2px;color:#fff;margin-bottom:10px;">NO SCRIPT IMPORTED</div>
              <div style="font-size:13px;color:rgba(255,255,255,0.45);margin-bottom:28px;line-height:1.7;">Import a script in the Script Import tab first.<br>The annotated PDF will be available here after import.</div>
              <div style="display:flex;gap:10px;justify-content:center;">
                <button onclick="this.closest('[style*=fixed]').remove()" style="padding:11px 22px;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.12);border-radius:9px;color:rgba(255,255,255,0.55);font-size:13px;cursor:pointer;font-weight:600;">Close</button>
                <button onclick="this.closest('[style*=fixed]').remove();Core.navigate('script-import');" style="padding:11px 22px;background:linear-gradient(135deg,#22d3ee,#0ea5e9);border:none;border-radius:9px;color:#000;font-size:13px;font-weight:800;cursor:pointer;letter-spacing:0.3px;">Go to Script Import â†’</button>
              </div>
            </div>`;
            document.body.appendChild(ov);
            ov.addEventListener('click', e => { if (e.target === ov) ov.remove(); });
            return;
        }
        if (typeof ScriptImport !== 'undefined' && typeof ScriptImport.exportAnnotatedPDF === 'function') {
            // Restore result and rawLines from saved data
            if (si.result) ScriptImport._result = si.result;
            if (si.rawText) ScriptImport._rawLines = si.rawText.split('\n');
            // If rawLines missing but result exists, exportAnnotatedPDF handles gracefully
            ScriptImport.exportAnnotatedPDF();
        } else { alert('Script Import module unavailable. Use the Script Import tab directly.'); }
    },

    /* Full production edit popup */
    editProduction(prodId, currentName) {
        const stored = localStorage.getItem('dc_alacrity_prod_' + prodId);
        let pd = {};
        try { pd = stored ? JSON.parse(stored) : {}; } catch(e) {}

        const SCALES = (typeof BUDGET_SCALES !== 'undefined') ? Object.values(BUDGET_SCALES) : [];
        const curScale = (pd.budget && pd.budget.scale) || '';

        const scaleOpts = SCALES.length
            ? `<div style="margin-bottom:18px;">
                <div style="margin-bottom:7px;font-size:11px;font-weight:600;color:#22d3ee;letter-spacing:.5px;text-transform:uppercase;">Budget Scale</div>
                <select id="v10ed-scale" style="width:100%;background:rgba(10,15,30,.6);border:2px solid rgba(34,211,238,.3);border-radius:8px;padding:11px 14px;font-size:13px;color:#f5f5f5;outline:none;cursor:pointer;">
                  <option value="">-- No scale set --</option>
                  ${SCALES.map(s=>`<option value="${s.id}"${s.id===curScale?' selected':''}>${s.icon} ${s.label} (${s.range})</option>`).join('')}
                </select></div>` : '';

        const logHtml = (pd.rename_log||[]).length
            ? `<div style="margin-top:18px;padding:13px;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.07);border-radius:9px;">
               <div style="font-size:9px;font-family:var(--font-mono,monospace);letter-spacing:2px;color:rgba(255,255,255,.3);text-transform:uppercase;margin-bottom:8px;">Name History</div>
               ${(pd.rename_log||[]).slice(-5).reverse().map(r=>`<div style="font-size:10px;color:rgba(255,255,255,.45);padding:3px 0;border-bottom:1px solid rgba(255,255,255,.04);font-family:var(--font-mono,monospace);">${new Date(r.ts).toLocaleDateString()} &nbsp;&middot;&nbsp; "${r.from}" \u2192 "${r.to}"</div>`).join('')}
               </div>` : '';

        const ov = document.createElement('div');
        ov.id = 'v10-edit-ov';
        ov.style.cssText = 'position:fixed;inset:0;background:rgba(3,5,8,0.93);backdrop-filter:blur(16px);display:flex;align-items:center;justify-content:center;z-index:9999999;opacity:0;transition:opacity .25s;';
        ov.innerHTML = `
        <div style="background:linear-gradient(145deg,#1a1a1a,#0f0f0f);border:2px solid var(--neon-cyan,#22d3ee);border-radius:18px;width:min(560px,92vw);max-height:90vh;overflow-y:auto;padding:34px;box-shadow:0 40px 80px rgba(0,0,0,.9),0 0 40px rgba(34,211,238,.18);">
          <div style="font-family:var(--font-mono,monospace);font-size:10px;letter-spacing:3px;color:#22d3ee;text-transform:uppercase;margin-bottom:9px;">Production Settings</div>
          <div style="font-family:var(--font-display,'Bebas Neue',sans-serif);font-size:32px;letter-spacing:2px;color:#fff;margin-bottom:20px;">EDIT PRODUCTION</div>

          <div style="margin-bottom:16px;">
            <div style="margin-bottom:7px;font-size:11px;font-weight:600;color:#22d3ee;letter-spacing:.5px;text-transform:uppercase;">Production Name</div>
            <input id="v10ed-name" type="text" maxlength="80" value="${(currentName||'').replace(/"/g,'&quot;')}" style="width:100%;background:rgba(10,15,30,.6);border:2px solid rgba(34,211,238,.3);border-radius:8px;padding:12px 14px;font-size:15px;color:#f5f5f5;outline:none;font-family:var(--font-sans,Inter);">
          </div>

          <div style="display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:16px;">
            <div>
              <div style="margin-bottom:7px;font-size:11px;font-weight:600;color:#22d3ee;letter-spacing:.5px;text-transform:uppercase;">Production Type</div>
              <select id="v10ed-type" style="width:100%;background:rgba(10,15,30,.6);border:2px solid rgba(34,211,238,.3);border-radius:8px;padding:11px 14px;font-size:13px;color:#f5f5f5;outline:none;cursor:pointer;">
                ${['Film','TV Series','Commercial','Music Video','Documentary','Short','Corporate','Event','Other'].map(t=>`<option value="${t}"${(pd.type||'')=== t?' selected':''}>${t}</option>`).join('')}
              </select>
            </div>
            <div>
              <div style="margin-bottom:7px;font-size:11px;font-weight:600;color:#22d3ee;letter-spacing:.5px;text-transform:uppercase;">Client / Studio</div>
              <input id="v10ed-client" type="text" placeholder="Client or studio name" value="${(pd.client||'').replace(/"/g,'&quot;')}" style="width:100%;background:rgba(10,15,30,.6);border:2px solid rgba(34,211,238,.3);border-radius:8px;padding:11px 14px;font-size:13px;color:#f5f5f5;outline:none;font-family:var(--font-sans,Inter);">
            </div>
            <div>
              <div style="margin-bottom:7px;font-size:11px;font-weight:600;color:#22d3ee;letter-spacing:.5px;text-transform:uppercase;">Director</div>
              <input id="v10ed-director" type="text" placeholder="Director name" value="${(pd.director||'').replace(/"/g,'&quot;')}" style="width:100%;background:rgba(10,15,30,.6);border:2px solid rgba(34,211,238,.3);border-radius:8px;padding:11px 14px;font-size:13px;color:#f5f5f5;outline:none;font-family:var(--font-sans,Inter);">
            </div>
            <div>
              <div style="margin-bottom:7px;font-size:11px;font-weight:600;color:#22d3ee;letter-spacing:.5px;text-transform:uppercase;">Shooting Start</div>
              <input id="v10ed-start" type="date" value="${pd.shootStart||''}" style="width:100%;background:rgba(10,15,30,.6);border:2px solid rgba(34,211,238,.3);border-radius:8px;padding:11px 14px;font-size:13px;color:#f5f5f5;outline:none;">
            </div>
          </div>

          <div style="margin-bottom:16px;">
            <div style="margin-bottom:7px;font-size:11px;font-weight:600;color:#22d3ee;letter-spacing:.5px;text-transform:uppercase;">Description</div>
            <textarea id="v10ed-desc" rows="3" placeholder="Brief description..." style="width:100%;background:rgba(10,15,30,.6);border:2px solid rgba(34,211,238,.3);border-radius:8px;padding:11px 14px;font-size:13px;color:#f5f5f5;outline:none;resize:vertical;font-family:var(--font-sans,Inter);">${pd.description||''}</textarea>
          </div>

          ${scaleOpts}

          <div id="v10ed-err" style="color:#f43f5e;font-size:12px;min-height:16px;margin-bottom:10px;"></div>
          ${logHtml}

          <div style="display:flex;gap:11px;justify-content:flex-end;margin-top:18px;">
            <button onclick="document.getElementById('v10-edit-ov').remove()" style="padding:11px 22px;background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.13);border-radius:9px;color:rgba(255,255,255,.6);font-size:13px;cursor:pointer;">Cancel</button>
            <button id="v10ed-save" style="padding:11px 26px;background:var(--neon-cyan,#22d3ee);border:none;border-radius:9px;color:#000;font-size:13px;font-weight:800;text-transform:uppercase;letter-spacing:1px;cursor:pointer;">Save Changes</button>
          </div>
        </div>`;
        document.body.appendChild(ov);
        requestAnimationFrame(() => { ov.style.opacity = '1'; });
        const nameEl = ov.querySelector('#v10ed-name');
        nameEl.focus(); nameEl.select();

        const save = async () => {
            const newName = ov.querySelector('#v10ed-name').value.trim();
            const errEl   = ov.querySelector('#v10ed-err');
            errEl.textContent = '';
            if (!newName)         { errEl.textContent = 'Name is required.'; return; }
            if (newName.length>80){ errEl.textContent = 'Max 80 characters.'; return; }

            const isRename = (newName !== currentName);
            if (isRename) {
                const list = typeof Core !== 'undefined' ? Core.getProductions() : [];
                if (list.includes(newName)) { errEl.textContent = '"'+newName+'" already exists.'; return; }
            }

            pd.name        = newName;
            pd.type        = ov.querySelector('#v10ed-type').value;
            pd.client      = ov.querySelector('#v10ed-client').value.trim();
            pd.director    = ov.querySelector('#v10ed-director').value.trim();
            pd.description = ov.querySelector('#v10ed-desc').value.trim();
            pd.shootStart  = ov.querySelector('#v10ed-start').value;
            pd.lastModified = Date.now();
            const scEl = ov.querySelector('#v10ed-scale');
            if (scEl && scEl.value) { if(!pd.budget) pd.budget={}; pd.budget.scale = scEl.value; }

            if (isRename) {
                if (!pd.rename_log) pd.rename_log = [];
                pd.rename_log.push({from:currentName, to:newName, ts:new Date().toISOString(),
                    user:(typeof Auth!=='undefined'&&Auth.user?.email)||'local'});
            }

            const newKey = newName;
            localStorage.setItem('dc_alacrity_prod_' + newKey, JSON.stringify(pd));
            if (isRename) {
                localStorage.removeItem('dc_alacrity_prod_' + prodId);
                const list = typeof Core !== 'undefined' ? Core.getProductions() : [];
                const idx  = list.indexOf(prodId);
                if (idx !== -1) list[idx] = newKey; else list.push(newKey);
                localStorage.setItem('dc_alacrity_productions', JSON.stringify(list));
            }

            if (typeof Core !== 'undefined' && (Core.currentProduction === prodId || Core.currentProduction === newKey)) {
                Core.currentProduction = newKey;
                Core.data = pd;
                Core.renderProductionDropdown();
                Core.renderAll();
                const vi = document.getElementById('view-indicator');
                if (vi) vi.textContent = '\uD83C\uDFAC ' + newName;
            }

            if (typeof Core !== 'undefined') Core.log('Production edited: type=' + pd.type + ', client=' + pd.client);
            if (typeof ProductionLibrary !== 'undefined') ProductionLibrary.render();

            ov.style.opacity = '0';
            setTimeout(() => ov.remove(), 260);
        };

        ov.querySelector('#v10ed-save').addEventListener('click', save);
        nameEl.addEventListener('keydown', e => { if(e.key==='Enter') save(); if(e.key==='Escape') ov.remove(); });
        ov.addEventListener('click', e => { if(e.target===ov) ov.remove(); });
    }
};

/* â”€â”€â”€ Doc card polling â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
let _docPollStarted = false;
function startDocPoll() {
    if (_docPollStarted) return; _docPollStarted = true;
    setInterval(() => { V10.updateDocCard(); }, 4000);
}

/* â”€â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function init() {
    patchImportNotification();
    patchProductionCreate();
    patchScriptImportV10();
    patchProductionUID();
    patchLibraryCard();
    patchNavigate();
    addMusicAgreementPDF();
    startDocPoll();
    console.log('\u2705 DC ALACRITY V10 Suite loaded');
}

if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => setTimeout(init, 250));
} else {
    setTimeout(init, 250);
}

})(); // end V10
</script>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     DC ALACRITY V11 â€” LUXURY GLASS NOTIFICATIONS + IMPORT FIX (FINAL)
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<style>
/* â”€â”€ LUXURY GLASS NOTIFICATION SYSTEM â”€â”€ */
@keyframes luxNotifIn {
    from { opacity:0; transform:translateY(-28px) scale(0.94); }
    to   { opacity:1; transform:translateY(0)     scale(1); }
}
@keyframes luxNotifOut {
    from { opacity:1; transform:translateY(0) scale(1); }
    to   { opacity:0; transform:translateY(-18px) scale(0.96); }
}
@keyframes luxShimmer {
    0%   { background-position: -200% center; }
    100% { background-position: 200% center; }
}
@keyframes luxPulseGlow {
    0%,100% { box-shadow: var(--lux-glow-1), var(--lux-glow-2); }
    50%      { box-shadow: var(--lux-glow-1-hi), var(--lux-glow-2-hi); }
}
@keyframes luxIconPop {
    0%   { transform: scale(0) rotate(-20deg); opacity:0; }
    70%  { transform: scale(1.25) rotate(5deg); opacity:1; }
    100% { transform: scale(1) rotate(0deg); opacity:1; }
}
@keyframes luxProgressBar {
    from { width: 100%; }
    to   { width: 0%; }
}

#lux-notif-stack {
    position: fixed;
    top: 24px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 2147483647;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    pointer-events: none;
    width: min(520px, 96vw);
}

.lux-notif {
    width: 100%;
    pointer-events: all;
    position: relative;
    border-radius: 16px;
    overflow: hidden;
    animation: luxNotifIn 0.45s cubic-bezier(0.34,1.56,0.64,1) both;
    cursor: default;
    backdrop-filter: blur(28px) saturate(1.8);
    -webkit-backdrop-filter: blur(28px) saturate(1.8);
}
.lux-notif.leaving {
    animation: luxNotifOut 0.35s cubic-bezier(0.4,0,1,1) both;
}

/* Type-specific */
.lux-notif.success {
    --lux-glow-1: 0 8px 32px rgba(16,185,129,0.3);
    --lux-glow-2: 0 0 0 1px rgba(16,185,129,0.35);
    --lux-glow-1-hi: 0 12px 48px rgba(16,185,129,0.5);
    --lux-glow-2-hi: 0 0 0 1px rgba(16,185,129,0.55);
    background: linear-gradient(135deg, rgba(6,20,14,0.96) 0%, rgba(4,16,12,0.98) 100%);
    border: 1px solid rgba(16,185,129,0.45);
    box-shadow: var(--lux-glow-1), var(--lux-glow-2), inset 0 1px 0 rgba(16,185,129,0.15);
    animation: luxNotifIn 0.45s cubic-bezier(0.34,1.56,0.64,1) both, luxPulseGlow 3s ease-in-out infinite 0.5s;
}
.lux-notif.error {
    --lux-glow-1: 0 8px 32px rgba(244,63,94,0.3);
    --lux-glow-2: 0 0 0 1px rgba(244,63,94,0.35);
    --lux-glow-1-hi: 0 12px 48px rgba(244,63,94,0.5);
    --lux-glow-2-hi: 0 0 0 1px rgba(244,63,94,0.55);
    background: linear-gradient(135deg, rgba(20,4,8,0.96) 0%, rgba(16,4,8,0.98) 100%);
    border: 1px solid rgba(244,63,94,0.45);
    box-shadow: var(--lux-glow-1), var(--lux-glow-2), inset 0 1px 0 rgba(244,63,94,0.15);
    animation: luxNotifIn 0.45s cubic-bezier(0.34,1.56,0.64,1) both, luxPulseGlow 3s ease-in-out infinite 0.5s;
}
.lux-notif.warn {
    --lux-glow-1: 0 8px 32px rgba(251,191,36,0.25);
    --lux-glow-2: 0 0 0 1px rgba(251,191,36,0.35);
    --lux-glow-1-hi: 0 12px 48px rgba(251,191,36,0.4);
    --lux-glow-2-hi: 0 0 0 1px rgba(251,191,36,0.5);
    background: linear-gradient(135deg, rgba(16,12,2,0.96) 0%, rgba(14,10,2,0.98) 100%);
    border: 1px solid rgba(251,191,36,0.4);
    box-shadow: var(--lux-glow-1), var(--lux-glow-2), inset 0 1px 0 rgba(251,191,36,0.12);
    animation: luxNotifIn 0.45s cubic-bezier(0.34,1.56,0.64,1) both, luxPulseGlow 3s ease-in-out infinite 0.5s;
}
.lux-notif.info {
    --lux-glow-1: 0 8px 32px rgba(34,211,238,0.25);
    --lux-glow-2: 0 0 0 1px rgba(34,211,238,0.35);
    --lux-glow-1-hi: 0 12px 48px rgba(34,211,238,0.4);
    --lux-glow-2-hi: 0 0 0 1px rgba(34,211,238,0.5);
    background: linear-gradient(135deg, rgba(2,10,18,0.96) 0%, rgba(2,8,16,0.98) 100%);
    border: 1px solid rgba(34,211,238,0.4);
    box-shadow: var(--lux-glow-1), var(--lux-glow-2), inset 0 1px 0 rgba(34,211,238,0.12);
    animation: luxNotifIn 0.45s cubic-bezier(0.34,1.56,0.64,1) both, luxPulseGlow 3s ease-in-out infinite 0.5s;
}

.lux-notif-shimmer {
    position: absolute;
    inset: 0;
    background: linear-gradient(105deg, transparent 40%, rgba(255,255,255,0.04) 50%, transparent 60%);
    background-size: 200% 100%;
    animation: luxShimmer 3.5s linear infinite;
    pointer-events: none;
    border-radius: inherit;
}

.lux-notif-inner {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 16px 20px;
    position: relative;
    z-index: 1;
}

.lux-notif-icon {
    font-size: 22px;
    flex-shrink: 0;
    animation: luxIconPop 0.5s cubic-bezier(0.34,1.56,0.64,1) 0.1s both;
    filter: drop-shadow(0 0 8px currentColor);
}
.lux-notif.success .lux-notif-icon { color: #10b981; }
.lux-notif.error   .lux-notif-icon { color: #f43f5e; }
.lux-notif.warn    .lux-notif-icon { color: #fbbf24; }
.lux-notif.info    .lux-notif-icon { color: #22d3ee; }

.lux-notif-content { flex: 1; min-width: 0; }
.lux-notif-title {
    font-family: 'JetBrains Mono', 'Space Grotesk', monospace;
    font-size: 12px;
    font-weight: 700;
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-bottom: 3px;
}
.lux-notif.success .lux-notif-title { color: #10b981; }
.lux-notif.error   .lux-notif-title { color: #f43f5e; }
.lux-notif.warn    .lux-notif-title { color: #fbbf24; }
.lux-notif.info    .lux-notif-title { color: #22d3ee; }

.lux-notif-msg {
    font-family: 'Space Grotesk', 'Inter', sans-serif;
    font-size: 13.5px;
    font-weight: 400;
    color: rgba(255,255,255,0.82);
    line-height: 1.45;
    white-space: pre-wrap;
    word-break: break-word;
}

.lux-notif-close {
    flex-shrink: 0;
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.1);
    color: rgba(255,255,255,0.4);
    font-size: 16px;
    width: 28px; height: 28px;
    border-radius: 8px;
    cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.2s;
    line-height: 1;
}
.lux-notif-close:hover { background: rgba(255,255,255,0.12); color: rgba(255,255,255,0.8); }

.lux-notif-progress {
    position: absolute;
    bottom: 0; left: 0; right: 0;
    height: 2px;
    background: rgba(255,255,255,0.06);
    border-radius: 0 0 16px 16px;
    overflow: hidden;
}
.lux-notif-progress-bar {
    height: 100%;
    border-radius: inherit;
    animation: luxProgressBar linear forwards;
}
.lux-notif.success .lux-notif-progress-bar { background: linear-gradient(90deg, #10b981, #34d399); }
.lux-notif.error   .lux-notif-progress-bar { background: linear-gradient(90deg, #f43f5e, #fb7185); }
.lux-notif.warn    .lux-notif-progress-bar { background: linear-gradient(90deg, #fbbf24, #fcd34d); }
.lux-notif.info    .lux-notif-progress-bar { background: linear-gradient(90deg, #22d3ee, #67e8f9); }

/* â”€â”€ LUXURY CONFIRM DIALOG â”€â”€ */
.lux-confirm-overlay {
    position: fixed;
    inset: 0;
    background: rgba(3,5,8,0.88);
    backdrop-filter: blur(24px) saturate(1.4);
    -webkit-backdrop-filter: blur(24px) saturate(1.4);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2147483640;
    opacity: 0;
    transition: opacity 0.3s;
}
.lux-confirm-box {
    background: linear-gradient(145deg, rgba(14,18,28,0.99) 0%, rgba(8,12,20,0.99) 100%);
    border: 1.5px solid rgba(34,211,238,0.35);
    border-radius: 20px;
    width: min(600px,94vw);
    max-height: 92vh;
    overflow-y: auto;
    padding: 40px;
    box-shadow: 0 48px 96px rgba(0,0,0,0.95), 0 0 0 1px rgba(34,211,238,0.1), 0 0 80px rgba(34,211,238,0.08);
    position: relative;
    overflow: hidden;
}
.lux-confirm-box::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at 50% 0%, rgba(34,211,238,0.06) 0%, transparent 65%);
    pointer-events: none;
}
.lux-confirm-eyebrow {
    font-family: 'JetBrains Mono', monospace;
    font-size: 10px;
    letter-spacing: 4px;
    color: #22d3ee;
    text-transform: uppercase;
    margin-bottom: 10px;
    opacity: 0.7;
    position: relative;
}
.lux-confirm-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 36px;
    letter-spacing: 2px;
    color: #ffffff;
    margin-bottom: 8px;
    position: relative;
    line-height: 1;
}
.lux-confirm-subtitle {
    font-size: 13px;
    color: rgba(255,255,255,0.45);
    margin-bottom: 28px;
    font-style: italic;
    position: relative;
}
.lux-confirm-body {
    position: relative;
    margin-bottom: 28px;
}
.lux-confirm-actions {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    position: relative;
}
.lux-confirm-btn {
    padding: 13px 28px;
    border-radius: 11px;
    font-family: 'Space Grotesk', 'Inter', sans-serif;
    font-size: 13px;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 1.2px;
    cursor: pointer;
    border: none;
    transition: all 0.25s;
    position: relative;
    overflow: hidden;
}
.lux-confirm-btn::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(105deg, transparent 40%, rgba(255,255,255,0.1) 50%, transparent 60%);
    background-size: 200% 100%;
    opacity: 0;
    transition: opacity 0.2s;
}
.lux-confirm-btn:hover::after { opacity: 1; }
.lux-confirm-btn-cancel {
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.14);
    color: rgba(255,255,255,0.55);
}
.lux-confirm-btn-cancel:hover { background: rgba(255,255,255,0.1); color: rgba(255,255,255,0.8); transform: translateY(-1px); }
.lux-confirm-btn-primary {
    background: linear-gradient(135deg, #22d3ee 0%, #0891b2 100%);
    color: #000;
    box-shadow: 0 4px 20px rgba(34,211,238,0.3);
}
.lux-confirm-btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 32px rgba(34,211,238,0.5); }
.lux-confirm-btn-danger {
    background: linear-gradient(135deg, #f43f5e 0%, #be123c 100%);
    color: #fff;
    box-shadow: 0 4px 20px rgba(244,63,94,0.3);
}
.lux-confirm-btn-danger:hover { transform: translateY(-2px); box-shadow: 0 8px 32px rgba(244,63,94,0.5); }

/* Import stats grid in confirm */
.lux-import-grid {
    display: grid;
    grid-template-columns: repeat(3,1fr);
    gap: 10px;
    margin-bottom: 20px;
}
.lux-import-stat {
    background: rgba(34,211,238,0.05);
    border: 1px solid rgba(34,211,238,0.18);
    border-radius: 12px;
    padding: 14px 10px;
    text-align: center;
    transition: all 0.25s;
}
.lux-import-stat:hover { background: rgba(34,211,238,0.08); border-color: rgba(34,211,238,0.3); transform: translateY(-2px); }
.lux-import-stat-icon { font-size: 20px; margin-bottom: 6px; }
.lux-import-stat-val { font-family: 'JetBrains Mono', monospace; font-size: 20px; font-weight: 700; color: #22d3ee; margin-bottom: 2px; }
.lux-import-stat-lbl { font-size: 10px; color: rgba(255,255,255,0.35); text-transform: uppercase; letter-spacing: 0.8px; }
</style>
<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DC ALACRITY V11 â€” LUXURY NOTIFICATIONS + DEFINITIVE IMPORT FIX
   Strategy: capture the raw ScriptImport.commitImport BEFORE any V10 wrapper
   touches it, run our own async confirm, then execute the raw logic directly
   with confirm() pre-patched to bypass the browser dialog.
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
(function V11Suite() {
'use strict';

/* â”€â”€â”€ LUXURY NOTIFICATION ENGINE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function ensureStack() {
    let s = document.getElementById('lux-notif-stack');
    if (!s) { s = document.createElement('div'); s.id = 'lux-notif-stack'; document.body.appendChild(s); }
    return s;
}

const ICONS  = { success:'âœ¦', error:'â—ˆ', warn:'â—‰', info:'â—' };
const LABELS = { success:'SYSTEM', error:'ALERT', warn:'WARNING', info:'NOTICE' };

window.luxNotify = function(msg, type, duration) {
    type = type || 'info';
    const ms = (duration !== undefined) ? duration : (type === 'error' ? 5500 : 3800);
    const stack = ensureStack();
    const el = document.createElement('div');
    el.className = 'lux-notif ' + type;
    el.innerHTML =
        '<div class="lux-notif-shimmer"></div>' +
        '<div class="lux-notif-inner">' +
            '<div class="lux-notif-icon">' + (ICONS[type]||'â—') + '</div>' +
            '<div class="lux-notif-content">' +
                '<div class="lux-notif-title">' + (LABELS[type]||'NOTICE') + '</div>' +
                '<div class="lux-notif-msg">' + msg + '</div>' +
            '</div>' +
            '<button class="lux-notif-close" onclick="window._luxDismiss(this.closest(\'.lux-notif\'))">âœ•</button>' +
        '</div>' +
        (ms > 0 ? '<div class="lux-notif-progress"><div class="lux-notif-progress-bar" style="animation-duration:' + ms + 'ms"></div></div>' : '');
    stack.appendChild(el);
    if (ms > 0) setTimeout(function(){ window._luxDismiss(el); }, ms);
    return el;
};

window._luxDismiss = function(el) {
    if (!el || el.classList.contains('leaving')) return;
    el.classList.add('leaving');
    setTimeout(function(){ try { el.remove(); } catch(e){} }, 380);
};

/* â”€â”€â”€ LUXURY CONFIRM DIALOG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
window.luxConfirm = function(opts) {
    return new Promise(function(resolve) {
        const ov = document.createElement('div');
        ov.className = 'lux-confirm-overlay';
        const cc = opts.confirmClass || 'lux-confirm-btn-primary';
        const ct = opts.confirmText  || 'Confirm';
        const xt = opts.cancelText   || 'Cancel';
        ov.innerHTML =
            '<div class="lux-confirm-box">' +
                '<div class="lux-confirm-eyebrow">' + (opts.eyebrow||'Confirm') + '</div>' +
                '<div class="lux-confirm-title">'  + (opts.title||'Are you sure?') + '</div>' +
                (opts.subtitle ? '<div class="lux-confirm-subtitle">' + opts.subtitle + '</div>' : '') +
                '<div class="lux-confirm-body">'  + (opts.body||'') + '</div>' +
                '<div class="lux-confirm-actions">' +
                    '<button id="_lc_x" class="lux-confirm-btn lux-confirm-btn-cancel">' + xt + '</button>' +
                    '<button id="_lc_ok" class="lux-confirm-btn ' + cc + '">' + ct + '</button>' +
                '</div>' +
            '</div>';
        document.body.appendChild(ov);
        requestAnimationFrame(function(){ ov.style.opacity = '1'; });
        function close(val) {
            ov.style.opacity = '0';
            setTimeout(function(){ try{ ov.remove(); }catch(e){} }, 320);
            resolve(val);
        }
        ov.querySelector('#_lc_x').onclick  = function(){ close(false); };
        ov.querySelector('#_lc_ok').onclick = function(){ close(true);  };
        ov.addEventListener('click', function(e){ if (e.target === ov) close(false); });
    });
};

/* â”€â”€â”€ WAIT HELPER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function waitFor11(check, cb, iv, max) {
    iv = iv||80; max = max||250; let n = 0;
    const id = setInterval(function(){
        if (check() || ++n >= max) { clearInterval(id); if (check()) cb(); }
    }, iv);
}

/* â”€â”€â”€ SHOW BSP WRAPPER (safe callable from anywhere) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
window._v11ShowBSP = function() {
    try { showBudgetScalePopup(); } catch(e) { console.warn('V11 BSP error:', e); }
};

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FIX 1 â€” CAPTURE commitImport AND REPLACE WITH ASYNC LUXURY VERSION
   We wait for ScriptImport to exist, grab commitImport (which already has
   the V10 shopping-list wrapper since that runs at t=120ms), then replace
   with our async version. We call _rawCommitImport with confirm pre-patched.
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
var _rawCommitImport = null;

function installV11Commit() {
    if (!_rawCommitImport) return;

    ScriptImport.commitImport = async function v11Commit() {
        const self = this;
        const r = self._result;

        if (!r) { luxNotify('Analyse your script first, then import.', 'warn'); return; }
        const scenes    = r.scenes    || [];
        const allCast   = r.all_cast  || [];
        const locs      = r.locations || [];
        const risks     = r.risks     || [];
        const ins       = r.insights  || {};
        const schedPlan = r.schedPlan || {};
        const shootDays = Math.max(1, ins.shooting_days_estimate || schedPlan.shootDays || 1);
        const scriptTier = ins.budget_tier || 'Low';

        if (!scenes.length) { luxNotify('No scenes detected â€” check script format.', 'error'); return; }

        // â”€â”€ GATE: if no budget scale selected, show BSP first, then continue â”€â”€
        const _hasScale = Core && Core.data && Core.data.budget && Core.data.budget.scale;
        if (!_hasScale) {
            luxNotify('Select a budget scale first â€” then your import will use it.', 'info', 4000);
            await new Promise(function(resolve) {
                showBudgetScalePopup(function(scaleId) {
                    resolve(scaleId); // continues whether they picked or skipped
                });
            });
        }

        // Use the user-selected BSP scale if set (may have just been set above)
        const selectedScaleId = Core && Core.data && Core.data.budget && Core.data.budget.scale;
        const selectedScale   = (typeof BUDGET_SCALES !== 'undefined' && selectedScaleId) ? BUDGET_SCALES[selectedScaleId] : null;
        const budgetLabel     = selectedScale ? (selectedScale.icon + ' ' + selectedScale.label + ' Â· ' + selectedScale.range) : ('Script estimate: ' + scriptTier);
        const budgetColor     = selectedScale ? selectedScale.color : '#fbbf24';
        const budgetNote      = selectedScale ? 'Budget lines will be populated from your selected scale.' : 'No scale selected â€” budget estimated from script analysis.';

        let estShots = 0;
        scenes.forEach(function(s){
            estShots++;
            if ((s.cast||[]).length >= 2) estShots += Math.min(4, (s.cast||[]).length);
            if ((s.sfx||[]).length > 0 || s.complexity === 'HIGH') estShots++;
        });

        const prodName = (typeof Core !== 'undefined' && Core.currentProduction) ? Core.currentProduction : 'Production';
        const confirmed = await window.luxConfirm({
            eyebrow:      'Script Import  Â·  ' + prodName,
            title:        'FULL AUTO-IMPORT',
            subtitle:     '\u201C' + (r.title || 'Untitled') + '\u201D',
            body:
                '<div class="lux-import-grid">' +
                    '<div class="lux-import-stat"><div class="lux-import-stat-icon">\uD83C\uDFAC</div><div class="lux-import-stat-val">' + scenes.length + '</div><div class="lux-import-stat-lbl">Scenes</div></div>' +
                    '<div class="lux-import-stat"><div class="lux-import-stat-icon">\uD83D\uDC65</div><div class="lux-import-stat-val">' + allCast.length + '</div><div class="lux-import-stat-lbl">Cast</div></div>' +
                    '<div class="lux-import-stat"><div class="lux-import-stat-icon">\uD83D\uDCCD</div><div class="lux-import-stat-val">' + locs.length + '</div><div class="lux-import-stat-lbl">Locations</div></div>' +
                    '<div class="lux-import-stat"><div class="lux-import-stat-icon">\uD83C\uDFA5</div><div class="lux-import-stat-val">~' + estShots + '</div><div class="lux-import-stat-lbl">Shots</div></div>' +
                    '<div class="lux-import-stat"><div class="lux-import-stat-icon">\u26A0\uFE0F</div><div class="lux-import-stat-val">' + risks.length + '</div><div class="lux-import-stat-lbl">Risks</div></div>' +
                    '<div class="lux-import-stat"><div class="lux-import-stat-icon">\uD83D\uDCC5</div><div class="lux-import-stat-val">' + shootDays + '</div><div class="lux-import-stat-lbl">Shoot Days</div></div>' +
                '</div>' +
                '<div style="background:rgba(34,211,238,0.06);border:1px solid rgba(34,211,238,0.18);border-radius:10px;padding:14px 16px;font-size:12.5px;color:rgba(255,255,255,0.62);line-height:1.75;">' +
                    'Generates: <strong style="color:#22d3ee;">Breakdowns &middot; Schedule &middot; Shot List &middot; Milestones &middot; Tasks &middot; Budget &middot; Risks &middot; Cast &middot; Locations</strong>' +
                    '<br><div style="display:flex;align-items:center;gap:8px;margin-top:8px;flex-wrap:wrap;">' +
                        '<span style="background:rgba(0,0,0,0.3);border:1px solid ' + budgetColor + '44;border-radius:6px;padding:3px 10px;font-size:11px;font-weight:700;color:' + budgetColor + ';white-space:nowrap;">' + budgetLabel + '</span>' +
                        '<span style="color:rgba(255,255,255,0.3);font-size:11px;">' + budgetNote + '</span>' +
                    '</div>' +
                    '<span style="color:rgba(255,255,255,0.25);font-size:10px;display:block;margin-top:6px;">Existing breakdowns &amp; schedule will be replaced.</span>' +
                '</div>',
            confirmText:  '\u26A1 Import Everything',
            confirmClass: 'lux-confirm-btn-primary',
            cancelText:   'Cancel'
        });

        if (!confirmed) return;

        // â”€â”€ EXECUTE: patch confirm/alert, run raw import logic â”€â”€
        const prevConfirm = window.confirm;
        const prevAlert   = window.alert;
        window.confirm = function() { return true; };
        window.alert   = function(m) { luxNotify(m, 'warn'); };

        let importSucceeded = false;
        try {
            _rawCommitImport.call(self);
            importSucceeded = true;
        } catch(err) {
            console.error('V11 import error:', err);
            luxNotify('Import error: ' + err.message, 'error');
        } finally {
            window.confirm = prevConfirm;
            window.alert   = prevAlert;
        }

        if (!importSucceeded) return;

        // â”€â”€ POST-IMPORT: save scriptImport metadata + full result for PDF/doc card â”€â”€
        try {
            const ri = self._result;
            if (ri) {
                const insPost = ri.insights || {};
                const schedPost = ri.schedPlan || {};
                const scenesPost = ri.scenes || [];
                const locsPost = ri.locations || [];
                // Save compact result (strip huge rawLines to save localStorage space)
                const savedResult = {
                    title:       ri.title,
                    genre:       ri.genre,
                    scenes:      scenesPost,
                    all_cast:    ri.all_cast || [],
                    locations:   locsPost,
                    risks:       ri.risks || [],
                    insights:    insPost,
                    schedPlan:   schedPost
                };
                Core.data.scriptImport = {
                    savedAt:         new Date().toISOString(),
                    result:          savedResult,
                    // rawText only if small enough (<500KB) to avoid localStorage quota
                    rawText:         (self._text && self._text.length < 500000) ? self._text : null,
                    // Flat metadata for fast access
                    title:           ri.title || Core.currentProduction,
                    genre:           ri.genre || insPost.genre || 'â€”',
                    tone:            insPost.tone || 'â€”',
                    format:          insPost.format || 'â€”',
                    sceneCount:      scenesPost.length,
                    estimatedPages:  insPost.estimated_pages || schedPost.totalPages || scenesPost.length,
                    shootDays:       Math.max(1, insPost.shooting_days_estimate || schedPost.shootDays || 1),
                    budgetTier:      insPost.budget_tier || 'â€”',
                    nightScenes:     scenesPost.filter(function(s){ return ['NIGHT','DAWN','DUSK'].includes(s.daynight); }).length,
                    exteriorRatio:   Math.round((scenesPost.filter(function(s){ return s.intext === 'EXT' || s.intext === 'INT/EXT'; }).length / Math.max(1, scenesPost.length)) * 100) + '%',
                    highCxCount:     scenesPost.filter(function(s){ return s.complexity === 'HIGH'; }).length,
                    uniqueLocations:       locsPost.length,
                    nightExteriorCount:    insPost.nightExteriorCount || 0,
                    weaponSceneCount:      insPost.weapon_scene_count || 0,
                    advancedPrepCount:     insPost.advanced_prep_count || 0,
                    allPermits:            (insPost.all_permits || []).join(', '),
                    maxExtrasSingleScene:  insPost.max_extras_single || 0,
                    productionNotes:       insPost.production_notes || insPost.notes || ''
                };
                Core.save();
                // Refresh the doc card immediately
                try { if (typeof V10 !== 'undefined' && typeof V10.updateDocCard === 'function') V10.updateDocCard(); } catch(e) {}
            }
        } catch(metaErr) {
            console.warn('V11: Could not save scriptImport metadata:', metaErr);
        }

        // â”€â”€ POST-IMPORT: re-render Breakdown tab so it shows imported sheets â”€â”€
        try {
            if (typeof Breakdown !== 'undefined') {
                Breakdown.currentIdx = 0;
                // Breakdown will re-render when user navigates to it; also trigger now
                setTimeout(function() {
                    try { Breakdown.render(); } catch(e) {}
                }, 800);
            }
        } catch(brErr) {}

        // Post-import: show success notification
        luxNotify('\u2705 Script imported successfully into \u201C' + prodName + '\u201D', 'success', 4500);
        // Note: Budget Scale popup is triggered by the "Let's Go" button wired directly in showImportSuccessPopup
    };

    console.log('\u2705 V11: commitImport replaced with luxury async version');
}

/* â”€â”€â”€ Wait for ScriptImport, capture, install â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
waitFor11(
    function(){ return typeof ScriptImport !== 'undefined' && typeof ScriptImport.commitImport === 'function'; },
    function(){
        // Grab whatever commitImport is at this point (may be V10-wrapped or raw)
        // Running it with confirm pre-patched handles either case.
        _rawCommitImport = ScriptImport.commitImport.bind(ScriptImport);
        // Install immediately, then re-install after 200ms in case V10 wraps AFTER us
        installV11Commit();
        setTimeout(function(){
            if (typeof ScriptImport.commitImport.name !== 'undefined' && ScriptImport.commitImport.name === 'v11Commit') return; // already ours
            _rawCommitImport = ScriptImport.commitImport.bind(ScriptImport);
            installV11Commit();
        }, 250);
    },
    60, 250
);

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FIX 3 â€” NEW PRODUCTION: luxury toast only
   BSP is triggered by "Let's Go â†’" onclick in showSuccessNotification source
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
waitFor11(
    function(){ return typeof Productions !== 'undefined' && typeof Productions.showSuccessNotification === 'function'; },
    function(){
        const _origNotif = Productions.showSuccessNotification.bind(Productions);
        Productions.showSuccessNotification = function(prodName) {
            _origNotif(prodName);
            luxNotify('\uD83C\uDFAC \u201C' + prodName + '\u201D created â€” pick your budget scale.', 'info', 5000);
        };
        console.log('\u2705 V11: Productions.showSuccessNotification patched');
    }
);

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FIX 4 â€” GLOBAL alert() OVERRIDE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
setTimeout(function(){
    window.alert = function(msg) {
        const m = (msg||'').toLowerCase();
        let type = 'info';
        if (m.includes('error')||m.includes('fail')||m.includes('invalid')||m.includes('cannot')||m.includes('not found')) type = 'error';
        else if (m.includes('warn')||m.includes('exist')||m.includes('already')||m.includes('overwrite')) type = 'warn';
        else if (m.includes('success')||m.includes('saved')||m.includes('created')||m.includes('complete')||m.includes('imported')) type = 'success';
        luxNotify(msg, type);
    };
    console.log('\u2705 V11: window.alert() replaced globally');
}, 2000);

console.log('\uD83D\uDE80 DC ALACRITY V11 initialising...');

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ¬ SURPRISE â€” TYPE "ACTION" ANYWHERE (not in an input) FOR A CINEMATIC MOMENT
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
(function() {
    const SEQ = 'ACTION';
    let buf = '';
    document.addEventListener('keydown', function(e) {
        if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA' || e.target.isContentEditable) { buf = ''; return; }
        buf = (buf + e.key.toUpperCase()).slice(-SEQ.length);
        if (buf !== SEQ) return;
        buf = '';

        // Build the clapperboard overlay
        const el = document.createElement('div');
        el.style.cssText = 'position:fixed;inset:0;z-index:99999999;pointer-events:none;overflow:hidden;';
        el.innerHTML = `
<style>
@keyframes clap-slate-in{0%{transform:translateY(-100%) rotate(-6deg);opacity:0}60%{transform:translateY(8px) rotate(1deg);opacity:1}80%{transform:translateY(-4px) rotate(-0.5deg)}100%{transform:translateY(0) rotate(0)}}
@keyframes clap-arm{0%,100%{transform-origin:left center;transform:rotate(0deg)}30%{transform-origin:left center;transform:rotate(-52deg)}55%{transform-origin:left center;transform:rotate(0deg)}70%{transform-origin:left center;transform:rotate(-12deg)}85%{transform-origin:left center;transform:rotate(0deg)}}
@keyframes clap-flash{0%{opacity:0}8%{opacity:0.55}16%{opacity:0}100%{opacity:0}}
@keyframes clap-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.88) translateY(30px)}}
@keyframes clap-shake{0%,100%{transform:translate(0,0)}20%{transform:translate(-3px,2px)}40%{transform:translate(3px,-2px)}60%{transform:translate(-2px,3px)}80%{transform:translate(2px,-1px)}}
#v11-clap{animation:clap-slate-in 0.45s cubic-bezier(0.34,1.4,0.64,1) both, clap-out 0.5s ease-in 2.4s both;}
#v11-clap-arm{animation:clap-arm 0.55s cubic-bezier(0.4,0,0.2,1) 0.38s both;}
#v11-flash{animation:clap-flash 0.22s ease-out 0.52s both;}
#v11-clap-wrap{animation:clap-shake 0.12s ease 0.52s 2;}
</style>
<div id="v11-flash" style="position:fixed;inset:0;background:#fff;pointer-events:none;z-index:99999998;opacity:0;"></div>
<div id="v11-clap-wrap" style="position:fixed;top:50%;left:50%;transform:translate(-50%,-52%);z-index:99999999;pointer-events:none;">
  <div id="v11-clap" style="width:340px;filter:drop-shadow(0 30px 60px rgba(0,0,0,0.9)) drop-shadow(0 0 40px rgba(34,211,238,0.35));">
    <!-- Arm -->
    <div id="v11-clap-arm" style="position:absolute;top:-36px;left:0;width:340px;height:42px;background:repeating-linear-gradient(90deg,#1a1a1a 0px,#1a1a1a 28px,#f59e0b 28px,#f59e0b 56px);border:3px solid #111;border-radius:6px 6px 0 0;transform-origin:left center;z-index:2;"></div>
    <!-- Body -->
    <div style="background:linear-gradient(160deg,#0d0d0d,#1a1a1a);border:3px solid #333;border-radius:8px;padding:22px 28px 20px;position:relative;z-index:1;">
      <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px;">
        <div>
          <div style="font-family:'Courier New',monospace;font-size:9px;letter-spacing:2px;color:rgba(255,255,255,0.35);text-transform:uppercase;margin-bottom:3px;">DC ALACRITY</div>
          <div style="font-family:'Courier New',monospace;font-size:22px;font-weight:900;color:#fff;letter-spacing:1px;line-height:1;">SCENE 1</div>
          <div style="font-family:'Courier New',monospace;font-size:11px;color:#f59e0b;margin-top:3px;">TAKE 1</div>
        </div>
        <div style="text-align:right;">
          <div style="font-family:'Courier New',monospace;font-size:9px;color:rgba(255,255,255,0.35);margin-bottom:3px;">PROD</div>
          <div style="font-family:'Courier New',monospace;font-size:13px;font-weight:700;color:#22d3ee;max-width:140px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">${(typeof Core !== 'undefined' && Core.currentProduction) ? Core.currentProduction.replace(/_/g,' ') : 'UNTITLED'}</div>
          <div style="font-family:'Courier New',monospace;font-size:10px;color:rgba(255,255,255,0.4);margin-top:2px;">${new Date().toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'}).toUpperCase()}</div>
        </div>
      </div>
      <div style="border-top:1px solid rgba(255,255,255,0.1);padding-top:14px;display:flex;align-items:center;gap:10px;">
        <div style="font-family:'Courier New',monospace;font-size:10px;color:rgba(255,255,255,0.35);">DIR:</div>
        <div style="font-family:'Courier New',monospace;font-size:10px;color:rgba(255,255,255,0.6);">${(typeof Core !== 'undefined' && Core.data && Core.data.director) ? Core.data.director : 'TO BE ANNOUNCED'}</div>
        <div style="margin-left:auto;font-family:'Courier New',monospace;font-size:10px;color:#10b981;">â¬¤ RECORDING</div>
      </div>
      <div style="margin-top:12px;text-align:center;">
        <div style="font-family:'Bebas Neue','Courier New',monospace;font-size:38px;font-weight:900;color:#f59e0b;letter-spacing:6px;text-shadow:0 0 30px rgba(245,158,11,0.6);">ACTION!</div>
      </div>
    </div>
  </div>
</div>`;
        document.body.appendChild(el);
        setTimeout(function(){ try { el.remove(); } catch(e){} }, 3200);

        // Sound: short clap via Web Audio API
        try {
            const ctx = new (window.AudioContext || window.webkitAudioContext)();
            const buf2 = ctx.createBuffer(1, ctx.sampleRate * 0.12, ctx.sampleRate);
            const d = buf2.getChannelData(0);
            for (let i = 0; i < d.length; i++) d[i] = (Math.random()*2-1) * Math.exp(-i/(ctx.sampleRate*0.018));
            const src = ctx.createBufferSource();
            src.buffer = buf2;
            const gain = ctx.createGain();
            gain.gain.setValueAtTime(0.7, ctx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.12);
            src.connect(gain); gain.connect(ctx.destination);
            src.start(ctx.currentTime + 0.38);
        } catch(e){}
    });
    console.log('\uD83C\uDFAC V11 Easter egg: type ACTION (not in a field) for a surprise');
})();
})(); // end V11Suite
</script>
</body>
</html>